{"version":3,"file":"tableEditor.js","mappings":"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","sources":["webpack://list-table-editor/webpack/universalModuleDefinition","webpack://list-table-editor/./node_modules/tabulator-tables/dist/css/tabulator.min.css","webpack://list-table-editor/./src/tabulator.css","webpack://list-table-editor/./node_modules/css-loader/dist/runtime/api.js","webpack://list-table-editor/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://list-table-editor/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://list-table-editor/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://list-table-editor/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://list-table-editor/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://list-table-editor/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://list-table-editor/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://list-table-editor/webpack/bootstrap","webpack://list-table-editor/webpack/runtime/compat get default export","webpack://list-table-editor/webpack/runtime/define property getters","webpack://list-table-editor/webpack/runtime/hasOwnProperty shorthand","webpack://list-table-editor/webpack/runtime/nonce","webpack://list-table-editor/./node_modules/tabulator-tables/dist/js/tabulator_esm.mjs","webpack://list-table-editor/./node_modules/tabulator-tables/dist/css/tabulator.min.css?4407","webpack://list-table-editor/./src/tabulator.css?4b89","webpack://list-table-editor/./src/tableEditor.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn ","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.tabulator{background-color:#888;border:1px solid #999;font-size:14px;overflow:hidden;position:relative;text-align:left;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);-o-transform:translateZ(0);transform:translateZ(0)}.tabulator[tabulator-layout=fitDataFill] .tabulator-tableholder .tabulator-table{min-width:100%}.tabulator[tabulator-layout=fitDataTable]{display:inline-block}.tabulator.tabulator-block-select,.tabulator.tabulator-ranges .tabulator-cell:not(.tabulator-editing){user-select:none}.tabulator .tabulator-header{background-color:#e6e6e6;border-bottom:1px solid #999;box-sizing:border-box;color:#555;font-weight:700;outline:none;overflow:hidden;position:relative;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;white-space:nowrap;width:100%}.tabulator .tabulator-header.tabulator-header-hidden{display:none}.tabulator .tabulator-header .tabulator-header-contents{overflow:hidden;position:relative}.tabulator .tabulator-header .tabulator-header-contents .tabulator-headers{display:inline-block}.tabulator .tabulator-header .tabulator-col{background:#e6e6e6;border-right:1px solid #aaa;box-sizing:border-box;display:inline-flex;flex-direction:column;justify-content:flex-start;overflow:hidden;position:relative;text-align:left;vertical-align:bottom}.tabulator .tabulator-header .tabulator-col.tabulator-moving{background:#cdcdcd;border:1px solid #999;pointer-events:none;position:absolute}.tabulator .tabulator-header .tabulator-col.tabulator-range-highlight{background-color:#d6d6d6;color:#000}.tabulator .tabulator-header .tabulator-col.tabulator-range-selected{background-color:#3876ca;color:#fff}.tabulator .tabulator-header .tabulator-col .tabulator-col-content{box-sizing:border-box;padding:4px;position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button{padding:0 8px}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button:hover{cursor:pointer;opacity:.6}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title-holder{position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title{box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom;white-space:nowrap;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title.tabulator-col-title-wrap{text-overflow:clip;white-space:normal}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-title-editor{background:#fff;border:1px solid #999;box-sizing:border-box;padding:1px;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-header-popup-button+.tabulator-title-editor{width:calc(100% - 22px)}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{align-items:center;bottom:0;display:flex;position:absolute;right:4px;top:0}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #bbb;border-left:6px solid transparent;border-right:6px solid transparent;height:0;width:0}.tabulator .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{border-top:1px solid #aaa;display:flex;margin-right:-1px;overflow:hidden;position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter{box-sizing:border-box;margin-top:2px;position:relative;text-align:center;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter textarea{height:auto!important}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter svg{margin-top:3px}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter input::-ms-clear{height:0;width:0}.tabulator .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-right:25px}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable.tabulator-col-sorter-element:hover{background-color:#cdcdcd;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter{color:#bbb}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-bottom:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #bbb;border-top:none}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter{color:#666}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-bottom:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #666;border-top:none}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter{color:#666}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-top:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:none;border-top:6px solid #666;color:#666}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical .tabulator-col-content .tabulator-col-title{align-items:center;display:flex;justify-content:center;text-orientation:mixed;writing-mode:vertical-rl}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-col-vertical-flip .tabulator-col-title{transform:rotate(180deg)}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-title{padding-right:0;padding-top:20px}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable.tabulator-col-vertical-flip .tabulator-col-title{padding-bottom:20px;padding-right:0}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-sorter{bottom:auto;justify-content:center;left:0;right:0;top:4px}.tabulator .tabulator-header .tabulator-frozen{left:0;position:sticky;z-index:11}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator .tabulator-header .tabulator-calcs-holder{background:#f3f3f3!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;display:inline-block}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-header .tabulator-frozen-rows-holder{display:inline-block}.tabulator .tabulator-header .tabulator-frozen-rows-holder:empty{display:none}.tabulator .tabulator-tableholder{-webkit-overflow-scrolling:touch;overflow:auto;position:relative;white-space:nowrap;width:100%}.tabulator .tabulator-tableholder:focus{outline:none}.tabulator .tabulator-tableholder .tabulator-placeholder{align-items:center;box-sizing:border-box;display:flex;justify-content:center;min-width:100%;width:100%}.tabulator .tabulator-tableholder .tabulator-placeholder[tabulator-render-mode=virtual]{min-height:100%}.tabulator .tabulator-tableholder .tabulator-placeholder .tabulator-placeholder-contents{color:#ccc;display:inline-block;font-size:20px;font-weight:700;padding:10px;text-align:center;white-space:normal}.tabulator .tabulator-tableholder .tabulator-table{background-color:#fff;color:#333;display:inline-block;overflow:visible;position:relative;white-space:nowrap}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs{background:#e2e2e2!important;font-weight:700}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-top{border-bottom:2px solid #aaa}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-bottom{border-top:2px solid #aaa}.tabulator .tabulator-tableholder .tabulator-range-overlay{inset:0;pointer-events:none;position:absolute;z-index:10}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range{border:1px solid #2975dd;box-sizing:border-box;position:absolute}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range.tabulator-range-active:after{background-color:#2975dd;border-radius:999px;bottom:-3px;content:\"\";height:6px;position:absolute;right:-3px;width:6px}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range-cell-active{border:2px solid #2975dd;box-sizing:border-box;position:absolute}.tabulator .tabulator-footer{background-color:#e6e6e6;border-top:1px solid #999;color:#555;font-weight:700;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;white-space:nowrap}.tabulator .tabulator-footer .tabulator-footer-contents{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:5px 10px}.tabulator .tabulator-footer .tabulator-footer-contents:empty{display:none}.tabulator .tabulator-footer .tabulator-spreadsheet-tabs{margin-top:-5px;overflow-x:auto}.tabulator .tabulator-footer .tabulator-spreadsheet-tabs .tabulator-spreadsheet-tab{border:1px solid #999;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top:none;display:inline-block;font-size:.9em;padding:5px}.tabulator .tabulator-footer .tabulator-spreadsheet-tabs .tabulator-spreadsheet-tab:hover{cursor:pointer;opacity:.7}.tabulator .tabulator-footer .tabulator-spreadsheet-tabs .tabulator-spreadsheet-tab.tabulator-spreadsheet-tab-active{background:#fff}.tabulator .tabulator-footer .tabulator-calcs-holder{background:#f3f3f3!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;overflow:hidden;text-align:left;width:100%}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important;display:inline-block}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-footer .tabulator-calcs-holder:only-child{border-bottom:none;margin-bottom:-5px}.tabulator .tabulator-footer>*+.tabulator-page-counter{margin-left:10px}.tabulator .tabulator-footer .tabulator-page-counter{font-weight:400}.tabulator .tabulator-footer .tabulator-paginator{color:#555;flex:1;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:right}.tabulator .tabulator-footer .tabulator-page-size{border:1px solid #aaa;border-radius:3px;display:inline-block;margin:0 5px;padding:2px 5px}.tabulator .tabulator-footer .tabulator-pages{margin:0 7px}.tabulator .tabulator-footer .tabulator-page{background:hsla(0,0%,100%,.2);border:1px solid #aaa;border-radius:3px;display:inline-block;margin:0 2px;padding:2px 5px}.tabulator .tabulator-footer .tabulator-page.active{color:#d00}.tabulator .tabulator-footer .tabulator-page:disabled{opacity:.5}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-footer .tabulator-page:not(disabled):hover{background:rgba(0,0,0,.2);color:#fff;cursor:pointer}}.tabulator .tabulator-col-resize-handle{display:inline-block;margin-left:-3px;margin-right:-3px;position:relative;vertical-align:middle;width:6px;z-index:11}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-col-resize-handle:hover{cursor:ew-resize}}.tabulator .tabulator-col-resize-handle:last-of-type{margin-right:0;width:3px}.tabulator .tabulator-col-resize-guide{background-color:#999;height:100%;margin-left:-.5px;opacity:.5;position:absolute;top:0;width:4px}.tabulator .tabulator-row-resize-guide{background-color:#999;height:4px;left:0;margin-top:-.5px;opacity:.5;position:absolute;width:100%}.tabulator .tabulator-alert{align-items:center;background:rgba(0,0,0,.4);display:flex;height:100%;left:0;position:absolute;text-align:center;top:0;width:100%;z-index:100}.tabulator .tabulator-alert .tabulator-alert-msg{background:#fff;border-radius:10px;display:inline-block;font-size:16px;font-weight:700;margin:0 auto;padding:10px 20px}.tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-msg{border:4px solid #333;color:#000}.tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-error{border:4px solid #d00;color:#590000}.tabulator-row{background-color:#fff;box-sizing:border-box;min-height:22px;position:relative}.tabulator-row.tabulator-row-even{background-color:#efefef}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-selectable:hover{background-color:#bbb;cursor:pointer}}.tabulator-row.tabulator-selected{background-color:#9abcea}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-selected:hover{background-color:#769bcc;cursor:pointer}}.tabulator-row.tabulator-row-moving{background:#fff;border:1px solid #000}.tabulator-row.tabulator-moving{border-bottom:1px solid #aaa;border-top:1px solid #aaa;pointer-events:none;position:absolute;z-index:15}.tabulator-row.tabulator-range-highlight .tabulator-cell.tabulator-range-row-header{background-color:#d6d6d6;color:#000}.tabulator-row.tabulator-range-highlight.tabulator-range-selected .tabulator-cell.tabulator-range-row-header,.tabulator-row.tabulator-range-selected .tabulator-cell.tabulator-range-row-header{background-color:#3876ca;color:#fff}.tabulator-row .tabulator-row-resize-handle{bottom:0;height:5px;left:0;position:absolute;right:0}.tabulator-row .tabulator-row-resize-handle.prev{bottom:auto;top:0}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-row-resize-handle:hover{cursor:ns-resize}}.tabulator-row .tabulator-responsive-collapse{border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;padding:5px}.tabulator-row .tabulator-responsive-collapse:empty{display:none}.tabulator-row .tabulator-responsive-collapse table{font-size:14px}.tabulator-row .tabulator-responsive-collapse table tr td{position:relative}.tabulator-row .tabulator-responsive-collapse table tr td:first-of-type{padding-right:10px}.tabulator-row .tabulator-cell{border-right:1px solid #aaa;box-sizing:border-box;display:inline-block;outline:none;overflow:hidden;padding:4px;position:relative;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.tabulator-row .tabulator-cell.tabulator-row-header{background:#e6e6e6;border-bottom:1px solid #aaa;border-right:1px solid #999}.tabulator-row .tabulator-cell.tabulator-frozen{background-color:inherit;display:inline-block;left:0;position:sticky;z-index:11}.tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator-row .tabulator-cell.tabulator-editing{border:1px solid #1d68cd;outline:none;padding:0}.tabulator-row .tabulator-cell.tabulator-editing input,.tabulator-row .tabulator-cell.tabulator-editing select{background:transparent;border:1px;outline:none}.tabulator-row .tabulator-cell.tabulator-validation-fail{border:1px solid #d00}.tabulator-row .tabulator-cell.tabulator-validation-fail input,.tabulator-row .tabulator-cell.tabulator-validation-fail select{background:transparent;border:1px;color:#d00}.tabulator-row .tabulator-cell.tabulator-row-handle{align-items:center;display:inline-flex;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box{width:80%}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar{background:#666;height:3px;margin-top:2px;width:100%}.tabulator-row .tabulator-cell.tabulator-range-selected:not(.tabulator-range-only-cell-selected):not(.tabulator-range-row-header){background-color:#9abcea}.tabulator-row .tabulator-cell .tabulator-data-tree-branch-empty{display:inline-block;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-branch{border-bottom:2px solid #aaa;border-bottom-left-radius:1px;border-left:2px solid #aaa;display:inline-block;height:9px;margin-right:5px;margin-top:-9px;vertical-align:middle;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-control{align-items:center;background:rgba(0,0,0,.1);border:1px solid #333;border-radius:2px;display:inline-flex;height:11px;justify-content:center;margin-right:5px;overflow:hidden;vertical-align:middle;width:11px}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-cell .tabulator-data-tree-control:hover{background:rgba(0,0,0,.2);cursor:pointer}}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse{background:transparent;display:inline-block;height:7px;position:relative;width:1px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{background:#333;content:\"\";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand{background:#333;display:inline-block;height:7px;position:relative;width:1px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{background:#333;content:\"\";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle{align-items:center;background:#666;border-radius:20px;color:#fff;display:inline-flex;font-size:1.1em;font-weight:700;height:15px;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;width:15px}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle:hover{cursor:pointer;opacity:.7}}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-close{display:initial}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-open{display:none}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle svg{stroke:#fff}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle .tabulator-responsive-collapse-toggle-close{display:none}.tabulator-row .tabulator-cell .tabulator-traffic-light{border-radius:14px;display:inline-block;height:14px;width:14px}.tabulator-row.tabulator-group{background:#ccc;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;box-sizing:border-box;font-weight:700;min-width:100%;padding:5px 5px 5px 10px}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-group:hover{background-color:rgba(0,0,0,.1);cursor:pointer}}.tabulator-row.tabulator-group.tabulator-group-visible .tabulator-arrow{border-bottom:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;margin-right:10px}.tabulator-row.tabulator-group.tabulator-group-level-1{padding-left:30px}.tabulator-row.tabulator-group.tabulator-group-level-2{padding-left:50px}.tabulator-row.tabulator-group.tabulator-group-level-3{padding-left:70px}.tabulator-row.tabulator-group.tabulator-group-level-4{padding-left:90px}.tabulator-row.tabulator-group.tabulator-group-level-5{padding-left:110px}.tabulator-row.tabulator-group .tabulator-group-toggle{display:inline-block}.tabulator-row.tabulator-group .tabulator-arrow{border-bottom:6px solid transparent;border-left:6px solid #666;border-right:0;border-top:6px solid transparent;display:inline-block;height:0;margin-right:16px;vertical-align:middle;width:0}.tabulator-row.tabulator-group span{color:#d00;margin-left:10px}.tabulator-toggle{background:#dcdcdc;border:1px solid #ccc;box-sizing:border-box;display:flex;flex-direction:row}.tabulator-toggle.tabulator-toggle-on{background:#1c6cc2}.tabulator-toggle .tabulator-toggle-switch{background:#fff;border:1px solid #ccc;box-sizing:border-box}.tabulator-popup-container{-webkit-overflow-scrolling:touch;background:#fff;border:1px solid #aaa;box-shadow:0 0 5px 0 rgba(0,0,0,.2);box-sizing:border-box;display:inline-block;font-size:14px;overflow-y:auto;position:absolute;z-index:10000}.tabulator-popup{border-radius:3px;padding:5px}.tabulator-tooltip{border-radius:2px;box-shadow:none;font-size:12px;max-width:Min(500px,100%);padding:3px 5px;pointer-events:none}.tabulator-menu .tabulator-menu-item{box-sizing:border-box;padding:5px 10px;position:relative;user-select:none}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-disabled{opacity:.5}@media (hover:hover) and (pointer:fine){.tabulator-menu .tabulator-menu-item:not(.tabulator-menu-item-disabled):hover{background:#efefef;cursor:pointer}}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu{padding-right:25px}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu:after{border-color:#aaa;border-style:solid;border-width:1px 1px 0 0;content:\"\";display:inline-block;height:7px;position:absolute;right:10px;top:calc(5px + .4em);transform:rotate(45deg);vertical-align:top;width:7px}.tabulator-menu .tabulator-menu-separator{border-top:1px solid #aaa}.tabulator-edit-list{-webkit-overflow-scrolling:touch;font-size:14px;max-height:200px;overflow-y:auto}.tabulator-edit-list .tabulator-edit-list-item{color:#333;outline:none;padding:4px}.tabulator-edit-list .tabulator-edit-list-item.active{background:#1d68cd;color:#fff}.tabulator-edit-list .tabulator-edit-list-item.active.focused{outline:1px solid hsla(0,0%,100%,.5)}.tabulator-edit-list .tabulator-edit-list-item.focused{outline:1px solid #1d68cd}@media (hover:hover) and (pointer:fine){.tabulator-edit-list .tabulator-edit-list-item:hover{background:#1d68cd;color:#fff;cursor:pointer}}.tabulator-edit-list .tabulator-edit-list-placeholder{color:#333;padding:4px;text-align:center}.tabulator-edit-list .tabulator-edit-list-group{border-bottom:1px solid #aaa;color:#333;font-weight:700;padding:6px 4px 4px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-2,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-2{padding-left:12px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-3,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-3{padding-left:20px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-4,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-4{padding-left:28px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-5,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-5{padding-left:36px}.tabulator.tabulator-ltr{direction:ltr}.tabulator.tabulator-rtl{direction:rtl;text-align:initial}.tabulator.tabulator-rtl .tabulator-header .tabulator-col{border-left:1px solid #aaa;border-right:initial;text-align:initial}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{margin-left:-1px;margin-right:0}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-left:25px;padding-right:0}.tabulator.tabulator-rtl .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{left:8px;right:auto}.tabulator.tabulator-rtl .tabulator-tableholder .tabulator-range-overlay .tabulator-range.tabulator-range-active:after{background-color:#2975dd;border-radius:999px;bottom:-3px;content:\"\";height:6px;left:-3px;position:absolute;right:auto;width:6px}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell{border-left:1px solid #aaa;border-right:initial}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-branch{border-bottom-left-radius:0;border-bottom-right-radius:1px;border-left:initial;border-right:2px solid #aaa;margin-left:5px;margin-right:0}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-control{margin-left:5px;margin-right:0}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left{border-left:2px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right{border-right:2px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-col-resize-handle:last-of-type{margin-left:0;margin-right:-3px;width:3px}.tabulator.tabulator-rtl .tabulator-footer .tabulator-calcs-holder{text-align:initial}.tabulator-print-fullscreen{bottom:0;left:0;position:absolute;right:0;top:0;z-index:10000}body.tabulator-print-fullscreen-hide>:not(.tabulator-print-fullscreen){display:none!important}.tabulator-print-table{border-collapse:collapse}.tabulator-print-table .tabulator-data-tree-branch{border-bottom:2px solid #aaa;border-bottom-left-radius:1px;border-left:2px solid #aaa;display:inline-block;height:9px;margin-right:5px;margin-top:-9px;vertical-align:middle;width:7px}.tabulator-print-table .tabulator-print-table-group{background:#ccc;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;box-sizing:border-box;font-weight:700;min-width:100%;padding:5px 5px 5px 10px}@media (hover:hover) and (pointer:fine){.tabulator-print-table .tabulator-print-table-group:hover{background-color:rgba(0,0,0,.1);cursor:pointer}}.tabulator-print-table .tabulator-print-table-group.tabulator-group-visible .tabulator-arrow{border-bottom:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;margin-right:10px}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-1 td{padding-left:30px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-2 td{padding-left:50px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-3 td{padding-left:70px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-4 td{padding-left:90px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-5 td{padding-left:110px!important}.tabulator-print-table .tabulator-print-table-group .tabulator-group-toggle{display:inline-block}.tabulator-print-table .tabulator-print-table-group .tabulator-arrow{border-bottom:6px solid transparent;border-left:6px solid #666;border-right:0;border-top:6px solid transparent;display:inline-block;height:0;margin-right:16px;vertical-align:middle;width:0}.tabulator-print-table .tabulator-print-table-group span{color:#d00;margin-left:10px}.tabulator-print-table .tabulator-data-tree-control{align-items:center;background:rgba(0,0,0,.1);border:1px solid #333;border-radius:2px;display:inline-flex;height:11px;justify-content:center;margin-right:5px;overflow:hidden;vertical-align:middle;width:11px}@media (hover:hover) and (pointer:fine){.tabulator-print-table .tabulator-data-tree-control:hover{background:rgba(0,0,0,.2);cursor:pointer}}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse{background:transparent;display:inline-block;height:7px;position:relative;width:1px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{background:#333;content:\"\";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand{background:#333;display:inline-block;height:7px;position:relative;width:1px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{background:#333;content:\"\";height:1px;left:-3px;position:absolute;top:3px;width:7px}\n/*# sourceMappingURL=tabulator.min.css.map */`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tabulator-tables/dist/css/tabulator.scss\",\"webpack://./node_modules/tabulator-tables/dist/css/tabulator.min.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".tabulator {\\n  position: relative;\\n  border: 1px solid #999;\\n  background-color: #888;\\n  font-size: 14px;\\n  text-align: left;\\n  overflow: hidden;\\n  -webkit-transform: translateZ(0);\\n  -moz-transform: translateZ(0);\\n  -ms-transform: translateZ(0);\\n  -o-transform: translateZ(0);\\n  transform: translateZ(0); }\\n  .tabulator[tabulator-layout=\\\"fitDataFill\\\"] .tabulator-tableholder .tabulator-table {\\n    min-width: 100%; }\\n  .tabulator[tabulator-layout=\\\"fitDataTable\\\"] {\\n    display: inline-block; }\\n  .tabulator.tabulator-block-select {\\n    user-select: none; }\\n  .tabulator.tabulator-ranges .tabulator-cell:not(.tabulator-editing) {\\n    user-select: none; }\\n  .tabulator .tabulator-header {\\n    position: relative;\\n    box-sizing: border-box;\\n    width: 100%;\\n    border-bottom: 1px solid #999;\\n    background-color: #e6e6e6;\\n    color: #555;\\n    font-weight: bold;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    -moz-user-select: none;\\n    -khtml-user-select: none;\\n    -webkit-user-select: none;\\n    -o-user-select: none;\\n    outline: none; }\\n    .tabulator .tabulator-header.tabulator-header-hidden {\\n      display: none; }\\n    .tabulator .tabulator-header .tabulator-header-contents {\\n      position: relative;\\n      overflow: hidden; }\\n      .tabulator .tabulator-header .tabulator-header-contents .tabulator-headers {\\n        display: inline-block; }\\n    .tabulator .tabulator-header .tabulator-col {\\n      display: inline-flex;\\n      position: relative;\\n      box-sizing: border-box;\\n      flex-direction: column;\\n      justify-content: flex-start;\\n      border-right: 1px solid #aaa;\\n      background: #e6e6e6;\\n      text-align: left;\\n      vertical-align: bottom;\\n      overflow: hidden; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-moving {\\n        position: absolute;\\n        border: 1px solid #999;\\n        background: #cdcdcd;\\n        pointer-events: none; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-range-highlight {\\n        background-color: #D6D6D6;\\n        color: #000000; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-range-selected {\\n        background-color: #3876ca;\\n        color: #FFFFFF; }\\n      .tabulator .tabulator-header .tabulator-col .tabulator-col-content {\\n        box-sizing: border-box;\\n        position: relative;\\n        padding: 4px; }\\n        .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button {\\n          padding: 0 8px; }\\n          .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button:hover {\\n            cursor: pointer;\\n            opacity: .6; }\\n        .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title-holder {\\n          position: relative; }\\n        .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title {\\n          box-sizing: border-box;\\n          width: 100%;\\n          white-space: nowrap;\\n          overflow: hidden;\\n          text-overflow: ellipsis;\\n          vertical-align: bottom; }\\n          .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title.tabulator-col-title-wrap {\\n            white-space: normal;\\n            text-overflow: initial; }\\n          .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-title-editor {\\n            box-sizing: border-box;\\n            width: 100%;\\n            border: 1px solid #999;\\n            padding: 1px;\\n            background: #fff; }\\n          .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-header-popup-button + .tabulator-title-editor {\\n            width: calc(100% - 22px); }\\n        .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter {\\n          display: flex;\\n          align-items: center;\\n          position: absolute;\\n          top: 0;\\n          bottom: 0;\\n          right: 4px; }\\n          .tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter .tabulator-arrow {\\n            width: 0;\\n            height: 0;\\n            border-left: 6px solid transparent;\\n            border-right: 6px solid transparent;\\n            border-bottom: 6px solid #bbb; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols {\\n        position: relative;\\n        display: flex;\\n        border-top: 1px solid #aaa;\\n        overflow: hidden;\\n        margin-right: -1px; }\\n      .tabulator .tabulator-header .tabulator-col .tabulator-header-filter {\\n        position: relative;\\n        box-sizing: border-box;\\n        margin-top: 2px;\\n        width: 100%;\\n        text-align: center; }\\n        .tabulator .tabulator-header .tabulator-col .tabulator-header-filter textarea {\\n          height: auto !important; }\\n        .tabulator .tabulator-header .tabulator-col .tabulator-header-filter svg {\\n          margin-top: 3px; }\\n        .tabulator .tabulator-header .tabulator-col .tabulator-header-filter input::-ms-clear {\\n          width: 0;\\n          height: 0; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title {\\n        padding-right: 25px; }\\n      @media (hover: hover) and (pointer: fine) {\\n        .tabulator .tabulator-header .tabulator-col.tabulator-sortable.tabulator-col-sorter-element:hover {\\n          cursor: pointer;\\n          background-color: #cdcdcd; } }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=\\\"none\\\"] .tabulator-col-content .tabulator-col-sorter {\\n        color: #bbb; }\\n        @media (hover: hover) and (pointer: fine) {\\n          .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=\\\"none\\\"] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover {\\n            cursor: pointer;\\n            border-bottom: 6px solid #555; } }\\n        .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=\\\"none\\\"] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow {\\n          border-top: none;\\n          border-bottom: 6px solid #bbb; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=\\\"ascending\\\"] .tabulator-col-content .tabulator-col-sorter {\\n        color: #666; }\\n        @media (hover: hover) and (pointer: fine) {\\n          .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=\\\"ascending\\\"] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover {\\n            cursor: pointer;\\n            border-bottom: 6px solid #555; } }\\n        .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=\\\"ascending\\\"] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow {\\n          border-top: none;\\n          border-bottom: 6px solid #666; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=\\\"descending\\\"] .tabulator-col-content .tabulator-col-sorter {\\n        color: #666; }\\n        @media (hover: hover) and (pointer: fine) {\\n          .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=\\\"descending\\\"] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover {\\n            cursor: pointer;\\n            border-top: 6px solid #555; } }\\n        .tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=\\\"descending\\\"] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow {\\n          border-bottom: none;\\n          border-top: 6px solid #666;\\n          color: #666; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-vertical .tabulator-col-content .tabulator-col-title {\\n        writing-mode: vertical-rl;\\n        text-orientation: mixed;\\n        display: flex;\\n        align-items: center;\\n        justify-content: center; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-col-vertical-flip .tabulator-col-title {\\n        transform: rotate(180deg); }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-title {\\n        padding-right: 0;\\n        padding-top: 20px; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable.tabulator-col-vertical-flip .tabulator-col-title {\\n        padding-right: 0;\\n        padding-bottom: 20px; }\\n      .tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-sorter {\\n        justify-content: center;\\n        left: 0;\\n        right: 0;\\n        top: 4px;\\n        bottom: auto; }\\n    .tabulator .tabulator-header .tabulator-frozen {\\n      position: sticky;\\n      left: 0;\\n      z-index: 11; }\\n      .tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-left {\\n        border-right: 2px solid #aaa; }\\n      .tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-right {\\n        border-left: 2px solid #aaa; }\\n    .tabulator .tabulator-header .tabulator-calcs-holder {\\n      box-sizing: border-box;\\n      display: inline-block;\\n      background: #f3f3f3 !important;\\n      border-top: 1px solid #aaa;\\n      border-bottom: 1px solid #aaa; }\\n      .tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row {\\n        background: #f3f3f3 !important; }\\n        .tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle {\\n          display: none; }\\n    .tabulator .tabulator-header .tabulator-frozen-rows-holder {\\n      display: inline-block; }\\n      .tabulator .tabulator-header .tabulator-frozen-rows-holder:empty {\\n        display: none; }\\n  .tabulator .tabulator-tableholder {\\n    position: relative;\\n    width: 100%;\\n    white-space: nowrap;\\n    overflow: auto;\\n    -webkit-overflow-scrolling: touch; }\\n    .tabulator .tabulator-tableholder:focus {\\n      outline: none; }\\n    .tabulator .tabulator-tableholder .tabulator-placeholder {\\n      box-sizing: border-box;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      min-width: 100%;\\n      width: 100%; }\\n      .tabulator .tabulator-tableholder .tabulator-placeholder[tabulator-render-mode=\\\"virtual\\\"] {\\n        min-height: 100%; }\\n      .tabulator .tabulator-tableholder .tabulator-placeholder .tabulator-placeholder-contents {\\n        display: inline-block;\\n        text-align: center;\\n        padding: 10px;\\n        color: #ccc;\\n        font-weight: bold;\\n        font-size: 20px;\\n        white-space: normal; }\\n    .tabulator .tabulator-tableholder .tabulator-table {\\n      position: relative;\\n      display: inline-block;\\n      background-color: #fff;\\n      white-space: nowrap;\\n      overflow: visible;\\n      color: #333; }\\n      .tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs {\\n        font-weight: bold;\\n        background: #e2e2e2 !important; }\\n        .tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-top {\\n          border-bottom: 2px solid #aaa; }\\n        .tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-bottom {\\n          border-top: 2px solid #aaa; }\\n    .tabulator .tabulator-tableholder .tabulator-range-overlay {\\n      position: absolute;\\n      inset: 0;\\n      z-index: 10;\\n      pointer-events: none; }\\n      .tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range {\\n        position: absolute;\\n        box-sizing: border-box;\\n        border: 1px solid #2975DD; }\\n        .tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range.tabulator-range-active::after {\\n          content: '';\\n          position: absolute;\\n          right: -3px;\\n          bottom: -3px;\\n          width: 6px;\\n          height: 6px;\\n          background-color: #2975DD;\\n          border-radius: 999px; }\\n      .tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range-cell-active {\\n        position: absolute;\\n        box-sizing: border-box;\\n        border: 2px solid #2975DD; }\\n  .tabulator .tabulator-footer {\\n    border-top: 1px solid #999;\\n    background-color: #e6e6e6;\\n    color: #555;\\n    font-weight: bold;\\n    white-space: nowrap;\\n    user-select: none;\\n    -moz-user-select: none;\\n    -khtml-user-select: none;\\n    -webkit-user-select: none;\\n    -o-user-select: none; }\\n    .tabulator .tabulator-footer .tabulator-footer-contents {\\n      display: flex;\\n      flex-direction: row;\\n      align-items: center;\\n      justify-content: space-between;\\n      padding: 5px 10px; }\\n      .tabulator .tabulator-footer .tabulator-footer-contents:empty {\\n        display: none; }\\n    .tabulator .tabulator-footer .tabulator-spreadsheet-tabs {\\n      margin-top: -5px;\\n      overflow-x: auto; }\\n      .tabulator .tabulator-footer .tabulator-spreadsheet-tabs .tabulator-spreadsheet-tab {\\n        display: inline-block;\\n        padding: 5px;\\n        border: #999 1px solid;\\n        border-top: none;\\n        border-bottom-left-radius: 5px;\\n        border-bottom-right-radius: 5px;\\n        font-size: .9em; }\\n        .tabulator .tabulator-footer .tabulator-spreadsheet-tabs .tabulator-spreadsheet-tab:hover {\\n          cursor: pointer;\\n          opacity: .7; }\\n        .tabulator .tabulator-footer .tabulator-spreadsheet-tabs .tabulator-spreadsheet-tab.tabulator-spreadsheet-tab-active {\\n          background: #fff; }\\n    .tabulator .tabulator-footer .tabulator-calcs-holder {\\n      box-sizing: border-box;\\n      width: 100%;\\n      text-align: left;\\n      background: #f3f3f3 !important;\\n      border-bottom: 1px solid #aaa;\\n      border-top: 1px solid #aaa;\\n      overflow: hidden; }\\n      .tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row {\\n        display: inline-block;\\n        background: #f3f3f3 !important; }\\n        .tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle {\\n          display: none; }\\n      .tabulator .tabulator-footer .tabulator-calcs-holder:only-child {\\n        margin-bottom: -5px;\\n        border-bottom: none; }\\n    .tabulator .tabulator-footer > * + .tabulator-page-counter {\\n      margin-left: 10px; }\\n    .tabulator .tabulator-footer .tabulator-page-counter {\\n      font-weight: normal; }\\n    .tabulator .tabulator-footer .tabulator-paginator {\\n      flex: 1;\\n      text-align: right;\\n      color: #555;\\n      font-family: inherit;\\n      font-weight: inherit;\\n      font-size: inherit; }\\n    .tabulator .tabulator-footer .tabulator-page-size {\\n      display: inline-block;\\n      margin: 0 5px;\\n      padding: 2px 5px;\\n      border: 1px solid #aaa;\\n      border-radius: 3px; }\\n    .tabulator .tabulator-footer .tabulator-pages {\\n      margin: 0 7px; }\\n    .tabulator .tabulator-footer .tabulator-page {\\n      display: inline-block;\\n      margin: 0 2px;\\n      padding: 2px 5px;\\n      border: 1px solid #aaa;\\n      border-radius: 3px;\\n      background: rgba(255, 255, 255, 0.2); }\\n      .tabulator .tabulator-footer .tabulator-page.active {\\n        color: #d00; }\\n      .tabulator .tabulator-footer .tabulator-page:disabled {\\n        opacity: .5; }\\n      @media (hover: hover) and (pointer: fine) {\\n        .tabulator .tabulator-footer .tabulator-page:not(disabled):hover {\\n          cursor: pointer;\\n          background: rgba(0, 0, 0, 0.2);\\n          color: #fff; } }\\n  .tabulator .tabulator-col-resize-handle {\\n    position: relative;\\n    display: inline-block;\\n    width: 6px;\\n    margin-left: -3px;\\n    margin-right: -3px;\\n    z-index: 11;\\n    vertical-align: middle; }\\n    @media (hover: hover) and (pointer: fine) {\\n      .tabulator .tabulator-col-resize-handle:hover {\\n        cursor: ew-resize; } }\\n    .tabulator .tabulator-col-resize-handle:last-of-type {\\n      width: 3px;\\n      margin-right: 0; }\\n  .tabulator .tabulator-col-resize-guide {\\n    position: absolute;\\n    top: 0;\\n    width: 4px;\\n    height: 100%;\\n    margin-left: -0.5px;\\n    background-color: #999;\\n    opacity: .5; }\\n  .tabulator .tabulator-row-resize-guide {\\n    position: absolute;\\n    left: 0;\\n    width: 100%;\\n    height: 4px;\\n    margin-top: -0.5px;\\n    background-color: #999;\\n    opacity: .5; }\\n  .tabulator .tabulator-alert {\\n    position: absolute;\\n    display: flex;\\n    align-items: center;\\n    top: 0;\\n    left: 0;\\n    z-index: 100;\\n    height: 100%;\\n    width: 100%;\\n    background: rgba(0, 0, 0, 0.4);\\n    text-align: center; }\\n    .tabulator .tabulator-alert .tabulator-alert-msg {\\n      display: inline-block;\\n      margin: 0 auto;\\n      padding: 10px 20px;\\n      border-radius: 10px;\\n      background: #fff;\\n      font-weight: bold;\\n      font-size: 16px; }\\n      .tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-msg {\\n        border: 4px solid #333;\\n        color: #000; }\\n      .tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-error {\\n        border: 4px solid #D00;\\n        color: #590000; }\\n\\n.tabulator-row {\\n  position: relative;\\n  box-sizing: border-box;\\n  min-height: 22px;\\n  background-color: #fff; }\\n  .tabulator-row.tabulator-row-even {\\n    background-color: #EFEFEF; }\\n  @media (hover: hover) and (pointer: fine) {\\n    .tabulator-row.tabulator-selectable:hover {\\n      background-color: #bbb;\\n      cursor: pointer; } }\\n  .tabulator-row.tabulator-selected {\\n    background-color: #9ABCEA; }\\n  @media (hover: hover) and (pointer: fine) {\\n    .tabulator-row.tabulator-selected:hover {\\n      background-color: #769BCC;\\n      cursor: pointer; } }\\n  .tabulator-row.tabulator-row-moving {\\n    border: 1px solid #000;\\n    background: #fff; }\\n  .tabulator-row.tabulator-moving {\\n    position: absolute;\\n    border-top: 1px solid #aaa;\\n    border-bottom: 1px solid #aaa;\\n    pointer-events: none;\\n    z-index: 15; }\\n  .tabulator-row.tabulator-range-highlight .tabulator-cell.tabulator-range-row-header {\\n    background-color: #D6D6D6;\\n    color: #000000; }\\n  .tabulator-row.tabulator-range-highlight.tabulator-range-selected .tabulator-cell.tabulator-range-row-header {\\n    background-color: #3876ca;\\n    color: #FFFFFF; }\\n  .tabulator-row.tabulator-range-selected .tabulator-cell.tabulator-range-row-header {\\n    background-color: #3876ca;\\n    color: #FFFFFF; }\\n  .tabulator-row .tabulator-row-resize-handle {\\n    position: absolute;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    height: 5px; }\\n    .tabulator-row .tabulator-row-resize-handle.prev {\\n      top: 0;\\n      bottom: auto; }\\n    @media (hover: hover) and (pointer: fine) {\\n      .tabulator-row .tabulator-row-resize-handle:hover {\\n        cursor: ns-resize; } }\\n  .tabulator-row .tabulator-responsive-collapse {\\n    box-sizing: border-box;\\n    padding: 5px;\\n    border-top: 1px solid #aaa;\\n    border-bottom: 1px solid #aaa; }\\n    .tabulator-row .tabulator-responsive-collapse:empty {\\n      display: none; }\\n    .tabulator-row .tabulator-responsive-collapse table {\\n      font-size: 14px; }\\n      .tabulator-row .tabulator-responsive-collapse table tr td {\\n        position: relative; }\\n        .tabulator-row .tabulator-responsive-collapse table tr td:first-of-type {\\n          padding-right: 10px; }\\n  .tabulator-row .tabulator-cell {\\n    display: inline-block;\\n    position: relative;\\n    box-sizing: border-box;\\n    padding: 4px;\\n    border-right: 1px solid #aaa;\\n    vertical-align: middle;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    outline: none; }\\n    .tabulator-row .tabulator-cell.tabulator-row-header {\\n      border-right: 1px solid #999;\\n      border-bottom: 1px solid #aaa;\\n      background: #e6e6e6; }\\n    .tabulator-row .tabulator-cell.tabulator-frozen {\\n      display: inline-block;\\n      position: sticky;\\n      left: 0;\\n      background-color: inherit;\\n      z-index: 11; }\\n      .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left {\\n        border-right: 2px solid #aaa; }\\n      .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right {\\n        border-left: 2px solid #aaa; }\\n    .tabulator-row .tabulator-cell.tabulator-editing {\\n      border: 1px solid #1D68CD;\\n      outline: none;\\n      padding: 0; }\\n      .tabulator-row .tabulator-cell.tabulator-editing input, .tabulator-row .tabulator-cell.tabulator-editing select {\\n        border: 1px;\\n        background: transparent;\\n        outline: none; }\\n    .tabulator-row .tabulator-cell.tabulator-validation-fail {\\n      border: 1px solid #dd0000; }\\n      .tabulator-row .tabulator-cell.tabulator-validation-fail input, .tabulator-row .tabulator-cell.tabulator-validation-fail select {\\n        border: 1px;\\n        background: transparent;\\n        color: #dd0000; }\\n    .tabulator-row .tabulator-cell.tabulator-row-handle {\\n      display: inline-flex;\\n      align-items: center;\\n      justify-content: center;\\n      -moz-user-select: none;\\n      -khtml-user-select: none;\\n      -webkit-user-select: none;\\n      -o-user-select: none; }\\n      .tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box {\\n        width: 80%; }\\n        .tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar {\\n          width: 100%;\\n          height: 3px;\\n          margin-top: 2px;\\n          background: #666; }\\n    .tabulator-row .tabulator-cell.tabulator-range-selected:not(.tabulator-range-only-cell-selected):not(.tabulator-range-row-header) {\\n      background-color: #9ABCEA; }\\n    .tabulator-row .tabulator-cell .tabulator-data-tree-branch-empty {\\n      display: inline-block;\\n      width: 7px; }\\n    .tabulator-row .tabulator-cell .tabulator-data-tree-branch {\\n      display: inline-block;\\n      vertical-align: middle;\\n      height: 9px;\\n      width: 7px;\\n      margin-top: -9px;\\n      margin-right: 5px;\\n      border-bottom-left-radius: 1px;\\n      border-left: 2px solid #aaa;\\n      border-bottom: 2px solid #aaa; }\\n    .tabulator-row .tabulator-cell .tabulator-data-tree-control {\\n      display: inline-flex;\\n      justify-content: center;\\n      align-items: center;\\n      vertical-align: middle;\\n      height: 11px;\\n      width: 11px;\\n      margin-right: 5px;\\n      border: 1px solid #333;\\n      border-radius: 2px;\\n      background: rgba(0, 0, 0, 0.1);\\n      overflow: hidden; }\\n      @media (hover: hover) and (pointer: fine) {\\n        .tabulator-row .tabulator-cell .tabulator-data-tree-control:hover {\\n          cursor: pointer;\\n          background: rgba(0, 0, 0, 0.2); } }\\n      .tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse {\\n        display: inline-block;\\n        position: relative;\\n        height: 7px;\\n        width: 1px;\\n        background: transparent; }\\n        .tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after {\\n          position: absolute;\\n          content: \\\"\\\";\\n          left: -3px;\\n          top: 3px;\\n          height: 1px;\\n          width: 7px;\\n          background: #333; }\\n      .tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand {\\n        display: inline-block;\\n        position: relative;\\n        height: 7px;\\n        width: 1px;\\n        background: #333; }\\n        .tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand:after {\\n          position: absolute;\\n          content: \\\"\\\";\\n          left: -3px;\\n          top: 3px;\\n          height: 1px;\\n          width: 7px;\\n          background: #333; }\\n    .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle {\\n      display: inline-flex;\\n      align-items: center;\\n      justify-content: center;\\n      -moz-user-select: none;\\n      -khtml-user-select: none;\\n      -webkit-user-select: none;\\n      -o-user-select: none;\\n      height: 15px;\\n      width: 15px;\\n      border-radius: 20px;\\n      background: #666;\\n      color: #fff;\\n      font-weight: bold;\\n      font-size: 1.1em; }\\n      @media (hover: hover) and (pointer: fine) {\\n        .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle:hover {\\n          opacity: .7;\\n          cursor: pointer; } }\\n      .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-close {\\n        display: initial; }\\n      .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-open {\\n        display: none; }\\n      .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle svg {\\n        stroke: #fff; }\\n      .tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle .tabulator-responsive-collapse-toggle-close {\\n        display: none; }\\n    .tabulator-row .tabulator-cell .tabulator-traffic-light {\\n      display: inline-block;\\n      height: 14px;\\n      width: 14px;\\n      border-radius: 14px; }\\n  .tabulator-row.tabulator-group {\\n    box-sizing: border-box;\\n    border-bottom: 1px solid #999;\\n    border-right: 1px solid #aaa;\\n    border-top: 1px solid #999;\\n    padding: 5px;\\n    padding-left: 10px;\\n    background: #ccc;\\n    font-weight: bold;\\n    min-width: 100%; }\\n    @media (hover: hover) and (pointer: fine) {\\n      .tabulator-row.tabulator-group:hover {\\n        cursor: pointer;\\n        background-color: rgba(0, 0, 0, 0.1); } }\\n    .tabulator-row.tabulator-group.tabulator-group-visible .tabulator-arrow {\\n      margin-right: 10px;\\n      border-left: 6px solid transparent;\\n      border-right: 6px solid transparent;\\n      border-top: 6px solid #666;\\n      border-bottom: 0; }\\n    .tabulator-row.tabulator-group.tabulator-group-level-1 {\\n      padding-left: 30px; }\\n    .tabulator-row.tabulator-group.tabulator-group-level-2 {\\n      padding-left: 50px; }\\n    .tabulator-row.tabulator-group.tabulator-group-level-3 {\\n      padding-left: 70px; }\\n    .tabulator-row.tabulator-group.tabulator-group-level-4 {\\n      padding-left: 90px; }\\n    .tabulator-row.tabulator-group.tabulator-group-level-5 {\\n      padding-left: 110px; }\\n    .tabulator-row.tabulator-group .tabulator-group-toggle {\\n      display: inline-block; }\\n    .tabulator-row.tabulator-group .tabulator-arrow {\\n      display: inline-block;\\n      width: 0;\\n      height: 0;\\n      margin-right: 16px;\\n      border-top: 6px solid transparent;\\n      border-bottom: 6px solid transparent;\\n      border-right: 0;\\n      border-left: 6px solid #666;\\n      vertical-align: middle; }\\n    .tabulator-row.tabulator-group span {\\n      margin-left: 10px;\\n      color: #d00; }\\n\\n.tabulator-toggle {\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: row;\\n  border: 1px solid #ccc;\\n  background: #dcdcdc; }\\n  .tabulator-toggle.tabulator-toggle-on {\\n    background: #1c6cc2; }\\n  .tabulator-toggle .tabulator-toggle-switch {\\n    box-sizing: border-box;\\n    border: 1px solid #ccc;\\n    background: #fff; }\\n\\n.tabulator-popup-container {\\n  position: absolute;\\n  display: inline-block;\\n  box-sizing: border-box;\\n  background: #fff;\\n  border: 1px solid #aaa;\\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.2);\\n  font-size: 14px;\\n  overflow-y: auto;\\n  -webkit-overflow-scrolling: touch;\\n  z-index: 10000; }\\n\\n.tabulator-popup {\\n  padding: 5px;\\n  border-radius: 3px; }\\n\\n.tabulator-tooltip {\\n  max-width: Min(500px, 100%);\\n  padding: 3px 5px;\\n  border-radius: 2px;\\n  box-shadow: none;\\n  font-size: 12px;\\n  pointer-events: none; }\\n\\n.tabulator-menu .tabulator-menu-item {\\n  position: relative;\\n  box-sizing: border-box;\\n  padding: 5px 10px;\\n  user-select: none; }\\n  .tabulator-menu .tabulator-menu-item.tabulator-menu-item-disabled {\\n    opacity: .5; }\\n  @media (hover: hover) and (pointer: fine) {\\n    .tabulator-menu .tabulator-menu-item:not(.tabulator-menu-item-disabled):hover {\\n      cursor: pointer;\\n      background: #EFEFEF; } }\\n  .tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu {\\n    padding-right: 25px; }\\n    .tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu::after {\\n      display: inline-block;\\n      position: absolute;\\n      top: calc(5px + .4em);\\n      right: 10px;\\n      height: 7px;\\n      width: 7px;\\n      content: '';\\n      border-width: 1px 1px 0 0;\\n      border-style: solid;\\n      border-color: #aaa;\\n      vertical-align: top;\\n      transform: rotate(45deg); }\\n\\n.tabulator-menu .tabulator-menu-separator {\\n  border-top: 1px solid #aaa; }\\n\\n.tabulator-edit-list {\\n  max-height: 200px;\\n  font-size: 14px;\\n  overflow-y: auto;\\n  -webkit-overflow-scrolling: touch; }\\n  .tabulator-edit-list .tabulator-edit-list-item {\\n    padding: 4px;\\n    color: #333;\\n    outline: none; }\\n    .tabulator-edit-list .tabulator-edit-list-item.active {\\n      color: #fff;\\n      background: #1D68CD; }\\n      .tabulator-edit-list .tabulator-edit-list-item.active.focused {\\n        outline: 1px solid rgba(255, 255, 255, 0.5); }\\n    .tabulator-edit-list .tabulator-edit-list-item.focused {\\n      outline: 1px solid #1D68CD; }\\n    @media (hover: hover) and (pointer: fine) {\\n      .tabulator-edit-list .tabulator-edit-list-item:hover {\\n        cursor: pointer;\\n        color: #fff;\\n        background: #1D68CD; } }\\n  .tabulator-edit-list .tabulator-edit-list-placeholder {\\n    padding: 4px;\\n    color: #333;\\n    text-align: center; }\\n  .tabulator-edit-list .tabulator-edit-list-group {\\n    border-bottom: 1px solid #aaa;\\n    padding: 4px;\\n    padding-top: 6px;\\n    color: #333;\\n    font-weight: bold; }\\n  .tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-2, .tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-2 {\\n    padding-left: 12px; }\\n  .tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-3, .tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-3 {\\n    padding-left: 20px; }\\n  .tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-4, .tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-4 {\\n    padding-left: 28px; }\\n  .tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-5, .tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-5 {\\n    padding-left: 36px; }\\n\\n.tabulator.tabulator-ltr {\\n  direction: ltr; }\\n\\n.tabulator.tabulator-rtl {\\n  text-align: initial;\\n  direction: rtl; }\\n  .tabulator.tabulator-rtl .tabulator-header .tabulator-col {\\n    text-align: initial;\\n    border-left: 1px solid #aaa;\\n    border-right: initial; }\\n    .tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols {\\n      margin-right: initial;\\n      margin-left: -1px; }\\n    .tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title {\\n      padding-right: 0;\\n      padding-left: 25px; }\\n    .tabulator.tabulator-rtl .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter {\\n      left: 8px;\\n      right: initial; }\\n  .tabulator.tabulator-rtl .tabulator-tableholder .tabulator-range-overlay .tabulator-range.tabulator-range-active::after {\\n    content: '';\\n    position: absolute;\\n    left: -3px;\\n    right: initial;\\n    bottom: -3px;\\n    width: 6px;\\n    height: 6px;\\n    background-color: #2975DD;\\n    border-radius: 999px; }\\n  .tabulator.tabulator-rtl .tabulator-row .tabulator-cell {\\n    border-right: initial;\\n    border-left: 1px solid #aaa; }\\n    .tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-branch {\\n      margin-right: initial;\\n      margin-left: 5px;\\n      border-bottom-left-radius: initial;\\n      border-bottom-right-radius: 1px;\\n      border-left: initial;\\n      border-right: 2px solid #aaa; }\\n    .tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-control {\\n      margin-right: initial;\\n      margin-left: 5px; }\\n    .tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left {\\n      border-left: 2px solid #aaa; }\\n    .tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right {\\n      border-right: 2px solid #aaa; }\\n  .tabulator.tabulator-rtl .tabulator-row .tabulator-col-resize-handle:last-of-type {\\n    width: 3px;\\n    margin-left: 0;\\n    margin-right: -3px; }\\n  .tabulator.tabulator-rtl .tabulator-footer .tabulator-calcs-holder {\\n    text-align: initial; }\\n\\n.tabulator-print-fullscreen {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  z-index: 10000; }\\n\\nbody.tabulator-print-fullscreen-hide > *:not(.tabulator-print-fullscreen) {\\n  display: none !important; }\\n\\n.tabulator-print-table {\\n  border-collapse: collapse; }\\n  .tabulator-print-table .tabulator-data-tree-branch {\\n    display: inline-block;\\n    vertical-align: middle;\\n    height: 9px;\\n    width: 7px;\\n    margin-top: -9px;\\n    margin-right: 5px;\\n    border-bottom-left-radius: 1px;\\n    border-left: 2px solid #aaa;\\n    border-bottom: 2px solid #aaa; }\\n  .tabulator-print-table .tabulator-print-table-group {\\n    box-sizing: border-box;\\n    border-bottom: 1px solid #999;\\n    border-right: 1px solid #aaa;\\n    border-top: 1px solid #999;\\n    padding: 5px;\\n    padding-left: 10px;\\n    background: #ccc;\\n    font-weight: bold;\\n    min-width: 100%; }\\n    @media (hover: hover) and (pointer: fine) {\\n      .tabulator-print-table .tabulator-print-table-group:hover {\\n        cursor: pointer;\\n        background-color: rgba(0, 0, 0, 0.1); } }\\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-visible .tabulator-arrow {\\n      margin-right: 10px;\\n      border-left: 6px solid transparent;\\n      border-right: 6px solid transparent;\\n      border-top: 6px solid #666;\\n      border-bottom: 0; }\\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-level-1 td {\\n      padding-left: 30px !important; }\\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-level-2 td {\\n      padding-left: 50px !important; }\\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-level-3 td {\\n      padding-left: 70px !important; }\\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-level-4 td {\\n      padding-left: 90px !important; }\\n    .tabulator-print-table .tabulator-print-table-group.tabulator-group-level-5 td {\\n      padding-left: 110px !important; }\\n    .tabulator-print-table .tabulator-print-table-group .tabulator-group-toggle {\\n      display: inline-block; }\\n    .tabulator-print-table .tabulator-print-table-group .tabulator-arrow {\\n      display: inline-block;\\n      width: 0;\\n      height: 0;\\n      margin-right: 16px;\\n      border-top: 6px solid transparent;\\n      border-bottom: 6px solid transparent;\\n      border-right: 0;\\n      border-left: 6px solid #666;\\n      vertical-align: middle; }\\n    .tabulator-print-table .tabulator-print-table-group span {\\n      margin-left: 10px;\\n      color: #d00; }\\n  .tabulator-print-table .tabulator-data-tree-control {\\n    display: inline-flex;\\n    justify-content: center;\\n    align-items: center;\\n    vertical-align: middle;\\n    height: 11px;\\n    width: 11px;\\n    margin-right: 5px;\\n    border: 1px solid #333;\\n    border-radius: 2px;\\n    background: rgba(0, 0, 0, 0.1);\\n    overflow: hidden; }\\n    @media (hover: hover) and (pointer: fine) {\\n      .tabulator-print-table .tabulator-data-tree-control:hover {\\n        cursor: pointer;\\n        background: rgba(0, 0, 0, 0.2); } }\\n    .tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse {\\n      display: inline-block;\\n      position: relative;\\n      height: 7px;\\n      width: 1px;\\n      background: transparent; }\\n      .tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after {\\n        position: absolute;\\n        content: \\\"\\\";\\n        left: -3px;\\n        top: 3px;\\n        height: 1px;\\n        width: 7px;\\n        background: #333; }\\n    .tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand {\\n      display: inline-block;\\n      position: relative;\\n      height: 7px;\\n      width: 1px;\\n      background: #333; }\\n      .tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand:after {\\n        position: absolute;\\n        content: \\\"\\\";\\n        left: -3px;\\n        top: 3px;\\n        height: 1px;\\n        width: 7px;\\n        background: #333; }\\n\",\".tabulator{background-color:#888;border:1px solid #999;font-size:14px;overflow:hidden;position:relative;text-align:left;-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);-o-transform:translateZ(0);transform:translateZ(0)}.tabulator[tabulator-layout=fitDataFill] .tabulator-tableholder .tabulator-table{min-width:100%}.tabulator[tabulator-layout=fitDataTable]{display:inline-block}.tabulator.tabulator-block-select,.tabulator.tabulator-ranges .tabulator-cell:not(.tabulator-editing){user-select:none}.tabulator .tabulator-header{background-color:#e6e6e6;border-bottom:1px solid #999;box-sizing:border-box;color:#555;font-weight:700;outline:none;overflow:hidden;position:relative;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;white-space:nowrap;width:100%}.tabulator .tabulator-header.tabulator-header-hidden{display:none}.tabulator .tabulator-header .tabulator-header-contents{overflow:hidden;position:relative}.tabulator .tabulator-header .tabulator-header-contents .tabulator-headers{display:inline-block}.tabulator .tabulator-header .tabulator-col{background:#e6e6e6;border-right:1px solid #aaa;box-sizing:border-box;display:inline-flex;flex-direction:column;justify-content:flex-start;overflow:hidden;position:relative;text-align:left;vertical-align:bottom}.tabulator .tabulator-header .tabulator-col.tabulator-moving{background:#cdcdcd;border:1px solid #999;pointer-events:none;position:absolute}.tabulator .tabulator-header .tabulator-col.tabulator-range-highlight{background-color:#d6d6d6;color:#000}.tabulator .tabulator-header .tabulator-col.tabulator-range-selected{background-color:#3876ca;color:#fff}.tabulator .tabulator-header .tabulator-col .tabulator-col-content{box-sizing:border-box;padding:4px;position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button{padding:0 8px}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-header-popup-button:hover{cursor:pointer;opacity:.6}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title-holder{position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title{box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom;white-space:nowrap;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title.tabulator-col-title-wrap{text-overflow:clip;white-space:normal}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-title-editor{background:#fff;border:1px solid #999;box-sizing:border-box;padding:1px;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-title .tabulator-header-popup-button+.tabulator-title-editor{width:calc(100% - 22px)}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{align-items:center;bottom:0;display:flex;position:absolute;right:4px;top:0}.tabulator .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #bbb;border-left:6px solid transparent;border-right:6px solid transparent;height:0;width:0}.tabulator .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{border-top:1px solid #aaa;display:flex;margin-right:-1px;overflow:hidden;position:relative}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter{box-sizing:border-box;margin-top:2px;position:relative;text-align:center;width:100%}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter textarea{height:auto!important}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter svg{margin-top:3px}.tabulator .tabulator-header .tabulator-col .tabulator-header-filter input::-ms-clear{height:0;width:0}.tabulator .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-right:25px}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable.tabulator-col-sorter-element:hover{background-color:#cdcdcd;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter{color:#bbb}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-bottom:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=none] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #bbb;border-top:none}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter{color:#666}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-bottom:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=ascending] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:6px solid #666;border-top:none}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter{color:#666}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter.tabulator-col-sorter-element .tabulator-arrow:hover{border-top:6px solid #555;cursor:pointer}}.tabulator .tabulator-header .tabulator-col.tabulator-sortable[aria-sort=descending] .tabulator-col-content .tabulator-col-sorter .tabulator-arrow{border-bottom:none;border-top:6px solid #666;color:#666}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical .tabulator-col-content .tabulator-col-title{align-items:center;display:flex;justify-content:center;text-orientation:mixed;writing-mode:vertical-rl}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-col-vertical-flip .tabulator-col-title{transform:rotate(180deg)}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-title{padding-right:0;padding-top:20px}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable.tabulator-col-vertical-flip .tabulator-col-title{padding-bottom:20px;padding-right:0}.tabulator .tabulator-header .tabulator-col.tabulator-col-vertical.tabulator-sortable .tabulator-col-sorter{bottom:auto;justify-content:center;left:0;right:0;top:4px}.tabulator .tabulator-header .tabulator-frozen{left:0;position:sticky;z-index:11}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator .tabulator-header .tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator .tabulator-header .tabulator-calcs-holder{background:#f3f3f3!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;display:inline-block}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important}.tabulator .tabulator-header .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-header .tabulator-frozen-rows-holder{display:inline-block}.tabulator .tabulator-header .tabulator-frozen-rows-holder:empty{display:none}.tabulator .tabulator-tableholder{-webkit-overflow-scrolling:touch;overflow:auto;position:relative;white-space:nowrap;width:100%}.tabulator .tabulator-tableholder:focus{outline:none}.tabulator .tabulator-tableholder .tabulator-placeholder{align-items:center;box-sizing:border-box;display:flex;justify-content:center;min-width:100%;width:100%}.tabulator .tabulator-tableholder .tabulator-placeholder[tabulator-render-mode=virtual]{min-height:100%}.tabulator .tabulator-tableholder .tabulator-placeholder .tabulator-placeholder-contents{color:#ccc;display:inline-block;font-size:20px;font-weight:700;padding:10px;text-align:center;white-space:normal}.tabulator .tabulator-tableholder .tabulator-table{background-color:#fff;color:#333;display:inline-block;overflow:visible;position:relative;white-space:nowrap}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs{background:#e2e2e2!important;font-weight:700}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-top{border-bottom:2px solid #aaa}.tabulator .tabulator-tableholder .tabulator-table .tabulator-row.tabulator-calcs.tabulator-calcs-bottom{border-top:2px solid #aaa}.tabulator .tabulator-tableholder .tabulator-range-overlay{inset:0;pointer-events:none;position:absolute;z-index:10}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range{border:1px solid #2975dd;box-sizing:border-box;position:absolute}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range.tabulator-range-active:after{background-color:#2975dd;border-radius:999px;bottom:-3px;content:\\\"\\\";height:6px;position:absolute;right:-3px;width:6px}.tabulator .tabulator-tableholder .tabulator-range-overlay .tabulator-range-cell-active{border:2px solid #2975dd;box-sizing:border-box;position:absolute}.tabulator .tabulator-footer{background-color:#e6e6e6;border-top:1px solid #999;color:#555;font-weight:700;user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;white-space:nowrap}.tabulator .tabulator-footer .tabulator-footer-contents{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:5px 10px}.tabulator .tabulator-footer .tabulator-footer-contents:empty{display:none}.tabulator .tabulator-footer .tabulator-spreadsheet-tabs{margin-top:-5px;overflow-x:auto}.tabulator .tabulator-footer .tabulator-spreadsheet-tabs .tabulator-spreadsheet-tab{border:1px solid #999;border-bottom-left-radius:5px;border-bottom-right-radius:5px;border-top:none;display:inline-block;font-size:.9em;padding:5px}.tabulator .tabulator-footer .tabulator-spreadsheet-tabs .tabulator-spreadsheet-tab:hover{cursor:pointer;opacity:.7}.tabulator .tabulator-footer .tabulator-spreadsheet-tabs .tabulator-spreadsheet-tab.tabulator-spreadsheet-tab-active{background:#fff}.tabulator .tabulator-footer .tabulator-calcs-holder{background:#f3f3f3!important;border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;overflow:hidden;text-align:left;width:100%}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row{background:#f3f3f3!important;display:inline-block}.tabulator .tabulator-footer .tabulator-calcs-holder .tabulator-row .tabulator-col-resize-handle{display:none}.tabulator .tabulator-footer .tabulator-calcs-holder:only-child{border-bottom:none;margin-bottom:-5px}.tabulator .tabulator-footer>*+.tabulator-page-counter{margin-left:10px}.tabulator .tabulator-footer .tabulator-page-counter{font-weight:400}.tabulator .tabulator-footer .tabulator-paginator{color:#555;flex:1;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:right}.tabulator .tabulator-footer .tabulator-page-size{border:1px solid #aaa;border-radius:3px;display:inline-block;margin:0 5px;padding:2px 5px}.tabulator .tabulator-footer .tabulator-pages{margin:0 7px}.tabulator .tabulator-footer .tabulator-page{background:hsla(0,0%,100%,.2);border:1px solid #aaa;border-radius:3px;display:inline-block;margin:0 2px;padding:2px 5px}.tabulator .tabulator-footer .tabulator-page.active{color:#d00}.tabulator .tabulator-footer .tabulator-page:disabled{opacity:.5}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-footer .tabulator-page:not(disabled):hover{background:rgba(0,0,0,.2);color:#fff;cursor:pointer}}.tabulator .tabulator-col-resize-handle{display:inline-block;margin-left:-3px;margin-right:-3px;position:relative;vertical-align:middle;width:6px;z-index:11}@media (hover:hover) and (pointer:fine){.tabulator .tabulator-col-resize-handle:hover{cursor:ew-resize}}.tabulator .tabulator-col-resize-handle:last-of-type{margin-right:0;width:3px}.tabulator .tabulator-col-resize-guide{background-color:#999;height:100%;margin-left:-.5px;opacity:.5;position:absolute;top:0;width:4px}.tabulator .tabulator-row-resize-guide{background-color:#999;height:4px;left:0;margin-top:-.5px;opacity:.5;position:absolute;width:100%}.tabulator .tabulator-alert{align-items:center;background:rgba(0,0,0,.4);display:flex;height:100%;left:0;position:absolute;text-align:center;top:0;width:100%;z-index:100}.tabulator .tabulator-alert .tabulator-alert-msg{background:#fff;border-radius:10px;display:inline-block;font-size:16px;font-weight:700;margin:0 auto;padding:10px 20px}.tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-msg{border:4px solid #333;color:#000}.tabulator .tabulator-alert .tabulator-alert-msg.tabulator-alert-state-error{border:4px solid #d00;color:#590000}.tabulator-row{background-color:#fff;box-sizing:border-box;min-height:22px;position:relative}.tabulator-row.tabulator-row-even{background-color:#efefef}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-selectable:hover{background-color:#bbb;cursor:pointer}}.tabulator-row.tabulator-selected{background-color:#9abcea}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-selected:hover{background-color:#769bcc;cursor:pointer}}.tabulator-row.tabulator-row-moving{background:#fff;border:1px solid #000}.tabulator-row.tabulator-moving{border-bottom:1px solid #aaa;border-top:1px solid #aaa;pointer-events:none;position:absolute;z-index:15}.tabulator-row.tabulator-range-highlight .tabulator-cell.tabulator-range-row-header{background-color:#d6d6d6;color:#000}.tabulator-row.tabulator-range-highlight.tabulator-range-selected .tabulator-cell.tabulator-range-row-header,.tabulator-row.tabulator-range-selected .tabulator-cell.tabulator-range-row-header{background-color:#3876ca;color:#fff}.tabulator-row .tabulator-row-resize-handle{bottom:0;height:5px;left:0;position:absolute;right:0}.tabulator-row .tabulator-row-resize-handle.prev{bottom:auto;top:0}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-row-resize-handle:hover{cursor:ns-resize}}.tabulator-row .tabulator-responsive-collapse{border-bottom:1px solid #aaa;border-top:1px solid #aaa;box-sizing:border-box;padding:5px}.tabulator-row .tabulator-responsive-collapse:empty{display:none}.tabulator-row .tabulator-responsive-collapse table{font-size:14px}.tabulator-row .tabulator-responsive-collapse table tr td{position:relative}.tabulator-row .tabulator-responsive-collapse table tr td:first-of-type{padding-right:10px}.tabulator-row .tabulator-cell{border-right:1px solid #aaa;box-sizing:border-box;display:inline-block;outline:none;overflow:hidden;padding:4px;position:relative;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.tabulator-row .tabulator-cell.tabulator-row-header{background:#e6e6e6;border-bottom:1px solid #aaa;border-right:1px solid #999}.tabulator-row .tabulator-cell.tabulator-frozen{background-color:inherit;display:inline-block;left:0;position:sticky;z-index:11}.tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left{border-right:2px solid #aaa}.tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right{border-left:2px solid #aaa}.tabulator-row .tabulator-cell.tabulator-editing{border:1px solid #1d68cd;outline:none;padding:0}.tabulator-row .tabulator-cell.tabulator-editing input,.tabulator-row .tabulator-cell.tabulator-editing select{background:transparent;border:1px;outline:none}.tabulator-row .tabulator-cell.tabulator-validation-fail{border:1px solid #d00}.tabulator-row .tabulator-cell.tabulator-validation-fail input,.tabulator-row .tabulator-cell.tabulator-validation-fail select{background:transparent;border:1px;color:#d00}.tabulator-row .tabulator-cell.tabulator-row-handle{align-items:center;display:inline-flex;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box{width:80%}.tabulator-row .tabulator-cell.tabulator-row-handle .tabulator-row-handle-box .tabulator-row-handle-bar{background:#666;height:3px;margin-top:2px;width:100%}.tabulator-row .tabulator-cell.tabulator-range-selected:not(.tabulator-range-only-cell-selected):not(.tabulator-range-row-header){background-color:#9abcea}.tabulator-row .tabulator-cell .tabulator-data-tree-branch-empty{display:inline-block;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-branch{border-bottom:2px solid #aaa;border-bottom-left-radius:1px;border-left:2px solid #aaa;display:inline-block;height:9px;margin-right:5px;margin-top:-9px;vertical-align:middle;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-control{align-items:center;background:rgba(0,0,0,.1);border:1px solid #333;border-radius:2px;display:inline-flex;height:11px;justify-content:center;margin-right:5px;overflow:hidden;vertical-align:middle;width:11px}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-cell .tabulator-data-tree-control:hover{background:rgba(0,0,0,.2);cursor:pointer}}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse{background:transparent;display:inline-block;height:7px;position:relative;width:1px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{background:#333;content:\\\"\\\";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand{background:#333;display:inline-block;height:7px;position:relative;width:1px}.tabulator-row .tabulator-cell .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{background:#333;content:\\\"\\\";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle{align-items:center;background:#666;border-radius:20px;color:#fff;display:inline-flex;font-size:1.1em;font-weight:700;height:15px;justify-content:center;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;width:15px}@media (hover:hover) and (pointer:fine){.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle:hover{cursor:pointer;opacity:.7}}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-close{display:initial}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle.open .tabulator-responsive-collapse-toggle-open{display:none}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle svg{stroke:#fff}.tabulator-row .tabulator-cell .tabulator-responsive-collapse-toggle .tabulator-responsive-collapse-toggle-close{display:none}.tabulator-row .tabulator-cell .tabulator-traffic-light{border-radius:14px;display:inline-block;height:14px;width:14px}.tabulator-row.tabulator-group{background:#ccc;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;box-sizing:border-box;font-weight:700;min-width:100%;padding:5px 5px 5px 10px}@media (hover:hover) and (pointer:fine){.tabulator-row.tabulator-group:hover{background-color:rgba(0,0,0,.1);cursor:pointer}}.tabulator-row.tabulator-group.tabulator-group-visible .tabulator-arrow{border-bottom:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;margin-right:10px}.tabulator-row.tabulator-group.tabulator-group-level-1{padding-left:30px}.tabulator-row.tabulator-group.tabulator-group-level-2{padding-left:50px}.tabulator-row.tabulator-group.tabulator-group-level-3{padding-left:70px}.tabulator-row.tabulator-group.tabulator-group-level-4{padding-left:90px}.tabulator-row.tabulator-group.tabulator-group-level-5{padding-left:110px}.tabulator-row.tabulator-group .tabulator-group-toggle{display:inline-block}.tabulator-row.tabulator-group .tabulator-arrow{border-bottom:6px solid transparent;border-left:6px solid #666;border-right:0;border-top:6px solid transparent;display:inline-block;height:0;margin-right:16px;vertical-align:middle;width:0}.tabulator-row.tabulator-group span{color:#d00;margin-left:10px}.tabulator-toggle{background:#dcdcdc;border:1px solid #ccc;box-sizing:border-box;display:flex;flex-direction:row}.tabulator-toggle.tabulator-toggle-on{background:#1c6cc2}.tabulator-toggle .tabulator-toggle-switch{background:#fff;border:1px solid #ccc;box-sizing:border-box}.tabulator-popup-container{-webkit-overflow-scrolling:touch;background:#fff;border:1px solid #aaa;box-shadow:0 0 5px 0 rgba(0,0,0,.2);box-sizing:border-box;display:inline-block;font-size:14px;overflow-y:auto;position:absolute;z-index:10000}.tabulator-popup{border-radius:3px;padding:5px}.tabulator-tooltip{border-radius:2px;box-shadow:none;font-size:12px;max-width:Min(500px,100%);padding:3px 5px;pointer-events:none}.tabulator-menu .tabulator-menu-item{box-sizing:border-box;padding:5px 10px;position:relative;user-select:none}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-disabled{opacity:.5}@media (hover:hover) and (pointer:fine){.tabulator-menu .tabulator-menu-item:not(.tabulator-menu-item-disabled):hover{background:#efefef;cursor:pointer}}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu{padding-right:25px}.tabulator-menu .tabulator-menu-item.tabulator-menu-item-submenu:after{border-color:#aaa;border-style:solid;border-width:1px 1px 0 0;content:\\\"\\\";display:inline-block;height:7px;position:absolute;right:10px;top:calc(5px + .4em);transform:rotate(45deg);vertical-align:top;width:7px}.tabulator-menu .tabulator-menu-separator{border-top:1px solid #aaa}.tabulator-edit-list{-webkit-overflow-scrolling:touch;font-size:14px;max-height:200px;overflow-y:auto}.tabulator-edit-list .tabulator-edit-list-item{color:#333;outline:none;padding:4px}.tabulator-edit-list .tabulator-edit-list-item.active{background:#1d68cd;color:#fff}.tabulator-edit-list .tabulator-edit-list-item.active.focused{outline:1px solid hsla(0,0%,100%,.5)}.tabulator-edit-list .tabulator-edit-list-item.focused{outline:1px solid #1d68cd}@media (hover:hover) and (pointer:fine){.tabulator-edit-list .tabulator-edit-list-item:hover{background:#1d68cd;color:#fff;cursor:pointer}}.tabulator-edit-list .tabulator-edit-list-placeholder{color:#333;padding:4px;text-align:center}.tabulator-edit-list .tabulator-edit-list-group{border-bottom:1px solid #aaa;color:#333;font-weight:700;padding:6px 4px 4px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-2,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-2{padding-left:12px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-3,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-3{padding-left:20px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-4,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-4{padding-left:28px}.tabulator-edit-list .tabulator-edit-list-group.tabulator-edit-list-group-level-5,.tabulator-edit-list .tabulator-edit-list-item.tabulator-edit-list-group-level-5{padding-left:36px}.tabulator.tabulator-ltr{direction:ltr}.tabulator.tabulator-rtl{direction:rtl;text-align:initial}.tabulator.tabulator-rtl .tabulator-header .tabulator-col{border-left:1px solid #aaa;border-right:initial;text-align:initial}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-col-group .tabulator-col-group-cols{margin-left:-1px;margin-right:0}.tabulator.tabulator-rtl .tabulator-header .tabulator-col.tabulator-sortable .tabulator-col-title{padding-left:25px;padding-right:0}.tabulator.tabulator-rtl .tabulator-header .tabulator-col .tabulator-col-content .tabulator-col-sorter{left:8px;right:auto}.tabulator.tabulator-rtl .tabulator-tableholder .tabulator-range-overlay .tabulator-range.tabulator-range-active:after{background-color:#2975dd;border-radius:999px;bottom:-3px;content:\\\"\\\";height:6px;left:-3px;position:absolute;right:auto;width:6px}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell{border-left:1px solid #aaa;border-right:initial}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-branch{border-bottom-left-radius:0;border-bottom-right-radius:1px;border-left:initial;border-right:2px solid #aaa;margin-left:5px;margin-right:0}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell .tabulator-data-tree-control{margin-left:5px;margin-right:0}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-left{border-left:2px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-cell.tabulator-frozen.tabulator-frozen-right{border-right:2px solid #aaa}.tabulator.tabulator-rtl .tabulator-row .tabulator-col-resize-handle:last-of-type{margin-left:0;margin-right:-3px;width:3px}.tabulator.tabulator-rtl .tabulator-footer .tabulator-calcs-holder{text-align:initial}.tabulator-print-fullscreen{bottom:0;left:0;position:absolute;right:0;top:0;z-index:10000}body.tabulator-print-fullscreen-hide>:not(.tabulator-print-fullscreen){display:none!important}.tabulator-print-table{border-collapse:collapse}.tabulator-print-table .tabulator-data-tree-branch{border-bottom:2px solid #aaa;border-bottom-left-radius:1px;border-left:2px solid #aaa;display:inline-block;height:9px;margin-right:5px;margin-top:-9px;vertical-align:middle;width:7px}.tabulator-print-table .tabulator-print-table-group{background:#ccc;border-bottom:1px solid #999;border-right:1px solid #aaa;border-top:1px solid #999;box-sizing:border-box;font-weight:700;min-width:100%;padding:5px 5px 5px 10px}@media (hover:hover) and (pointer:fine){.tabulator-print-table .tabulator-print-table-group:hover{background-color:rgba(0,0,0,.1);cursor:pointer}}.tabulator-print-table .tabulator-print-table-group.tabulator-group-visible .tabulator-arrow{border-bottom:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #666;margin-right:10px}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-1 td{padding-left:30px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-2 td{padding-left:50px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-3 td{padding-left:70px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-4 td{padding-left:90px!important}.tabulator-print-table .tabulator-print-table-group.tabulator-group-level-5 td{padding-left:110px!important}.tabulator-print-table .tabulator-print-table-group .tabulator-group-toggle{display:inline-block}.tabulator-print-table .tabulator-print-table-group .tabulator-arrow{border-bottom:6px solid transparent;border-left:6px solid #666;border-right:0;border-top:6px solid transparent;display:inline-block;height:0;margin-right:16px;vertical-align:middle;width:0}.tabulator-print-table .tabulator-print-table-group span{color:#d00;margin-left:10px}.tabulator-print-table .tabulator-data-tree-control{align-items:center;background:rgba(0,0,0,.1);border:1px solid #333;border-radius:2px;display:inline-flex;height:11px;justify-content:center;margin-right:5px;overflow:hidden;vertical-align:middle;width:11px}@media (hover:hover) and (pointer:fine){.tabulator-print-table .tabulator-data-tree-control:hover{background:rgba(0,0,0,.2);cursor:pointer}}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse{background:transparent;display:inline-block;height:7px;position:relative;width:1px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-collapse:after{background:#333;content:\\\"\\\";height:1px;left:-3px;position:absolute;top:3px;width:7px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand{background:#333;display:inline-block;height:7px;position:relative;width:1px}.tabulator-print-table .tabulator-data-tree-control .tabulator-data-tree-control-expand:after{background:#333;content:\\\"\\\";height:1px;left:-3px;position:absolute;top:3px;width:7px}\\n/*# sourceMappingURL=tabulator.min.css.map */\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.tabulator-cell {\r\n    white-space: pre-wrap;\r\n    word-wrap: break-word;\r\n    height: auto; \r\n    font-family: inherit;\r\n    font-size: inherit;\r\n}\r\n\r\n.tabulator-cell input,\r\n.tabulator-cell textarea {\r\n    font-family: inherit;\r\n    font-size: inherit;\r\n    line-height: inherit;\r\n    padding: 0;\r\n    border: none;\r\n    background-color: transparent;\r\n    box-shadow: none;\r\n    outline: none;\r\n}\r\n\r\n.tabulator-row {\r\n    height: auto; \r\n}\r\n\r\nhtml, body {\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n#table {\r\n    height: 95%;\r\n    width: 100%;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/tabulator.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,qBAAqB;IACrB,qBAAqB;IACrB,YAAY;IACZ,oBAAoB;IACpB,kBAAkB;AACtB;;AAEA;;IAEI,oBAAoB;IACpB,kBAAkB;IAClB,oBAAoB;IACpB,UAAU;IACV,YAAY;IACZ,6BAA6B;IAC7B,gBAAgB;IAChB,aAAa;AACjB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,SAAS;IACT,UAAU;AACd;;AAEA;IACI,WAAW;IACX,WAAW;AACf\",\"sourcesContent\":[\".tabulator-cell {\\r\\n    white-space: pre-wrap;\\r\\n    word-wrap: break-word;\\r\\n    height: auto; \\r\\n    font-family: inherit;\\r\\n    font-size: inherit;\\r\\n}\\r\\n\\r\\n.tabulator-cell input,\\r\\n.tabulator-cell textarea {\\r\\n    font-family: inherit;\\r\\n    font-size: inherit;\\r\\n    line-height: inherit;\\r\\n    padding: 0;\\r\\n    border: none;\\r\\n    background-color: transparent;\\r\\n    box-shadow: none;\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.tabulator-row {\\r\\n    height: auto; \\r\\n}\\r\\n\\r\\nhtml, body {\\r\\n    height: 100%;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n#table {\\r\\n    height: 95%;\\r\\n    width: 100%;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nc = undefined;","/* Tabulator v6.3.0 (c) Oliver Folkerd 2024 */\nclass CoreFeature{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\t}\n\n\t//////////////////////////////////////////\n\t/////////////// DataLoad /////////////////\n\t//////////////////////////////////////////\n\n\treloadData(data, silent, columnsChanged){\n\t\treturn this.table.dataLoader.load(data, undefined, undefined, undefined, silent, columnsChanged);\n\t}\n\n\t//////////////////////////////////////////\n\t///////////// Localization ///////////////\n\t//////////////////////////////////////////\n\n\tlangText(){\n\t\treturn this.table.modules.localize.getText(...arguments);\n\t}\n\n\tlangBind(){\n\t\treturn this.table.modules.localize.bind(...arguments);\n\t}\n\n\tlangLocale(){\n\t\treturn this.table.modules.localize.getLocale(...arguments);\n\t}\n\n\n\t//////////////////////////////////////////\n\t////////// Inter Table Comms /////////////\n\t//////////////////////////////////////////\n\n\tcommsConnections(){\n\t\treturn this.table.modules.comms.getConnections(...arguments);\n\t}\n\n\tcommsSend(){\n\t\treturn this.table.modules.comms.send(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Layout  /////////////////\n\t//////////////////////////////////////////\n\n\tlayoutMode(){\n\t\treturn this.table.modules.layout.getMode();\n\t}\n\n\tlayoutRefresh(force){\n\t\treturn this.table.modules.layout.layout(force);\n\t}\n\n\n\t//////////////////////////////////////////\n\t/////////////// Event Bus ////////////////\n\t//////////////////////////////////////////\n\n\tsubscribe(){\n\t\treturn this.table.eventBus.subscribe(...arguments);\n\t}\n\n\tunsubscribe(){\n\t\treturn this.table.eventBus.unsubscribe(...arguments);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.table.eventBus.subscribed(key);\n\t}\n\n\tsubscriptionChange(){\n\t\treturn this.table.eventBus.subscriptionChange(...arguments);\n\t}\n\n\tdispatch(){\n\t\treturn this.table.eventBus.dispatch(...arguments);\n\t}\n\n\tchain(){\n\t\treturn this.table.eventBus.chain(...arguments);\n\t}\n\n\tconfirm(){\n\t\treturn this.table.eventBus.confirm(...arguments);\n\t}\n\n\tdispatchExternal(){\n\t\treturn this.table.externalEvents.dispatch(...arguments);\n\t}\n\n\tsubscribedExternal(key){\n\t\treturn this.table.externalEvents.subscribed(key);\n\t}\n\n\tsubscriptionChangeExternal(){\n\t\treturn this.table.externalEvents.subscriptionChange(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Options /////////////////\n\t//////////////////////////////////////////\n\n\toptions(key){\n\t\treturn this.table.options[key];\n\t}\n\n\tsetOption(key, value){\n\t\tif(typeof value !== \"undefined\"){\n\t\t\tthis.table.options[key] = value;\n\t\t}\n\n\t\treturn this.table.options[key];\n\t}\n\n\t//////////////////////////////////////////\n\t/////////// Deprecation Checks ///////////\n\t//////////////////////////////////////////\n\n\tdeprecationCheck(oldOption, newOption,  convert){\n\t\treturn this.table.deprecationAdvisor.check(oldOption, newOption,  convert);\n\t}\n\n\tdeprecationCheckMsg(oldOption, msg){\n\t\treturn this.table.deprecationAdvisor.checkMsg(oldOption, msg);\n\t}\n\n\tdeprecationMsg(msg){\n\t\treturn this.table.deprecationAdvisor.msg(msg);\n\t}\n\t//////////////////////////////////////////\n\t//////////////// Modules /////////////////\n\t//////////////////////////////////////////\n\n\tmodule(key){\n\t\treturn this.table.module(key);\n\t}\n}\n\nclass Helpers{\n\n\tstatic elVisible(el){\n\t\treturn !(el.offsetWidth <= 0 && el.offsetHeight <= 0);\n\t}\n\n\tstatic elOffset(el){\n\t\tvar box = el.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\n\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\n\t\t};\n\t}\n\n\tstatic retrieveNestedData(separator, field, data){\n\t\tvar structure = separator ? field.split(separator) : [field],\n\t\tlength = structure.length,\n\t\toutput;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tdata = data[structure[i]];\n\n\t\t\toutput = data;\n\n\t\t\tif(!data){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tstatic deepClone(obj, clone, list = []){\n\t\tvar objectProto = {}.__proto__,\n\t\tarrayProto = [].__proto__;\n\n\t\tif (!clone){\n\t\t\tclone = Object.assign(Array.isArray(obj) ? [] : {}, obj);\n\t\t}\n\n\t\tfor(var i in obj) {\n\t\t\tlet subject = obj[i],\n\t\t\tmatch, copy;\n\n\t\t\tif(subject != null && typeof subject === \"object\" && (subject.__proto__ === objectProto || subject.__proto__ === arrayProto)){\n\t\t\t\tmatch = list.findIndex((item) => {\n\t\t\t\t\treturn item.subject === subject;\n\t\t\t\t});\n\n\t\t\t\tif(match > -1){\n\t\t\t\t\tclone[i] = list[match].copy;\n\t\t\t\t}else {\n\t\t\t\t\tcopy = Object.assign(Array.isArray(subject) ? [] : {}, subject);\n\n\t\t\t\t\tlist.unshift({subject, copy});\n\n\t\t\t\t\tclone[i] = this.deepClone(subject, copy, list);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn clone;\n\t}\n}\n\nlet Popup$1 = class Popup extends CoreFeature{\n\tconstructor(table, element, parent){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = element;\n\t\tthis.container = this._lookupContainer();\n\t\t\n\t\tthis.parent = parent;\n\t\t\n\t\tthis.reversedX = false;\n\t\tthis.childPopup = null;\n\t\tthis.blurable = false;\n\t\tthis.blurCallback = null;\n\t\tthis.blurEventsBound = false;\n\t\tthis.renderedCallback = null;\n\t\t\n\t\tthis.visible = false;\n\t\tthis.hideable = true;\n\t\t\n\t\tthis.element.classList.add(\"tabulator-popup-container\");\n\t\t\n\t\tthis.blurEvent = this.hide.bind(this, false);\n\t\tthis.escEvent = this._escapeCheck.bind(this);\n\t\t\n\t\tthis.destroyBinding = this.tableDestroyed.bind(this);\n\t\tthis.destroyed = false;\n\t}\n\t\n\ttableDestroyed(){\n\t\tthis.destroyed = true;\n\t\tthis.hide(true);\n\t}\n\t\n\t_lookupContainer(){\n\t\tvar container = this.table.options.popupContainer;\n\t\t\n\t\tif(typeof container === \"string\"){\n\t\t\tcontainer = document.querySelector(container);\n\t\t\t\n\t\t\tif(!container){\n\t\t\t\tconsole.warn(\"Menu Error - no container element found matching selector:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t\t}\n\t\t}else if (container === true){\n\t\t\tcontainer = this.table.element;\n\t\t}\n\t\t\n\t\tif(container && !this._checkContainerIsParent(container)){\n\t\t\tcontainer = false;\n\t\t\tconsole.warn(\"Menu Error - container element does not contain this table:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t}\n\t\t\n\t\tif(!container){\n\t\t\tcontainer = document.body;\n\t\t}\n\t\t\n\t\treturn container;\n\t}\n\t\n\t_checkContainerIsParent(container, element = this.table.element){\n\t\tif(container === element){\n\t\t\treturn true;\n\t\t}else {\n\t\t\treturn element.parentNode ? this._checkContainerIsParent(container, element.parentNode) : false;\n\t\t}\n\t}\n\t\n\trenderCallback(callback){\n\t\tthis.renderedCallback = callback;\n\t}\n\t\n\tcontainerEventCoords(e){\n\t\tvar touch = !(e instanceof MouseEvent);\n\t\t\n\t\tvar x = touch ? e.touches[0].pageX : e.pageX;\n\t\tvar y = touch ? e.touches[0].pageY : e.pageY;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tlet parentOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\tx -= parentOffset.left;\n\t\t\ty -= parentOffset.top;\n\t\t}\n\t\t\n\t\treturn {x, y};\n\t}\n\t\n\telementPositionCoords(element, position = \"right\"){\n\t\tvar offset = Helpers.elOffset(element),\n\t\tcontainerOffset, x, y;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tcontainerOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\toffset.left -= containerOffset.left;\n\t\t\toffset.top -= containerOffset.top;\n\t\t}\n\t\t\n\t\tswitch(position){\n\t\t\tcase \"right\":\n\t\t\t\tx = offset.left + element.offsetWidth;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"bottom\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top + element.offsetHeight;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"left\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"top\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"center\":\n\t\t\t\tx = offset.left + (element.offsetWidth / 2);\n\t\t\t\ty = offset.top + (element.offsetHeight / 2);\n\t\t\t\tbreak;\n\t\t\t\n\t\t}\n\t\t\n\t\treturn {x, y, offset};\n\t}\n\t\n\tshow(origin, position){\n\t\tvar x, y, parentEl, parentOffset, coords;\n\t\t\n\t\tif(this.destroyed || this.table.destroyed){\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tif(origin instanceof HTMLElement){\n\t\t\tparentEl = origin;\n\t\t\tcoords = this.elementPositionCoords(origin, position);\n\t\t\t\n\t\t\tparentOffset = coords.offset;\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t}else if(typeof origin === \"number\"){\n\t\t\tparentOffset = {top:0, left:0};\n\t\t\tx = origin;\n\t\t\ty = position;\n\t\t}else {\n\t\t\tcoords = this.containerEventCoords(origin);\n\t\t\t\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t\tthis.reversedX = false;\n\t\t}\n\t\t\n\t\tthis.element.style.top = y + \"px\";\n\t\tthis.element.style.left = x + \"px\";\n\t\t\n\t\tthis.container.appendChild(this.element);\n\t\t\n\t\tif(typeof this.renderedCallback === \"function\"){\n\t\t\tthis.renderedCallback();\n\t\t}\n\t\t\n\t\tthis._fitToScreen(x, y, parentEl, parentOffset, position);\n\t\t\n\t\tthis.visible = true;\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.destroyBinding);\n\t\t\n\t\tthis.element.addEventListener(\"mousedown\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_fitToScreen(x, y, parentEl, parentOffset, position){\n\t\tvar scrollTop = this.container === document.body ? document.documentElement.scrollTop : this.container.scrollTop;\n\t\t\n\t\t//move menu to start on right edge if it is too close to the edge of the screen\n\t\tif((x + this.element.offsetWidth) >= this.container.offsetWidth || this.reversedX){\n\t\t\tthis.element.style.left = \"\";\n\t\t\t\n\t\t\tif(parentEl){\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - parentOffset.left) + \"px\";\n\t\t\t}else {\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - x) + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.reversedX = true;\n\t\t}\n\t\t\n\t\t//move menu to start on bottom edge if it is too close to the edge of the screen\n\t\tlet offsetHeight = Math.max(this.container.offsetHeight, scrollTop ? this.container.scrollHeight : 0);\n\t\tif((y + this.element.offsetHeight) > offsetHeight) {\n\t\t\tif(parentEl){\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight - parentEl.offsetHeight - 1) + \"px\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight + parentEl.offsetHeight + 1) + \"px\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.element.style.height = offsetHeight + \"px\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisVisible(){\n\t\treturn this.visible;\n\t}\n\t\n\thideOnBlur(callback){\n\t\tthis.blurable = true;\n\t\t\n\t\tif(this.visible){\n\t\t\tsetTimeout(() => {\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.table.rowManager.element.addEventListener(\"scroll\", this.blurEvent);\n\t\t\t\t\tthis.subscribe(\"cell-editing\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"click\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\t\twindow.addEventListener(\"resize\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"keydown\", this.escEvent);\n\n\t\t\t\t\tthis.blurEventsBound = true;\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t\t\n\t\t\tthis.blurCallback = callback;\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_escapeCheck(e){\n\t\tif(e.keyCode == 27){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\t\n\tblockHide(){\n\t\tthis.hideable = false;\n\t}\n\t\n\trestoreHide(){\n\t\tthis.hideable = true;\n\t}\n\t\n\thide(silent = false){\n\t\tif(this.visible && this.hideable){\n\t\t\tif(this.blurable && this.blurEventsBound){\n\t\t\t\tdocument.body.removeEventListener(\"keydown\", this.escEvent);\n\t\t\t\tdocument.body.removeEventListener(\"click\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\twindow.removeEventListener(\"resize\", this.blurEvent);\n\t\t\t\tthis.table.rowManager.element.removeEventListener(\"scroll\", this.blurEvent);\n\t\t\t\tthis.unsubscribe(\"cell-editing\", this.blurEvent);\n\n\t\t\t\tthis.blurEventsBound = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.childPopup){\n\t\t\t\tthis.childPopup.hide();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.childPopup = null;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.visible = false;\n\t\t\t\n\t\t\tif(this.blurCallback && !silent){\n\t\t\t\tthis.blurCallback();\n\t\t\t}\n\t\t\t\n\t\t\tthis.unsubscribe(\"table-destroy\", this.destroyBinding);\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\tchild(element){\n\t\tif(this.childPopup){\n\t\t\tthis.childPopup.hide();\n\t\t}\n\t\t\n\t\tthis.childPopup = new Popup(this.table, element, this);\n\t\t\n\t\treturn this.childPopup;\n\t}\n};\n\nclass Module extends CoreFeature{\n\t\n\tconstructor(table, name){\n\t\tsuper(table);\n\t\t\n\t\tthis._handler = null;\n\t}\n\t\n\tinitialize(){\n\t\t// setup module when table is initialized, to be overridden in module\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Options Registration ///////\n\t///////////////////////////////////\n\t\n\tregisterTableOption(key, value){\n\t\tthis.table.optionsList.register(key, value);\n\t}\n\t\n\tregisterColumnOption(key, value){\n\t\tthis.table.columnManager.optionsList.register(key, value);\n\t}\n\t\n\t///////////////////////////////////\n\t/// Public Function Registration ///\n\t///////////////////////////////////\n\t\n\tregisterTableFunction(name, func){\n\t\tif(typeof this.table[name] === \"undefined\"){\n\t\t\tthis.table[name] = (...args) => {\n\t\t\t\tthis.table.initGuard(name);\n\t\t\t\t\n\t\t\t\treturn func(...args);\n\t\t\t};\n\t\t}else {\n\t\t\tconsole.warn(\"Unable to bind table function, name already in use\", name);\n\t\t}\n\t}\n\t\n\tregisterComponentFunction(component, func, handler){\n\t\treturn this.table.componentFunctionBinder.bind(component, func, handler);\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Data Pipeline //////////\n\t///////////////////////////////////\n\t\n\tregisterDataHandler(handler, priority){\n\t\tthis.table.rowManager.registerDataPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tregisterDisplayHandler(handler, priority){\n\t\tthis.table.rowManager.registerDisplayPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tdisplayRows(adjust){\n\t\tvar index = this.table.rowManager.displayRows.length - 1, \n\t\tlookupIndex;\n\t\t\n\t\tif(this._handler){\n\t\t\tlookupIndex = this.table.rowManager.displayPipeline.findIndex((item) => {\n\t\t\t\treturn item.handler === this._handler;\n\t\t\t});\n\n\t\t\tif(lookupIndex > -1){\n\t\t\t\tindex = lookupIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(adjust){\n\t\t\tindex = index + adjust;\n\t\t}\n\n\t\tif(this._handler){\n\t\t\tif(index > -1){\n\t\t\t\treturn this.table.rowManager.getDisplayRows(index);\n\t\t\t}else {\n\t\t\t\treturn this.activeRows();\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\tactiveRows(){\n\t\treturn this.table.rowManager.activeRows;\n\t}\n\t\n\trefreshData(renderInPosition, handler){\n\t\tif(!handler){\n\t\t\thandler = this._handler;\n\t\t}\n\t\t\n\t\tif(handler){\n\t\t\tthis.table.rowManager.refreshActiveData(handler, false, renderInPosition);\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Footer Management ////////\n\t///////////////////////////////////\n\t\n\tfooterAppend(element){\n\t\treturn this.table.footerManager.append(element);\n\t}\n\t\n\tfooterPrepend(element){\n\t\treturn this.table.footerManager.prepend(element);\n\t}\n\t\n\tfooterRemove(element){\n\t\treturn this.table.footerManager.remove(element);\n\t} \n\t\n\t///////////////////////////////////\n\t//////// Popups Management ////////\n\t///////////////////////////////////\n\t\n\tpopup(menuEl, menuContainer){\n\t\treturn new Popup$1(this.table, menuEl, menuContainer);\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Alert Management ////////\n\t///////////////////////////////////\n\t\n\talert(content, type){\n\t\treturn this.table.alertManager.alert(content, type);\n\t}\n\t\n\tclearAlert(){\n\t\treturn this.table.alertManager.clear();\n\t}\n\t\n}\n\nvar defaultAccessors = {\r\n\trownum:function(value, data, type, params, column, row){\r\n\t\treturn row.getPosition();\r\n\t}\r\n};\n\nclass Accessor extends Module{\n\t\n\tstatic moduleName = \"accessor\";\n\n\t//load defaults\n\tstatic accessors = defaultAccessors;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"download\", \"clipboard\", \"print\", \"htmlOutput\"]; //list of accessor types\n\n\t\tthis.registerColumnOption(\"accessor\");\n\t\tthis.registerColumnOption(\"accessorParams\");\n\t\tthis.registerColumnOption(\"accessorData\");\n\t\tthis.registerColumnOption(\"accessorDataParams\");\n\t\tthis.registerColumnOption(\"accessorDownload\");\n\t\tthis.registerColumnOption(\"accessorDownloadParams\");\n\t\tthis.registerColumnOption(\"accessorClipboard\");\n\t\tthis.registerColumnOption(\"accessorClipboardParams\");\n\t\tthis.registerColumnOption(\"accessorPrint\");\n\t\tthis.registerColumnOption(\"accessorPrintParams\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutput\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutputParams\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-retrieve\", this.transformRow.bind(this));\n\t}\n\n\t//initialize column accessor\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\taccessor;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\taccessor = this.lookupAccessor(column.definition[key]);\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\taccessor:accessor,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.accessor = config;\n\t\t}\n\t}\n\n\tlookupAccessor(value){\n\t\tvar accessor = false;\n\n\t\t//set column accessor\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Accessor.accessors[value]){\n\t\t\t\t\taccessor = Accessor.accessors[value];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Accessor Error - No such accessor found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\taccessor = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn accessor;\n\t}\n\n\t//apply accessor to row\n\ttransformRow(row, type){\n\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\trowComponent = row.getComponent();\n\n\t\t//clone data object with deep copy to isolate internal data from returned result\n\t\tvar data = Helpers.deepClone(row.data || {});\n\n\t\tthis.table.columnManager.traverse(function(column){\n\t\t\tvar value, accessor, params, colComponent;\n\n\t\t\tif(column.modules.accessor){\n\n\t\t\t\taccessor = column.modules.accessor[key] || column.modules.accessor.accessor || false;\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tvalue = column.getFieldValue(data);\n\n\t\t\t\t\tif(value != \"undefined\"){\n\t\t\t\t\t\tcolComponent = column.getComponent();\n\t\t\t\t\t\tparams = typeof accessor.params === \"function\" ? accessor.params(value, data, type, colComponent, rowComponent) : accessor.params;\n\t\t\t\t\t\tcolumn.setFieldValue(data, accessor.accessor(value, data, type, params, colComponent, rowComponent));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn data;\n\t}\n}\n\nvar defaultConfig = {\n\tmethod: \"GET\",\n};\n\nfunction generateParamsList$1(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList$1(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList$1(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else {\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nfunction serializeParams(params){\n\tvar output = generateParamsList$1(params),\n\tencoded = [];\n\n\toutput.forEach(function(item){\n\t\tencoded.push(encodeURIComponent(item.key) + \"=\" + encodeURIComponent(item.value));\n\t});\n\n\treturn encoded.join(\"&\");\n}\n\nfunction urlBuilder(url, config, params){\n\tif(url){\n\t\tif(params && Object.keys(params).length){\n\t\t\tif(!config.method || config.method.toLowerCase() == \"get\"){\n\t\t\t\tconfig.method = \"get\";\n\n\t\t\t\turl += (url.includes(\"?\") ? \"&\" : \"?\") + serializeParams(params);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn url;\n}\n\nfunction defaultLoaderPromise(url, config, params){\n\tvar contentType;\n\n\treturn new Promise((resolve, reject) => {\n\t\t//set url\n\t\turl = this.urlGenerator.call(this.table, url, config, params);\n\n\t\t//set body content if not GET request\n\t\tif(config.method.toUpperCase() != \"GET\"){\n\t\t\tcontentType = typeof this.table.options.ajaxContentType === \"object\" ?  this.table.options.ajaxContentType : this.contentTypeFormatters[this.table.options.ajaxContentType];\n\t\t\tif(contentType){\n\n\t\t\t\tfor(var key in contentType.headers){\n\t\t\t\t\tif(!config.headers){\n\t\t\t\t\t\tconfig.headers = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof config.headers[key] === \"undefined\"){\n\t\t\t\t\t\tconfig.headers[key] = contentType.headers[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconfig.body = contentType.body.call(this, url, config, params);\n\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Ajax Error - Invalid ajaxContentType value:\", this.table.options.ajaxContentType);\n\t\t\t}\n\t\t}\n\n\t\tif(url){\n\t\t\t//configure headers\n\t\t\tif(typeof config.headers === \"undefined\"){\n\t\t\t\tconfig.headers = {};\n\t\t\t}\n\n\t\t\tif(typeof config.headers.Accept === \"undefined\"){\n\t\t\t\tconfig.headers.Accept = \"application/json\";\n\t\t\t}\n\n\t\t\tif(typeof config.headers[\"X-Requested-With\"] === \"undefined\"){\n\t\t\t\tconfig.headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t}\n\n\t\t\tif(typeof config.mode === \"undefined\"){\n\t\t\t\tconfig.mode = \"cors\";\n\t\t\t}\n\n\t\t\tif(config.mode == \"cors\"){\n\t\t\t\tif(typeof config.headers[\"Origin\"] === \"undefined\"){\n\t\t\t\t\tconfig.headers[\"Origin\"] = window.location.origin;\n\t\t\t\t}\n        \n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'same-origin';\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'include';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//send request\n\t\t\tfetch(url, config)\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.ok) {\n\t\t\t\t\t\tresponse.json()\n\t\t\t\t\t\t\t.then((data)=>{\n\t\t\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t\t\t}).catch((error)=>{\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t\tconsole.warn(\"Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\t\treject(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \", error);\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t}else {\n\t\t\tconsole.warn(\"Ajax Load Error - No URL Set\");\n\t\t\tresolve([]);\n\t\t}\n\t});\n}\n\nfunction generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else {\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nvar defaultContentTypeFormatters = {\n\t\"json\":{\n\t\theaders:{\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody:function(url, config, params){\n\t\t\treturn JSON.stringify(params);\n\t\t},\n\t},\n\t\"form\":{\n\t\theaders:{\n\t\t},\n\t\tbody:function(url, config, params){\n\n\t\t\tvar output = generateParamsList(params),\n\t\t\tform = new FormData();\n\n\t\t\toutput.forEach(function(item){\n\t\t\t\tform.append(item.key, item.value);\n\t\t\t});\n\n\t\t\treturn form;\n\t\t},\n\t},\n};\n\nclass Ajax extends Module{\n\n\tstatic moduleName = \"ajax\";\n\n\t//load defaults\n\tstatic defaultConfig = defaultConfig;\n\tstatic defaultURLGenerator = urlBuilder;\n\tstatic defaultLoaderPromise = defaultLoaderPromise;\n\tstatic contentTypeFormatters = defaultContentTypeFormatters;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {}; //hold config object for ajax request\n\t\tthis.url = \"\"; //request URL\n\t\tthis.urlGenerator = false;\n\t\tthis.params = false; //request parameters\n\t\t\n\t\tthis.loaderPromise = false;\n\t\t\n\t\tthis.registerTableOption(\"ajaxURL\", false); //url for ajax loading\n\t\tthis.registerTableOption(\"ajaxURLGenerator\", false);\n\t\tthis.registerTableOption(\"ajaxParams\", {});  //params for ajax loading\n\t\tthis.registerTableOption(\"ajaxConfig\", \"get\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxContentType\", \"form\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxRequestFunc\", false); //promise function\n\t\t\n\t\tthis.registerTableOption(\"ajaxRequesting\", function(){});\n\t\tthis.registerTableOption(\"ajaxResponse\", false);\n\t\t\n\t\tthis.contentTypeFormatters = Ajax.contentTypeFormatters;\n\t}\n\t\n\t//initialize setup options\n\tinitialize(){\n\t\tthis.loaderPromise = this.table.options.ajaxRequestFunc || Ajax.defaultLoaderPromise;\n\t\tthis.urlGenerator = this.table.options.ajaxURLGenerator || Ajax.defaultURLGenerator;\n\t\t\n\t\tif(this.table.options.ajaxURL){\n\t\t\tthis.setUrl(this.table.options.ajaxURL);\n\t\t}\n\n\n\t\tthis.setDefaultConfig(this.table.options.ajaxConfig);\n\t\t\n\t\tthis.registerTableFunction(\"getAjaxUrl\", this.getUrl.bind(this));\n\t\t\n\t\tthis.subscribe(\"data-loading\", this.requestDataCheck.bind(this));\n\t\tthis.subscribe(\"data-params\", this.requestParams.bind(this));\n\t\tthis.subscribe(\"data-load\", this.requestData.bind(this));\n\t}\n\t\n\trequestParams(data, config, silent, params){\n\t\tvar ajaxParams = this.table.options.ajaxParams;\n\t\t\n\t\tif(ajaxParams){\n\t\t\tif(typeof ajaxParams === \"function\"){\n\t\t\t\tajaxParams = ajaxParams.call(this.table);\n\t\t\t}\n\t\t\t\n\t\t\tparams = Object.assign(Object.assign({}, ajaxParams), params);\n\t\t}\t\t\n\t\t\n\t\treturn params;\n\t}\n\t\n\trequestDataCheck(data, params, config, silent){\n\t\treturn !!((!data && this.url) || typeof data === \"string\");\n\t}\n\t\n\trequestData(url, params, config, silent, previousData){\n\t\tvar ajaxConfig;\n\t\t\n\t\tif(!previousData && this.requestDataCheck(url)){\n\t\t\tif(url){\n\t\t\t\tthis.setUrl(url);\n\t\t\t}\n\t\t\t\n\t\t\tajaxConfig = this.generateConfig(config);\n\t\t\t\n\t\t\treturn this.sendRequest(this.url, params, ajaxConfig);\n\t\t}else {\n\t\t\treturn previousData;\n\t\t}\n\t}\n\t\n\tsetDefaultConfig(config = {}){\n\t\tthis.config = Object.assign({}, Ajax.defaultConfig);\n\n\t\tif(typeof config == \"string\"){\n\t\t\tthis.config.method = config;\n\t\t}else {\n\t\t\tObject.assign(this.config, config);\n\t\t}\n\t}\n\t\n\t//load config object\n\tgenerateConfig(config = {}){\n\t\tvar ajaxConfig = Object.assign({}, this.config);\n\t\t\n\t\tif(typeof config == \"string\"){\n\t\t\tajaxConfig.method = config;\n\t\t}else {\n\t\t\tObject.assign(ajaxConfig, config);\n\t\t}\n\t\t\n\t\treturn ajaxConfig;\n\t}\n\t\n\t//set request url\n\tsetUrl(url){\n\t\tthis.url = url;\n\t}\n\t\n\t//get request url\n\tgetUrl(){\n\t\treturn this.url;\n\t}\n\t\n\t//send ajax request\n\tsendRequest(url, params, config){\n\t\tif(this.table.options.ajaxRequesting.call(this.table, url, params) !== false){\n\t\t\treturn this.loaderPromise(url, config, params)\n\t\t\t\t.then((data)=>{\n\t\t\t\t\tif(this.table.options.ajaxResponse){\n\t\t\t\t\t\tdata = this.table.options.ajaxResponse.call(this.table, url, params, data);\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}else {\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n}\n\nvar defaultPasteActions = {\n\treplace:function(data){\n\t\treturn this.table.setData(data);\n\t},\n\tupdate:function(data){\n\t\treturn this.table.updateOrAddData(data);\n\t},\n\tinsert:function(data){\n\t\treturn this.table.addData(data);\n\t},\n};\n\nvar defaultPasteParsers = {\n\ttable:function(clipboard){\n\t\tvar data = [],\n\t\theaderFindSuccess = true,\n\t\tcolumns = this.table.columnManager.columns,\n\t\tcolumnMap = [],\n\t\trows = [];\n\t\t\n\t\t//get data from clipboard into array of columns and rows.\n\t\tclipboard = clipboard.split(\"\\n\");\n\t\t\n\t\tclipboard.forEach(function(row){\n\t\t\tdata.push(row.split(\"\\t\"));\n\t\t});\n\t\t\n\t\tif(data.length && !(data.length === 1 && data[0].length < 2)){\n\t\t\t\n\t\t\t//check if headers are present by title\n\t\t\tdata[0].forEach(function(value){\n\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\treturn value && column.definition.title && value.trim() && column.definition.title.trim() === value.trim();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(column){\n\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t}else {\n\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t//check if column headers are present by field\n\t\t\tif(!headerFindSuccess){\n\t\t\t\theaderFindSuccess = true;\n\t\t\t\tcolumnMap = [];\n\t\t\t\t\n\t\t\t\tdata[0].forEach(function(value){\n\t\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\t\treturn value && column.field && value.trim() && column.field.trim() === value.trim();\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t\t}else {\n\t\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(!headerFindSuccess){\n\t\t\t\t\tcolumnMap = this.table.columnManager.columnsByIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//remove header row if found\n\t\t\tif(headerFindSuccess){\n\t\t\t\tdata.shift();\n\t\t\t}\n\t\t\t\n\t\t\tdata.forEach(function(item){\n\t\t\t\tvar row = {};\n\t\t\t\t\n\t\t\t\titem.forEach(function(value, i){\n\t\t\t\t\tif(columnMap[i]){\n\t\t\t\t\t\trow[columnMap[i].field] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\trows.push(row);\n\t\t\t});\n\t\t\t\n\t\t\treturn rows;\n\t\t}else {\n\t\t\treturn false;\n\t\t}\n\t},\n};\n\nvar bindings$2 = {\r\n\tcopyToClipboard:[\"ctrl + 67\", \"meta + 67\"],\r\n};\n\nvar actions$2 = {\r\n\tcopyToClipboard:function(e){\r\n\t\tif(!this.table.modules.edit.currentCell){\r\n\t\t\tif(this.table.modExists(\"clipboard\", true)){\r\n\t\t\t\tthis.table.modules.clipboard.copy(false, true);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n};\n\nvar extensions$4 = {\r\n\tkeybindings:{\r\n\t\tbindings:bindings$2,\r\n\t\tactions:actions$2\r\n\t},\r\n};\n\nclass Clipboard extends Module{\n\n\tstatic moduleName = \"clipboard\";\n\tstatic moduleExtensions = extensions$4;\n\n\t//load defaults\n\tstatic pasteActions = defaultPasteActions;\n\tstatic pasteParsers = defaultPasteParsers;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = true;\n\t\tthis.pasteParser = function(){};\n\t\tthis.pasteAction = function(){};\n\t\tthis.customSelection = false;\n\t\tthis.rowRange = false;\n\t\tthis.blocked = true; //block copy actions not originating from this command\n\n\t\tthis.registerTableOption(\"clipboard\", false); //enable clipboard\n\t\tthis.registerTableOption(\"clipboardCopyStyled\", true); //formatted table data\n\t\tthis.registerTableOption(\"clipboardCopyConfig\", false); //clipboard config\n\t\tthis.registerTableOption(\"clipboardCopyFormatter\", false); //DEPRECATED - REMOVE in 5.0\n\t\tthis.registerTableOption(\"clipboardCopyRowRange\", \"active\"); //restrict clipboard to visible rows only\n\t\tthis.registerTableOption(\"clipboardPasteParser\", \"table\"); //convert pasted clipboard data to rows\n\t\tthis.registerTableOption(\"clipboardPasteAction\", \"insert\"); //how to insert pasted data into the table\n\n\t\tthis.registerColumnOption(\"clipboard\");\n\t\tthis.registerColumnOption(\"titleClipboard\");\n\t}\n\n\tinitialize(){\n\t\tthis.mode = this.table.options.clipboard;\n\n\t\tthis.rowRange = this.table.options.clipboardCopyRowRange;\n\n\t\tif(this.mode === true || this.mode === \"copy\"){\n\t\t\tthis.table.element.addEventListener(\"copy\", (e) => {\n\t\t\t\tvar plain, html, list;\n\n\t\t\t\tif(!this.blocked){\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif(this.customSelection){\n\t\t\t\t\t\tplain = this.customSelection;\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\n\t\t\t\t\t\tlist = this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig, this.table.options.clipboardCopyStyled, this.rowRange, \"clipboard\");\n\n\t\t\t\t\t\thtml = this.table.modules.export.generateHTMLTable(list);\n\t\t\t\t\t\tplain = html ? this.generatePlainContent(list) : \"\";\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t\thtml = this.table.options.clipboardCopyFormatter(\"html\", html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (window.clipboardData && window.clipboardData.setData) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', plain);\n\t\t\t\t\t} else if (e.clipboardData && e.clipboardData.setData) {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.setData) {\n\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchExternal(\"clipboardCopied\", plain, html);\n\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(this.mode === true || this.mode === \"paste\"){\n\t\t\tthis.table.element.addEventListener(\"paste\", (e) => {\n\t\t\t\tthis.paste(e);\n\t\t\t});\n\t\t}\n\n\t\tthis.setPasteParser(this.table.options.clipboardPasteParser);\n\t\tthis.setPasteAction(this.table.options.clipboardPasteAction);\n\n\t\tthis.registerTableFunction(\"copyToClipboard\", this.copy.bind(this));\n\t}\n\n\treset(){\n\t\tthis.blocked = true;\n\t\tthis.customSelection = false;\n\t}\n\n\tgeneratePlainContent (list) {\n\t\tvar output = [];\n\n\t\tlist.forEach((row) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach((col) => {\n\t\t\t\tvar value = \"\";\n\n\t\t\t\tif(col){\n\n\t\t\t\t\tif(row.type === \"group\"){\n\t\t\t\t\t\tcol.value = col.component.getKey();\n\t\t\t\t\t}\n\n\t\t\t\t\tif(col.value === null){\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t}else {\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tvalue = JSON.stringify(col.value);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tvalue = col.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trowData.push(value);\n\t\t\t});\n\n\t\t\toutput.push(rowData.join(\"\\t\"));\n\t\t});\n\n\t\treturn output.join(\"\\n\");\n\t}\n\n\tcopy (range, internal) {\n\t\tvar sel, textRange;\n\t\tthis.blocked = false;\n\t\tthis.customSelection = false;\n\t\n\n\t\tif (this.mode === true || this.mode === \"copy\") {\n\n\t\t\tthis.rowRange = range || this.table.options.clipboardCopyRowRange;\n\n\t\t\tif (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNodeContents(this.table.element);\n\t\t\t\tsel = window.getSelection();\n\n\t\t\t\tif (sel.toString() && internal) {\n\t\t\t\t\tthis.customSelection = sel.toString();\n\t\t\t\t}\n\n\t\t\t\tsel.removeAllRanges();\n\t\t\t\tsel.addRange(range);\n\t\t\t} else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\n\t\t\t\ttextRange = document.body.createTextRange();\n\t\t\t\ttextRange.moveToElementText(this.table.element);\n\t\t\t\ttextRange.select();\n\t\t\t}\n\n\t\t\tdocument.execCommand('copy');\n\n\t\t\tif (sel) {\n\t\t\t\tsel.removeAllRanges();\n\t\t\t}\n\t\t}\n\t}\n\n\t//PASTE EVENT HANDLING\n\tsetPasteAction(action){\n\n\t\tswitch(typeof action){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteAction = Clipboard.pasteActions[action];\n\n\t\t\t\tif(!this.pasteAction){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste action found:\", action);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteAction = action;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetPasteParser(parser){\n\t\tswitch(typeof parser){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteParser = Clipboard.pasteParsers[parser];\n\n\t\t\t\tif(!this.pasteParser){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste parser found:\", parser);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteParser = parser;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpaste(e){\n\t\tvar data, rowData, rows;\n\n\t\tif(this.checkPasteOrigin(e)){\n\n\t\t\tdata = this.getPasteData(e);\n\n\t\t\trowData = this.pasteParser.call(this, data);\n\n\t\t\tif(rowData){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif(this.table.modExists(\"mutator\")){\n\t\t\t\t\trowData = this.mutateData(rowData);\n\t\t\t\t}\n\n\t\t\t\trows = this.pasteAction.call(this, rowData);\n\n\t\t\t\tthis.dispatchExternal(\"clipboardPasted\", data, rowData, rows);\n\t\t\t}else {\n\t\t\t\tthis.dispatchExternal(\"clipboardPasteError\", data);\n\t\t\t}\n\t\t}\n\t}\n\n\tmutateData(data){\n\t\tvar output = [];\n\n\t\tif(Array.isArray(data)){\n\t\t\tdata.forEach((row) => {\n\t\t\t\toutput.push(this.table.modules.mutator.transformRow(row, \"clipboard\"));\n\t\t\t});\n\t\t}else {\n\t\t\toutput = data;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\n\tcheckPasteOrigin(e){\n\t\tvar valid = true;\n\t\tvar blocked = this.confirm(\"clipboard-paste\", [e]);\n\n\t\tif(blocked || ![\"DIV\", \"SPAN\"].includes(e.target.tagName)){\n\t\t\tvalid = false;\n\t\t}\n\n\t\treturn valid;\n\t}\n\n\tgetPasteData(e){\n\t\tvar data;\n\n\t\tif (window.clipboardData && window.clipboardData.getData) {\n\t\t\tdata = window.clipboardData.getData('Text');\n\t\t} else if (e.clipboardData && e.clipboardData.getData) {\n\t\t\tdata = e.clipboardData.getData('text/plain');\n\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.getData) {\n\t\t\tdata = e.originalEvent.clipboardData.getData('text/plain');\n\t\t}\n\n\t\treturn data;\n\t}\n}\n\nclass CalcComponent{\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n}\n\n//public cell object\nclass CellComponent {\n\n\tconstructor (cell){\n\t\tthis._cell = cell;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._cell.table.componentFunctionBinder.handle(\"cell\", target._cell, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetValue(){\n\t\treturn this._cell.getValue();\n\t}\n\n\tgetOldValue(){\n\t\treturn this._cell.getOldValue();\n\t}\n\n\tgetInitialValue(){\n\t\treturn this._cell.initialValue;\n\t}\n\n\tgetElement(){\n\t\treturn this._cell.getElement();\n\t}\n\n\tgetRow(){\n\t\treturn this._cell.row.getComponent();\n\t}\n\n\tgetData(transform){\n\t\treturn this._cell.row.getData(transform);\n\t}\n\tgetType(){\n\t\treturn \"cell\";\n\t}\n\tgetField(){\n\t\treturn this._cell.column.getField();\n\t}\n\n\tgetColumn(){\n\t\treturn this._cell.column.getComponent();\n\t}\n\n\tsetValue(value, mutate){\n\t\tif(typeof mutate == \"undefined\"){\n\t\t\tmutate = true;\n\t\t}\n\n\t\tthis._cell.setValue(value, mutate);\n\t}\n\n\trestoreOldValue(){\n\t\tthis._cell.setValueActual(this._cell.getOldValue());\n\t}\n\n\trestoreInitialValue(){\n\t\tthis._cell.setValueActual(this._cell.initialValue);\n\t}\n\n\tcheckHeight(){\n\t\tthis._cell.checkHeight();\n\t}\n\n\tgetTable(){\n\t\treturn this._cell.table;\n\t}\n\n\t_getSelf(){\n\t\treturn this._cell;\n\t}\n}\n\nclass Cell extends CoreFeature{\n\tconstructor(column, row){\n\t\tsuper(column.table);\n\n\t\tthis.table = column.table;\n\t\tthis.column = column;\n\t\tthis.row = row;\n\t\tthis.element = null;\n\t\tthis.value = null;\n\t\tthis.initialValue;\n\t\tthis.oldValue = null;\n\t\tthis.modules = {};\n\n\t\tthis.height = null;\n\t\tthis.width = null;\n\t\tthis.minWidth = null;\n\n\t\tthis.component = null;\n\n\t\tthis.loaded = false; //track if the cell has been added to the DOM yet\n\n\t\tthis.build();\n\t}\n\n\t//////////////// Setup Functions /////////////////\n\t//generate element\n\tbuild(){\n\t\tthis.generateElement();\n\n\t\tthis.setWidth();\n\n\t\tthis._configureCell();\n\n\t\tthis.setValueActual(this.column.getFieldValue(this.row.data));\n\n\t\tthis.initialValue = this.value;\n\t}\n\n\tgenerateElement(){\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.className = \"tabulator-cell\";\n\t\tthis.element.setAttribute(\"role\", \"gridcell\");\n\n\t\tif(this.column.isRowHeader){\n\t\t\tthis.element.classList.add(\"tabulator-row-header\");\n\t\t}\n\t}\n\n\t_configureCell(){\n\t\tvar element = this.element,\n\t\tfield = this.column.getField(),\n\t\tvertAligns = {\n\t\t\ttop:\"flex-start\",\n\t\t\tbottom:\"flex-end\",\n\t\t\tmiddle:\"center\",\n\t\t},\n\t\thozAligns = {\n\t\t\tleft:\"flex-start\",\n\t\t\tright:\"flex-end\",\n\t\t\tcenter:\"center\",\n\t\t};\n\n\t\t//set text alignment\n\t\telement.style.textAlign = this.column.hozAlign;\n\n\t\tif(this.column.vertAlign){\n\t\t\telement.style.display = \"inline-flex\";\n\n\t\t\telement.style.alignItems = vertAligns[this.column.vertAlign] || \"\";\n\n\t\t\tif(this.column.hozAlign){\n\t\t\t\telement.style.justifyContent = hozAligns[this.column.hozAlign] || \"\";\n\t\t\t}\n\t\t}\n\n\t\tif(field){\n\t\t\telement.setAttribute(\"tabulator-field\", field);\n\t\t}\n\n\t\t//add class to cell if needed\n\t\tif(this.column.definition.cssClass){\n\t\t\tvar classNames = this.column.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\telement.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.dispatch(\"cell-init\", this);\n\n\t\t//hide cell if not visible\n\t\tif(!this.column.visible){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//generate cell contents\n\t_generateContents(){\n\t\tvar val;\n\n\t\tval = this.chain(\"cell-format\", this, null, () => {\n\t\t\treturn this.element.innerHTML = this.value;\n\t\t});\n\n\t\tswitch(typeof val){\n\t\t\tcase \"object\":\n\t\t\t\tif(val instanceof Node){\n\n\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\t\t\t\tthis.element.appendChild(val);\n\t\t\t\t}else {\n\t\t\t\t\tthis.element.innerHTML = \"\";\n\n\t\t\t\t\tif(val != null){\n\t\t\t\t\t\tconsole.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tthis.element.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.element.innerHTML = val;\n\t\t}\n\t}\n\n\tcellRendered(){\n\t\tthis.dispatch(\"cell-rendered\", this);\n\t}\n\n\t//////////////////// Getters ////////////////////\n\tgetElement(containerOnly){\n\t\tif(!this.loaded){\n\t\t\tthis.loaded = true;\n\t\t\tif(!containerOnly){\n\t\t\t\tthis.layoutElement();\n\t\t\t}\n\t\t}\n\n\t\treturn this.element;\n\t}\n\n\tgetValue(){\n\t\treturn this.value;\n\t}\n\n\tgetOldValue(){\n\t\treturn this.oldValue;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tsetValue(value, mutate, force){\n\t\tvar changed = this.setValueProcessData(value, mutate, force);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-updated\", this);\n\n\t\t\tthis.cellRendered();\n\n\t\t\tif(this.column.definition.cellEdited){\n\t\t\t\tthis.column.definition.cellEdited.call(this.table, this.getComponent());\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"cellEdited\", this.getComponent());\n\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t}\n\t}\n\n\tsetValueProcessData(value, mutate, force){\n\t\tvar changed = false;\n\n\t\tif(this.value !== value || force){\n\n\t\t\tchanged = true;\n\n\t\t\tif(mutate){\n\t\t\t\tvalue = this.chain(\"cell-value-changing\", [this, value], null, value);\n\t\t\t}\n\t\t}\n\n\t\tthis.setValueActual(value);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-changed\", this);\n\t\t}\n\n\t\treturn changed;\n\t}\n\n\tsetValueActual(value){\n\t\tthis.oldValue = this.value;\n\n\t\tthis.value = value;\n\n\t\tthis.dispatch(\"cell-value-save-before\", this);\n\n\t\tthis.column.setFieldValue(this.row.data, value);\n\n\t\tthis.dispatch(\"cell-value-save-after\", this);\n\n\t\tif(this.loaded){\n\t\t\tthis.layoutElement();\n\t\t}\n\t}\n\n\tlayoutElement(){\n\t\tthis._generateContents();\n\n\t\tthis.dispatch(\"cell-layout\", this);\n\t}\n\n\tsetWidth(){\n\t\tthis.width = this.column.width;\n\t\tthis.element.style.width = this.column.widthStyled;\n\t}\n\n\tclearWidth(){\n\t\tthis.width = \"\";\n\t\tthis.element.style.width = \"\";\n\t}\n\n\tgetWidth(){\n\t\treturn this.width || this.element.offsetWidth;\n\t}\n\n\tsetMinWidth(){\n\t\tthis.minWidth = this.column.minWidth;\n\t\tthis.element.style.minWidth = this.column.minWidthStyled;\n\t}\n\n\tsetMaxWidth(){\n\t\tthis.maxWidth = this.column.maxWidth;\n\t\tthis.element.style.maxWidth = this.column.maxWidthStyled;\n\t}\n\n\tcheckHeight(){\n\t\t// var height = this.element.css(\"height\");\n\t\tthis.row.reinitializeHeight();\n\t}\n\n\tclearHeight(){\n\t\tthis.element.style.height = \"\";\n\t\tthis.height = null;\n\n\t\tthis.dispatch(\"cell-height\", this, \"\");\n\t}\n\n\tsetHeight(){\n\t\tthis.height = this.row.height;\n\t\tthis.element.style.height = this.row.heightStyled;\n\n\t\tthis.dispatch(\"cell-height\", this, this.row.heightStyled);\n\t}\n\n\tgetHeight(){\n\t\treturn this.height || this.element.offsetHeight;\n\t}\n\n\tshow(){\n\t\tthis.element.style.display = this.column.vertAlign ? \"inline-flex\" : \"\";\n\t}\n\n\thide(){\n\t\tthis.element.style.display = \"none\";\n\t}\n\n\tdelete(){\n\t\tthis.dispatch(\"cell-delete\", this);\n\n\t\tif(!this.table.rowManager.redrawBlock && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\n\t\tthis.element = false;\n\t\tthis.column.deleteCell(this);\n\t\tthis.row.deleteCell(this);\n\t\tthis.calcs = {};\n\t}\n\n\tgetIndex(){\n\t\treturn this.row.getCellIndex(this);\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new CellComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n\n//public column object\nclass ColumnComponent {\n\tconstructor (column){\n\t\tthis._column = column;\n\t\tthis.type = \"ColumnComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._column.table.componentFunctionBinder.handle(\"column\", target._column, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetElement(){\n\t\treturn this._column.getElement();\n\t}\n\n\tgetDefinition(){\n\t\treturn this._column.getDefinition();\n\t}\n\n\tgetField(){\n\t\treturn this._column.getField();\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this._column.getTitleDownload();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._column.cells.forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tisVisible(){\n\t\treturn this._column.visible;\n\t}\n\n\tshow(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.show();\n\t\t\t});\n\t\t}else {\n\t\t\tthis._column.show();\n\t\t}\n\t}\n\n\thide(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.hide();\n\t\t\t});\n\t\t}else {\n\t\t\tthis._column.hide();\n\t\t}\n\t}\n\n\ttoggle(){\n\t\tif(this._column.visible){\n\t\t\tthis.hide();\n\t\t}else {\n\t\t\tthis.show();\n\t\t}\n\t}\n\n\tdelete(){\n\t\treturn this._column.delete();\n\t}\n\n\tgetSubColumns(){\n\t\tvar output = [];\n\n\t\tif(this._column.columns.length){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\toutput.push(column.getComponent());\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetParentColumn(){\n\t\treturn this._column.getParentComponent();\n\t}\n\n\t_getSelf(){\n\t\treturn this._column;\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._column.table.columnManager.scrollToColumn(this._column, position, ifVisible);\n\t}\n\n\tgetTable(){\n\t\treturn this._column.table;\n\t}\n\n\tmove(to, after){\n\t\tvar toColumn = this._column.table.columnManager.findColumn(to);\n\n\t\tif(toColumn){\n\t\t\tthis._column.table.columnManager.moveColumn(this._column, toColumn, after);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t}\n\t}\n\n\tgetNextColumn(){\n\t\tvar nextCol = this._column.nextColumn();\n\n\t\treturn nextCol ? nextCol.getComponent() : false;\n\t}\n\n\tgetPrevColumn(){\n\t\tvar prevCol = this._column.prevColumn();\n\n\t\treturn prevCol ? prevCol.getComponent() : false;\n\t}\n\n\tupdateDefinition(updates){\n\t\treturn this._column.updateDefinition(updates);\n\t}\n\n\tgetWidth(){\n\t\treturn this._column.getWidth();\n\t}\n\n\tsetWidth(width){\n\t\tvar result;\n\n\t\tif(width === true){\n\t\t\tresult =  this._column.reinitializeWidth(true);\n\t\t}else {\n\t\t\tresult =  this._column.setWidth(width);\n\t\t}\n\n\t\tthis._column.table.columnManager.rerenderColumns(true);\n\n\t\treturn result;\n\t}\n}\n\nvar defaultColumnOptions = {\n\t\"title\": undefined,\n\t\"field\": undefined,\n\t\"columns\": undefined,\n\t\"visible\": undefined,\n\t\"hozAlign\": undefined,\n\t\"vertAlign\": undefined,\n\t\"width\": undefined,\n\t\"minWidth\": 40,\n\t\"maxWidth\": undefined,\n\t\"maxInitialWidth\": undefined,\n\t\"cssClass\": undefined,\n\t\"variableHeight\": undefined,\n\t\"headerVertical\": undefined,\n\t\"headerHozAlign\": undefined,\n\t\"headerWordWrap\": false,\n\t\"editableTitle\": undefined,\n};\n\nclass Column extends CoreFeature{\n\t\n\tstatic defaultOptionList = defaultColumnOptions;\n\t\n\tconstructor(def, parent, rowHeader){\n\t\tsuper(parent.table);\n\t\t\n\t\tthis.definition = def; //column definition\n\t\tthis.parent = parent; //hold parent object\n\t\tthis.type = \"column\"; //type of element\n\t\tthis.columns = []; //child columns\n\t\tthis.cells = []; //cells bound to this column\n\t\tthis.isGroup = false;\n\t\tthis.isRowHeader = rowHeader;\n\t\tthis.element = this.createElement(); //column header element\n\t\tthis.contentElement = false;\n\t\tthis.titleHolderElement = false;\n\t\tthis.titleElement = false;\n\t\tthis.groupElement = this.createGroupElement(); //column group holder element\n\t\tthis.hozAlign = \"\"; //horizontal text alignment\n\t\tthis.vertAlign = \"\"; //vert text alignment\n\t\t\n\t\t//multi dimensional filed handling\n\t\tthis.field =\"\";\n\t\tthis.fieldStructure = \"\";\n\t\tthis.getFieldValue = \"\";\n\t\tthis.setFieldValue = \"\";\n\t\t\n\t\tthis.titleDownload = null;\n\t\tthis.titleFormatterRendered = false;\n\t\t\n\t\tthis.mapDefinitions();\n\t\t\n\t\tthis.setField(this.definition.field);\n\t\t\n\t\tthis.modules = {}; //hold module variables;\n\t\t\n\t\tthis.width = null; //column width\n\t\tthis.widthStyled = \"\"; //column width pre-styled to improve render efficiency\n\t\tthis.maxWidth = null; //column maximum width\n\t\tthis.maxWidthStyled = \"\"; //column maximum pre-styled to improve render efficiency\n\t\tthis.maxInitialWidth = null;\n\t\tthis.minWidth = null; //column minimum width\n\t\tthis.minWidthStyled = \"\"; //column minimum pre-styled to improve render efficiency\n\t\tthis.widthFixed = false; //user has specified a width for this column\n\t\t\n\t\tthis.visible = true; //default visible state\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\t//initialize column\n\t\tif(this.definition.columns){\n\t\t\t\n\t\t\tthis.isGroup = true;\n\t\t\t\n\t\t\tthis.definition.columns.forEach((def, i) => {\n\t\t\t\tvar newCol = new Column(def, this);\n\t\t\t\tthis.attachColumn(newCol);\n\t\t\t});\n\t\t\t\n\t\t\tthis.checkColumnVisibility();\n\t\t}else {\n\t\t\tparent.registerColumnField(this);\n\t\t}\n\t\t\n\t\tthis._initialize();\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.setAttribute(\"role\", \"columnheader\");\n\t\tel.setAttribute(\"aria-sort\", \"none\");\n\n\t\tif(this.isRowHeader){\n\t\t\tel.classList.add(\"tabulator-row-header\");\n\t\t}\n\t\t\n\t\tswitch(this.table.options.columnHeaderVertAlign){\n\t\t\tcase \"middle\":\n\t\t\t\tel.style.justifyContent = \"center\";\n\t\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\tel.style.justifyContent = \"flex-end\";\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateGroupElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col-group-cols\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tmapDefinitions(){\n\t\tvar defaults = this.table.options.columnDefaults;\n\t\t\n\t\t//map columnDefaults onto column definitions\n\t\tif(defaults){\n\t\t\tfor(let key in defaults){\n\t\t\t\tif(typeof this.definition[key] === \"undefined\"){\n\t\t\t\t\tthis.definition[key] = defaults[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.definition = this.table.columnManager.optionsList.generate(Column.defaultOptionList, this.definition);\n\t}\n\t\n\tcheckDefinition(){\n\t\tObject.keys(this.definition).forEach((key) => {\n\t\t\tif(Column.defaultOptionList.indexOf(key) === -1){\n\t\t\t\tconsole.warn(\"Invalid column definition option in '\" + (this.field || this.definition.title) + \"' column:\", key);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetField(field){\n\t\tthis.field = field;\n\t\tthis.fieldStructure = field ? (this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator) : [field]) : [];\n\t\tthis.getFieldValue = this.fieldStructure.length > 1 ? this._getNestedData : this._getFlatData;\n\t\tthis.setFieldValue = this.fieldStructure.length > 1 ? this._setNestedData : this._setFlatData;\n\t}\n\t\n\t//register column position with column manager\n\tregisterColumnPosition(column){\n\t\tthis.parent.registerColumnPosition(column);\n\t}\n\t\n\t//register column position with column manager\n\tregisterColumnField(column){\n\t\tthis.parent.registerColumnField(column);\n\t}\n\t\n\t//trigger position registration\n\treRegisterPosition(){\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolumn.reRegisterPosition();\n\t\t\t});\n\t\t}else {\n\t\t\tthis.registerColumnPosition(this);\n\t\t}\n\t}\n\t\n\t//build header element\n\t_initialize(){\n\t\tvar def = this.definition;\n\t\t\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\n\t\tif(def.headerVertical){\n\t\t\tthis.element.classList.add(\"tabulator-col-vertical\");\n\t\t\t\n\t\t\tif(def.headerVertical === \"flip\"){\n\t\t\t\tthis.element.classList.add(\"tabulator-col-vertical-flip\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.contentElement = this._buildColumnHeaderContent();\n\t\t\n\t\tthis.element.appendChild(this.contentElement);\n\t\t\n\t\tif(this.isGroup){\n\t\t\tthis._buildGroupHeader();\n\t\t}else {\n\t\t\tthis._buildColumnHeader();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"column-init\", this);\n\t}\n\t\n\t//build header element for header\n\t_buildColumnHeader(){\n\t\tvar def = this.definition;\n\t\t\n\t\tthis.dispatch(\"column-layout\", this);\n\t\t\n\t\t//set column visibility\n\t\tif(typeof def.visible != \"undefined\"){\n\t\t\tif(def.visible){\n\t\t\t\tthis.show(true);\n\t\t\t}else {\n\t\t\t\tthis.hide(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//assign additional css classes to column header\n\t\tif(def.cssClass){\n\t\t\tvar classNames = def.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(def.field){\n\t\t\tthis.element.setAttribute(\"tabulator-field\", def.field);\n\t\t}\n\t\t\n\t\t//set min width if present\n\t\tthis.setMinWidth(parseInt(def.minWidth));\n\t\t\n\t\tif (def.maxInitialWidth) {\n\t\t\tthis.maxInitialWidth = parseInt(def.maxInitialWidth);\n\t\t}\n\t\t\n\t\tif(def.maxWidth){\n\t\t\tthis.setMaxWidth(parseInt(def.maxWidth));\n\t\t}\n\t\t\n\t\tthis.reinitializeWidth();\n\t\t\n\t\t//set horizontal text alignment\n\t\tthis.hozAlign = this.definition.hozAlign;\n\t\tthis.vertAlign = this.definition.vertAlign;\n\t\t\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\t}\n\t\n\t_buildColumnHeaderContent(){\n\t\tvar contentElement = document.createElement(\"div\");\n\t\tcontentElement.classList.add(\"tabulator-col-content\");\n\t\t\n\t\tthis.titleHolderElement = document.createElement(\"div\");\n\t\tthis.titleHolderElement.classList.add(\"tabulator-col-title-holder\");\n\t\t\n\t\tcontentElement.appendChild(this.titleHolderElement);\n\t\t\n\t\tthis.titleElement = this._buildColumnHeaderTitle();\n\t\t\n\t\tthis.titleHolderElement.appendChild(this.titleElement);\n\t\t\n\t\treturn contentElement;\n\t}\n\t\n\t//build title element of column\n\t_buildColumnHeaderTitle(){\n\t\tvar def = this.definition;\n\t\t\n\t\tvar titleHolderElement = document.createElement(\"div\");\n\t\ttitleHolderElement.classList.add(\"tabulator-col-title\");\n\t\t\n\t\tif(def.headerWordWrap){\n\t\t\ttitleHolderElement.classList.add(\"tabulator-col-title-wrap\");\n\t\t}\n\t\t\n\t\tif(def.editableTitle){\n\t\t\tvar titleElement = document.createElement(\"input\");\n\t\t\ttitleElement.classList.add(\"tabulator-title-editor\");\n\t\t\t\n\t\t\ttitleElement.addEventListener(\"click\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\ttitleElement.focus();\n\t\t\t});\n\t\t\t\n\t\t\ttitleElement.addEventListener(\"mousedown\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t\n\t\t\ttitleElement.addEventListener(\"change\", () => {\n\t\t\t\tdef.title = titleElement.value;\n\t\t\t\tthis.dispatchExternal(\"columnTitleChanged\", this.getComponent());\n\t\t\t});\n\t\t\t\n\t\t\ttitleHolderElement.appendChild(titleElement);\n\t\t\t\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\ttitleElement.value = text || (def.title || \"&nbsp;\");\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\ttitleElement.value  = def.title || \"&nbsp;\";\n\t\t\t}\n\t\t\t\n\t\t}else {\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, text || (def.title || \"&nbsp;\"));\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, def.title || \"&nbsp;\");\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn titleHolderElement;\n\t}\n\t\n\t_formatColumnHeaderTitle(el, title){\n\t\tvar contents = this.chain(\"column-format\", [this, title, el], null, () => {\n\t\t\treturn title;\n\t\t});\n\t\t\n\t\tswitch(typeof contents){\n\t\t\tcase \"object\":\n\t\t\t\tif(contents instanceof Node){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else {\n\t\t\t\t\tel.innerHTML = \"\";\n\t\t\t\t\tconsole.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", contents);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tel.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tel.innerHTML = contents;\n\t\t}\n\t}\n\t\n\t//build header element for column group\n\t_buildGroupHeader(){\n\t\tthis.element.classList.add(\"tabulator-col-group\");\n\t\tthis.element.setAttribute(\"role\", \"columngroup\");\n\t\tthis.element.setAttribute(\"aria-title\", this.definition.title);\n\t\t\n\t\t//asign additional css classes to column header\n\t\tif(this.definition.cssClass){\n\t\t\tvar classNames = this.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\t\t\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\t\t\n\t\tthis.element.appendChild(this.groupElement);\n\t}\n\t\n\t//flat field lookup\n\t_getFlatData(data){\n\t\treturn data[this.field];\n\t}\n\t\n\t//nested field lookup\n\t_getNestedData(data){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length,\n\t\toutput;\n\t\t\n\t\tfor(let i = 0; i < length; i++){\n\t\t\t\n\t\t\tdataObj = dataObj[structure[i]];\n\t\t\t\n\t\t\toutput = dataObj;\n\t\t\t\n\t\t\tif(!dataObj){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\t//flat field set\n\t_setFlatData(data, value){\n\t\tif(this.field){\n\t\t\tdata[this.field] = value;\n\t\t}\n\t}\n\t\n\t//nested field set\n\t_setNestedData(data, value){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length;\n\t\t\n\t\tfor(let i = 0; i < length; i++){\n\t\t\t\n\t\t\tif(i == length -1){\n\t\t\t\tdataObj[structure[i]] = value;\n\t\t\t}else {\n\t\t\t\tif(!dataObj[structure[i]]){\n\t\t\t\t\tif(typeof value !== \"undefined\"){\n\t\t\t\t\t\tdataObj[structure[i]] = {};\n\t\t\t\t\t}else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdataObj = dataObj[structure[i]];\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//attach column to this group\n\tattachColumn(column){\n\t\tif(this.groupElement){\n\t\t\tthis.columns.push(column);\n\t\t\tthis.groupElement.appendChild(column.getElement());\n\t\t\t\n\t\t\tcolumn.columnRendered();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Warning - Column being attached to another column instead of column group\");\n\t\t}\n\t}\n\t\n\t//vertically align header in column\n\tverticalAlign(alignment, height){\n\t\t\n\t\t//calculate height of column header and group holder element\n\t\tvar parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : (height || this.parent.getHeadersElement().clientHeight);\n\t\t// var parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : this.parent.getHeadersElement().clientHeight;\n\t\t\n\t\tthis.element.style.height = parentHeight + \"px\";\n\t\t\n\t\tthis.dispatch(\"column-height\", this, this.element.style.height);\n\t\t\n\t\tif(this.isGroup){\n\t\t\tthis.groupElement.style.minHeight = (parentHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t}\n\t\t\n\t\t//vertically align cell contents\n\t\t// if(!this.isGroup && alignment !== \"top\"){\n\t\t// \tif(alignment === \"bottom\"){\n\t\t// \t\tthis.element.style.paddingTop = (this.element.clientHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t// \t}else{\n\t\t// \t\tthis.element.style.paddingTop = ((this.element.clientHeight - this.contentElement.offsetHeight) / 2) + \"px\";\n\t\t// \t}\n\t\t// }\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.verticalAlign(alignment);\n\t\t});\n\t}\n\t\n\t//clear vertical alignment\n\tclearVerticalAlign(){\n\t\tthis.element.style.paddingTop = \"\";\n\t\tthis.element.style.height = \"\";\n\t\tthis.element.style.minHeight = \"\";\n\t\tthis.groupElement.style.minHeight = \"\";\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.clearVerticalAlign();\n\t\t});\n\t\t\n\t\tthis.dispatch(\"column-height\", this, \"\");\n\t}\n\t\n\t//// Retrieve Column Information ////\n\t//return column header element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\t\n\t//return column group element\n\tgetGroupElement(){\n\t\treturn this.groupElement;\n\t}\n\t\n\t//return field name\n\tgetField(){\n\t\treturn this.field;\n\t}\n\t\n\tgetTitleDownload() {\n\t\treturn this.titleDownload;\n\t}\n\t\n\t//return the first column in a group\n\tgetFirstColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else {\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[0].getFirstColumn();\n\t\t\t}else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//return the last column in a group\n\tgetLastColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else {\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[this.columns.length -1].getLastColumn();\n\t\t\t}else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//return all columns in a group\n\tgetColumns(traverse){\n\t\tvar columns = [];\n\t\t\n\t\tif(traverse){\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumns.push(column);\n\t\t\t\t\n\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t});\n\t\t}else {\n\t\t\tcolumns = this.columns;\n\t\t}\n\t\t\n\t\treturn columns;\n\t}\n\t\n\t//return all columns in a group\n\tgetCells(){\n\t\treturn this.cells;\n\t}\n\t\n\t//retrieve the top column in a group of columns\n\tgetTopColumn(){\n\t\tif(this.parent.isGroup){\n\t\t\treturn this.parent.getTopColumn();\n\t\t}else {\n\t\t\treturn this;\n\t\t}\n\t}\n\t\n\t//return column definition object\n\tgetDefinition(updateBranches){\n\t\tvar colDefs = [];\n\t\t\n\t\tif(this.isGroup && updateBranches){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolDefs.push(column.getDefinition(true));\n\t\t\t});\n\t\t\t\n\t\t\tthis.definition.columns = colDefs;\n\t\t}\n\t\t\n\t\treturn this.definition;\n\t}\n\t\n\t//////////////////// Actions ////////////////////\n\tcheckColumnVisibility(){\n\t\tvar visible = false;\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tif(column.visible){\n\t\t\t\tvisible = true;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(visible){\n\t\t\tthis.show();\n\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t}else {\n\t\t\tthis.hide();\n\t\t}\n\t}\n\t\n\t//show column\n\tshow(silent, responsiveToggle){\n\t\tif(!this.visible){\n\t\t\tthis.visible = true;\n\t\t\t\n\t\t\tthis.element.style.display = \"\";\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\t\t\t\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.show();\n\t\t\t});\n\t\t\t\n\t\t\tif(!this.isGroup && this.width === null){\n\t\t\t\tthis.reinitializeWidth();\n\t\t\t}\n\t\t\t\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\t\t\t\n\t\t\tthis.dispatch(\"column-show\", this, responsiveToggle);\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), true);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//hide column\n\thide(silent, responsiveToggle){\n\t\tif(this.visible){\n\t\t\tthis.visible = false;\n\t\t\t\n\t\t\tthis.element.style.display = \"none\";\n\t\t\t\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\t\t\t\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.hide();\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatch(\"column-hide\", this, responsiveToggle);\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tmatchChildWidths(){\n\t\tvar childWidth = 0;\n\t\t\n\t\tif(this.contentElement && this.columns.length){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\tchildWidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.contentElement.style.maxWidth = (childWidth - 1) + \"px\";\n\t\t\tif (this.table.initialized) {\n\t\t\t\tthis.element.style.width = childWidth + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tremoveChild(child){\n\t\tvar index = this.columns.indexOf(child);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\t\t\n\t\tif(!this.columns.length){\n\t\t\tthis.delete();\n\t\t}\n\t}\n\t\n\tsetWidth(width){\n\t\tthis.widthFixed = true;\n\t\tthis.setWidthActual(width);\n\t}\n\t\n\tsetWidthActual(width){\n\t\tif(isNaN(width)){\n\t\t\twidth = Math.floor((this.table.element.clientWidth/100) * parseInt(width));\n\t\t}\n\t\t\n\t\twidth = Math.max(this.minWidth, width);\n\t\t\n\t\tif(this.maxWidth){\n\t\t\twidth = Math.min(this.maxWidth, width);\n\t\t}\n\t\t\n\t\tthis.width = width;\n\t\tthis.widthStyled = width ? width + \"px\" : \"\";\n\t\t\n\t\tthis.element.style.width = this.widthStyled;\n\t\t\n\t\tif(!this.isGroup){\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.setWidth();\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(this.parent.isGroup){\n\t\t\tthis.parent.matchChildWidths();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"column-width\", this);\n\t\t\n\t\tif(this.subscribedExternal(\"columnWidth\")){\n\t\t\tthis.dispatchExternal(\"columnWidth\", this.getComponent());\n\t\t}\n\t}\n\t\n\tcheckCellHeights(){\n\t\tvar rows = [];\n\t\t\n\t\tthis.cells.forEach(function(cell){\n\t\t\tif(cell.row.heightInitialized){\n\t\t\t\tif(cell.row.getElement().offsetParent !== null){\n\t\t\t\t\trows.push(cell.row);\n\t\t\t\t\tcell.row.clearCellHeight();\n\t\t\t\t}else {\n\t\t\t\t\tcell.row.heightInitialized = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\trows.forEach(function(row){\n\t\t\trow.calcHeight();\n\t\t});\n\t\t\n\t\trows.forEach(function(row){\n\t\t\trow.setCellHeight();\n\t\t});\n\t}\n\t\n\tgetWidth(){\n\t\tvar width = 0;\n\t\t\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\twidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\twidth = this.width;\n\t\t}\n\t\t\n\t\treturn width;\n\t}\n\t\n\tgetLeftOffset(){\n\t\tvar offset = this.element.offsetLeft;\n\t\t\n\t\tif(this.parent.isGroup){\n\t\t\toffset += this.parent.getLeftOffset();\n\t\t}\n\t\t\n\t\treturn offset;\n\t}\n\t\n\tgetHeight(){\n\t\treturn Math.ceil(this.element.getBoundingClientRect().height);\n\t}\n\t\n\tsetMinWidth(minWidth){\n\t\tif(this.maxWidth && minWidth > this.maxWidth){\n\t\t\tminWidth = this.maxWidth;\n\t\t\t\n\t\t\tconsole.warn(\"the minWidth (\"+ minWidth + \"px) for column '\" + this.field + \"' cannot be bigger that its maxWidth (\"+ this.maxWidthStyled + \")\");\n\t\t}\n\t\t\n\t\tthis.minWidth = minWidth;\n\t\tthis.minWidthStyled = minWidth ? minWidth + \"px\" : \"\";\n\t\t\n\t\tthis.element.style.minWidth = this.minWidthStyled;\n\t\t\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMinWidth();\n\t\t});\n\t}\n\t\n\tsetMaxWidth(maxWidth){\n\t\tif(this.minWidth && maxWidth < this.minWidth){\n\t\t\tmaxWidth = this.minWidth;\n\t\t\t\n\t\t\tconsole.warn(\"the maxWidth (\"+ maxWidth + \"px) for column '\" + this.field + \"' cannot be smaller that its minWidth (\"+ this.minWidthStyled + \")\");\n\t\t}\n\t\t\n\t\tthis.maxWidth = maxWidth;\n\t\tthis.maxWidthStyled = maxWidth ? maxWidth + \"px\" : \"\";\n\t\t\n\t\tthis.element.style.maxWidth = this.maxWidthStyled;\n\t\t\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMaxWidth();\n\t\t});\n\t}\n\t\n\tdelete(){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(this.isGroup){\n\t\t\t\tthis.columns.forEach(function(column){\n\t\t\t\t\tcolumn.delete();\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"column-delete\", this);\n\t\t\t\n\t\t\tvar cellCount = this.cells.length;\n\t\t\t\n\t\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\t\tthis.cells[0].delete();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.element = false;\n\t\t\tthis.contentElement = false;\n\t\t\tthis.titleElement = false;\n\t\t\tthis.groupElement = false;\n\t\t\t\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.removeChild(this);\n\t\t\t}\n\t\t\t\n\t\t\tthis.table.columnManager.deregisterColumn(this);\n\t\t\t\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\t\t\t\n\t\t\tthis.dispatch(\"column-deleted\", this);\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\tcolumnRendered(){\n\t\tif(this.titleFormatterRendered){\n\t\t\tthis.titleFormatterRendered();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"column-rendered\", this);\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\t//generate cell for this column\n\tgenerateCell(row){\n\t\tvar cell = new Cell(this, row);\n\t\t\n\t\tthis.cells.push(cell);\n\t\t\n\t\treturn cell;\n\t}\n\t\n\tnextColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._nextVisibleColumn(index + 1) : false;\n\t}\n\t\n\t_nextVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._nextVisibleColumn(index + 1);\n\t}\n\t\n\tprevColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._prevVisibleColumn(index - 1) : false;\n\t}\n\t\n\t_prevVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._prevVisibleColumn(index - 1);\n\t}\n\t\n\treinitializeWidth(force){\n\t\tthis.widthFixed = false;\n\t\t\n\t\t//set width if present\n\t\tif(typeof this.definition.width !== \"undefined\" && !force){\n\t\t\t// maxInitialWidth ignored here as width specified\n\t\t\tthis.setWidth(this.definition.width);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"column-width-fit-before\", this);\n\t\t\n\t\tthis.fitToData(force);\n\t\t\n\t\tthis.dispatch(\"column-width-fit-after\", this);\n\t}\n\t\n\t//set column width to maximum cell width for non group columns\n\tfitToData(force){\n\t\tif(this.isGroup){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!this.widthFixed){\n\t\t\tthis.element.style.width = \"\";\n\t\t\t\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tcell.clearWidth();\n\t\t\t});\n\t\t}\n\t\t\n\t\tvar maxWidth = this.element.offsetWidth;\n\t\t\n\t\tif(!this.width || !this.widthFixed){\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tvar width = cell.getWidth();\n\t\t\t\t\n\t\t\t\tif(width > maxWidth){\n\t\t\t\t\tmaxWidth = width;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(maxWidth){\n\t\t\t\tvar setTo = maxWidth + 1;\n\t\t\t\tif (this.maxInitialWidth && !force) {\n\t\t\t\t\tsetTo = Math.min(setTo, this.maxInitialWidth);\n\t\t\t\t}\n\t\t\t\tthis.setWidthActual(setTo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tupdateDefinition(updates){\n\t\tvar definition;\n\t\t\n\t\tif(!this.isGroup){\n\t\t\tif(!this.parent.isGroup){\n\t\t\t\tdefinition = Object.assign({}, this.getDefinition());\n\t\t\t\tdefinition = Object.assign(definition, updates);\n\t\t\t\t\n\t\t\t\treturn this.table.columnManager.addColumn(definition, false, this)\n\t\t\t\t\t.then((column) => {\n\t\t\t\t\t\n\t\t\t\t\t\tif(definition.field == this.field){\n\t\t\t\t\t\t\tthis.field = false; //clear field name to prevent deletion of duplicate column from arrays\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\treturn this.delete()\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t}\n\t}\n\t\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new ColumnComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n\t\n\tgetPosition(){\n\t\treturn this.table.columnManager.getVisibleColumnsByIndex().indexOf(this) + 1;\n\t}\n\t\n\tgetParentComponent(){\n\t\treturn this.parent instanceof Column ? this.parent.getComponent() : false;\n\t}\n}\n\n//public row object\nclass RowComponent {\n\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\tgetIndex(){\n\t\treturn this._row.getData(\"data\")[this._row.table.options.index];\n\t}\n\n\tgetPosition(){\n\t\treturn this._row.getPosition();\n\t}\n\n\twatchPosition(callback){\n\t\treturn this._row.watchPosition(callback);\n\t}\n\n\tdelete(){\n\t\treturn this._row.delete();\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._row.table.rowManager.scrollToRow(this._row, position, ifVisible);\n\t}\n\n\tmove(to, after){\n\t\tthis._row.moveToRow(to, after);\n\t}\n\n\tupdate(data){\n\t\treturn this._row.updateData(data);\n\t}\n\n\tnormalizeHeight(){\n\t\tthis._row.normalizeHeight(true);\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n\n\treformat(){\n\t\treturn this._row.reinitialize();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetNextRow(){\n\t\tvar row = this._row.nextRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n\n\tgetPrevRow(){\n\t\tvar row = this._row.prevRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n}\n\nclass Row extends CoreFeature{\n\tconstructor (data, parent, type = \"row\"){\n\t\tsuper(parent.table);\n\t\t\n\t\tthis.parent = parent;\n\t\tthis.data = {};\n\t\tthis.type = type; //type of element\n\t\tthis.element = false;\n\t\tthis.modules = {}; //hold module variables;\n\t\tthis.cells = [];\n\t\tthis.height = 0; //hold element height\n\t\tthis.heightStyled = \"\"; //hold element height pre-styled to improve render efficiency\n\t\tthis.manualHeight = false; //user has manually set row height\n\t\tthis.outerHeight = 0; //hold elements outer height\n\t\tthis.initialized = false; //element has been rendered\n\t\tthis.heightInitialized = false; //element has resized cells to fit\n\t\tthis.position = 0; //store position of element in row list\n\t\tthis.positionWatchers = [];\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.created = false;\n\t\t\n\t\tthis.setData(data);\n\t}\n\t\n\tcreate(){\n\t\tif(!this.created){\n\t\t\tthis.created = true;\n\t\t\tthis.generateElement();\n\t\t}\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\tthis.element = el;\n\t}\n\t\n\tgetElement(){\n\t\tthis.create();\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.createElement();\n\t\tthis.dispatch(\"row-init\", this);\n\t}\n\t\n\tgenerateCells(){\n\t\tthis.cells = this.table.columnManager.generateCells(this);\n\t}\n\t\n\t//functions to setup on first render\n\tinitialize(force, inFragment){\n\t\tthis.create();\n\t\t\n\t\tif(!this.initialized || force){\n\t\t\t\n\t\t\tthis.deleteCells();\n\t\t\t\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-before\", this);\n\t\t\t\n\t\t\tthis.generateCells();\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t\t\n\t\t\tthis.table.columnManager.renderer.renderRowCells(this, inFragment);\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.normalizeHeight();\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout\", this);\n\t\t\t\n\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-after\", this);\n\t\t}else {\n\t\t\tthis.table.columnManager.renderer.rerenderRowCells(this, inFragment);\n\t\t}\n\t}\n\n\trendered(){\n\t\tthis.cells.forEach((cell) => {\n\t\t\tcell.cellRendered();\n\t\t});\n\t}\n\t\n\treinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.normalizeHeight(true);\n\t\t}\n\t}\n\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tdeinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t}\n\t\n\treinitialize(children){\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(!this.manualHeight){\n\t\t\tthis.height = 0;\n\t\t\tthis.heightStyled = \"\";\n\t\t}\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.initialize(true);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"row-relayout\", this);\n\t}\n\t\n\t//get heights when doing bulk row style calcs in virtual DOM\n\tcalcHeight(force){\n\t\tvar maxHeight = 0, minHeight  = 0;\n\n\t\tif(this.table.options.rowHeight){\n\t\t\tthis.height = this.table.options.rowHeight;\n\t\t}else {\n\t\t\tminHeight = this.calcMinHeight();\n\t\t\tmaxHeight = this.calcMaxHeight();\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.height = Math.max(maxHeight, minHeight);\n\t\t\t}else {\n\t\t\t\tthis.height = this.manualHeight ? this.height : Math.max(maxHeight, minHeight);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.heightStyled = this.height ? this.height + \"px\" : \"\";\n\t\tthis.outerHeight = this.element.offsetHeight;\n\t}\n\n\tcalcMinHeight(){\n\t\treturn this.table.options.resizableRows ? this.element.clientHeight : 0;\n\t}\n\n\tcalcMaxHeight(){\n\t\tvar maxHeight = 0;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tvar height = cell.getHeight();\n\n\t\t\tif(height > maxHeight){\n\t\t\t\tmaxHeight = height;\n\t\t\t}\n\t\t});\n\n\t\treturn maxHeight;\n\t}\n\t\n\t//set of cells\n\tsetCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setHeight();\n\t\t});\n\t\t\n\t\tthis.heightInitialized = true;\n\t}\n\t\n\tclearCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.clearHeight();\n\t\t});\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(force){\n\t\tif(force && !this.table.options.rowHeight){\n\t\t\tthis.clearCellHeight();\n\t\t}\n\t\t\n\t\tthis.calcHeight(force);\n\t\t\n\t\tthis.setCellHeight();\n\t}\n\t\n\t//set height of rows\n\tsetHeight(height, force){\n\t\tif(this.height != height || force){\n\t\t\t\n\t\t\tthis.manualHeight = true;\n\t\t\t\n\t\t\tthis.height = height;\n\t\t\tthis.heightStyled = height ? height + \"px\" : \"\";\n\t\t\t\n\t\t\tthis.setCellHeight();\n\t\t\t\n\t\t\t// this.outerHeight = this.element.outerHeight();\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\n\t\t\tif(this.subscribedExternal(\"rowHeight\")){\n\t\t\t\tthis.dispatchExternal(\"rowHeight\", this.getComponent());\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\t//return rows outer Width\n\tgetWidth(){\n\t\treturn this.element.offsetWidth;\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\t\n\t//////////////// Data Management /////////////////\n\tsetData(data){\n\t\tthis.data = this.chain(\"row-data-init-before\", [this, data], undefined, data);\n\t\t\n\t\tthis.dispatch(\"row-data-init-after\", this);\n\t}\n\t\n\t//update the rows data\n\tupdateData(updatedData){\n\t\tvar visible = this.element && Helpers.elVisible(this.element),\n\t\ttempData = {},\n\t\tnewRowData;\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof updatedData === \"string\"){\n\t\t\t\tupdatedData = JSON.parse(updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-before\", this);\n\t\t\t\n\t\t\tif(this.subscribed(\"row-data-changing\")){\n\t\t\t\ttempData = Object.assign(tempData, this.data);\n\t\t\t\ttempData = Object.assign(tempData, updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tnewRowData = this.chain(\"row-data-changing\", [this, tempData, updatedData], null, updatedData);\n\t\t\t\n\t\t\t//set data\n\t\t\tfor (let attrname in newRowData) {\n\t\t\t\tthis.data[attrname] = newRowData[attrname];\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-after\", this);\n\t\t\t\n\t\t\t//update affected cells only\n\t\t\tfor (let attrname in updatedData) {\n\t\t\t\t\n\t\t\t\tlet columns = this.table.columnManager.getColumnsByFieldRoot(attrname);\n\t\t\t\t\n\t\t\t\tcolumns.forEach((column) => {\n\t\t\t\t\tlet cell = this.getCell(column.getField());\n\t\t\t\t\t\n\t\t\t\t\tif(cell){\n\t\t\t\t\t\tlet value = column.getFieldValue(newRowData);\n\t\t\t\t\t\tif(cell.getValue() !== value){\n\t\t\t\t\t\t\tcell.setValueProcessData(value);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(visible){\n\t\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//Partial reinitialization if visible\n\t\t\tif(visible){\n\t\t\t\tthis.normalizeHeight(true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.initialized = false;\n\t\t\t\tthis.height = 0;\n\t\t\t\tthis.heightStyled = \"\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-changed\", this, visible, updatedData);\n\t\t\t\n\t\t\t//this.reinitialize();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"rowUpdated\", this.getComponent());\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\tgetData(transform){\n\t\tif(transform){\n\t\t\treturn this.chain(\"row-data-retrieve\", [this, transform], null, this.data);\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\tgetCell(column){\n\t\tvar match = false;\n\t\t\n\t\tcolumn = this.table.columnManager.findColumn(column);\n\t\t\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\tmatch = this.cells.find(function(cell){\n\t\t\treturn cell.column === column;\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetCellIndex(findCell){\n\t\treturn this.cells.findIndex(function(cell){\n\t\t\treturn cell === findCell;\n\t\t});\n\t}\n\t\n\tfindCell(subject){\n\t\treturn this.cells.find((cell) => {\n\t\t\treturn cell.element === subject;\n\t\t});\n\t}\n\t\n\tgetCells(){\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\treturn this.cells;\n\t}\n\t\n\tnextRow(){\n\t\tvar row = this.table.rowManager.nextDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tprevRow(){\n\t\tvar row = this.table.rowManager.prevDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tmoveToRow(to, before){\n\t\tvar toRow = this.table.rowManager.findRow(to);\n\t\t\n\t\tif(toRow){\n\t\t\tthis.table.rowManager.moveRowActual(this, toRow, !before);\n\t\t\tthis.table.rowManager.refreshActiveData(\"display\", false, true);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", to);\n\t\t}\n\t}\n\t\n\t///////////////////// Actions  /////////////////////\n\tdelete(){\n\t\tthis.dispatch(\"row-delete\", this);\n\t\t\n\t\tthis.deleteActual();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\tdeleteActual(blockRedraw){\n\t\tthis.detachModules();\n\t\t\n\t\tthis.table.rowManager.deleteRow(this, blockRedraw);\n\t\t\n\t\tthis.deleteCells();\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\tthis.element = false;\n\t\t\n\t\tthis.dispatch(\"row-deleted\", this);\n\t}\n\t\n\tdetachModules(){\n\t\tthis.dispatch(\"row-deleting\", this);\n\t}\n\t\n\tdeleteCells(){\n\t\tvar cellCount = this.cells.length;\n\t\t\n\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\tthis.cells[0].delete();\n\t\t}\n\t}\n\t\n\twipe(){\n\t\tthis.detachModules();\n\t\tthis.deleteCells();\n\t\t\n\t\tif(this.element){\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.modules = {};\n\t}\n\n\tisDisplayed(){\n\t\treturn this.table.rowManager.getDisplayRows().includes(this);\n\t}\n\n\tgetPosition(){\n\t\treturn this.isDisplayed() ? this.position : false;\n\t}\n\n\tsetPosition(position){\n\t\tif(position != this.position){\n\t\t\tthis.position = position;\n\n\t\t\tthis.positionWatchers.forEach((callback) => {\n\t\t\t\tcallback(this.position);\n\t\t\t});\n\t\t}\n\t}\n\n\twatchPosition(callback){\n\t\tthis.positionWatchers.push(callback);\n\n\t\tcallback(this.position);\n\t}\n\t\n\tgetGroup(){\n\t\treturn this.modules.group || false;\n\t}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new RowComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n\nvar defaultCalculations = {\n\t\"avg\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : 2;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn Number(sum) + Number(value);\n\t\t\t});\n\n\t\t\toutput = output / values.length;\n\n\t\t\toutput = precision !== false ? output.toFixed(precision) : output;\n\t\t}\n\n\t\treturn parseFloat(output).toString();\n\t},\n\t\"max\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value > output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"min\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value < output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"sum\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tvalue = Number(value);\n\n\t\t\t\toutput += !isNaN(value) ? Number(value) : 0;\n\t\t\t});\n\t\t}\n\n\t\treturn precision !== false ? output.toFixed(precision) : output;\n\t},\n\t\"concat\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn String(sum) + String(value);\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"count\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tif(value){\n\t\t\t\t\toutput ++;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"unique\":function(values, data, calcParams){\n\t\tvar unique = values.filter((value, index) => {\n\t\t\treturn (values || value === 0) && values.indexOf(value) === index;\n\t\t});\n\n\t\treturn unique.length;\n\t},\n};\n\nclass ColumnCalcs extends Module{\n\n\tstatic moduleName = \"columnCalcs\";\n\n\t//load defaults\n\tstatic calculations = defaultCalculations;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.topCalcs = [];\n\t\tthis.botCalcs = [];\n\t\tthis.genColumn = false;\n\t\tthis.topElement = this.createElement();\n\t\tthis.botElement = this.createElement();\n\t\tthis.topRow = false;\n\t\tthis.botRow = false;\n\t\tthis.topInitialized = false;\n\t\tthis.botInitialized = false;\n\t\t\n\t\tthis.blocked = false;\n\t\tthis.recalcAfterBlock = false;\n\t\t\n\t\tthis.registerTableOption(\"columnCalcs\", true);\n\t\t\n\t\tthis.registerColumnOption(\"topCalc\");\n\t\tthis.registerColumnOption(\"topCalcParams\");\n\t\tthis.registerColumnOption(\"topCalcFormatter\");\n\t\tthis.registerColumnOption(\"topCalcFormatterParams\");\n\t\tthis.registerColumnOption(\"bottomCalc\");\n\t\tthis.registerColumnOption(\"bottomCalcParams\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatter\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatterParams\");\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-calcs-holder\");\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tthis.genColumn = new Column({field:\"value\"}, this);\n\t\t\n\t\tthis.subscribe(\"cell-value-changed\", this.cellValueChanged.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"column-moved\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"column-add\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.recalcActiveRowsRefresh.bind(this));\n\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t\t\n\t\tthis.subscribe(\"redraw-blocked\", this.blockRedraw.bind(this));\n\t\tthis.subscribe(\"redraw-restored\", this.restoreRedraw.bind(this));\n\n\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t\n\t\tthis.registerTableFunction(\"getCalcResults\", this.getResults.bind(this));\n\t\tthis.registerTableFunction(\"recalc\", this.userRecalc.bind(this));\n\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\t\n\ttableRedraw(force){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t\t\n\t\tif(force){\n\t\t\tthis.redraw();\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.blocked = true;\n\t\tthis.recalcAfterBlock = false;\n\t}\n\t\n\t\n\trestoreRedraw(){\n\t\tthis.blocked = false;\n\t\t\n\t\tif(this.recalcAfterBlock){\n\t\t\tthis.recalcAfterBlock = false;\n\t\t\tthis.recalcActiveRowsRefresh();\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tuserRecalc(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tblockCheck(){\n\t\tif(this.blocked){\n\t\t\tthis.recalcAfterBlock = true;\n\t\t}\n\t\t\n\t\treturn this.blocked;\n\t}\n\t\n\tvisibleRows(viewable, rows){\n\t\tif(this.topRow){\n\t\t\trows.unshift(this.topRow);\n\t\t}\n\t\t\n\t\tif(this.botRow){\n\t\t\trows.push(this.botRow);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.recalcRowGroup(row);\n\t\t}else {\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRowsRefresh(){\n\t\tif(this.table.options.groupBy && this.table.options.dataTreeStartExpanded && this.table.options.dataTree){\n\t\t\tthis.recalcAll();\n\t\t}else {\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRows(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\tcellValueChanged(cell){\n\t\tif(cell.column.definition.topCalc || cell.column.definition.bottomCalc){\n\t\t\tif(this.table.options.groupBy){\n\t\t\t\tif(this.table.options.columnCalcs == \"table\" || this.table.options.columnCalcs == \"both\"){\n\t\t\t\t\tthis.recalcActiveRows();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.recalcRowGroup(cell.row);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinitializeColumnCheck(column){\n\t\tif(column.definition.topCalc || column.definition.bottomCalc){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//initialize column calcs\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\tvar config = {\n\t\t\ttopCalcParams:def.topCalcParams || {},\n\t\t\tbotCalcParams:def.bottomCalcParams || {},\n\t\t};\n\t\t\n\t\tif(def.topCalc){\n\t\t\t\n\t\t\tswitch(typeof def.topCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.topCalc]){\n\t\t\t\t\t\tconfig.topCalc = ColumnCalcs.calculations[def.topCalc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.topCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.topCalc = def.topCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.topCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.topCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeTopRow();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tif(def.bottomCalc){\n\t\t\tswitch(typeof def.bottomCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.bottomCalc]){\n\t\t\t\t\t\tconfig.botCalc = ColumnCalcs.calculations[def.bottomCalc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.bottomCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.botCalc = def.bottomCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.botCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.botCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeBottomRow();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t//dummy functions to handle being mock column manager\n\tregisterColumnField(){}\n\t\n\tremoveCalcs(){\n\t\tvar changed = false;\n\t\t\n\t\tif(this.topInitialized){\n\t\t\tthis.topInitialized = false;\n\t\t\tthis.topElement.parentNode.removeChild(this.topElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(this.botInitialized){\n\t\t\tthis.botInitialized = false;\n\t\t\tthis.footerRemove(this.botElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\treinitializeCalcs(){\n\t\tif(this.topCalcs.length){\n\t\t\tthis.initializeTopRow();\n\t\t}\n\n\t\tif(this.botCalcs.length){\n\t\t\tthis.initializeBottomRow();\n\t\t}\n\t}\n\t\n\tinitializeTopRow(){\n\t\tvar\tfragment = document.createDocumentFragment();\n\t\t\n\t\tif(!this.topInitialized){\n\n\t\t\tfragment.appendChild(document.createElement(\"br\"));\n\t\t\tfragment.appendChild(this.topElement);\n\n\t\t\tthis.table.columnManager.getContentsElement().insertBefore(fragment, this.table.columnManager.headersElement.nextSibling);\n\t\t\tthis.topInitialized = true;\n\t\t}\n\t}\n\t\n\tinitializeBottomRow(){\n\t\tif(!this.botInitialized){\n\t\t\tthis.footerPrepend(this.botElement);\n\t\t\tthis.botInitialized = true;\n\t\t}\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tif(this.botInitialized && this.botRow){\n\t\t\tthis.botElement.scrollLeft = left;\n\t\t}\n\t}\n\t\n\trecalc(rows){\n\t\tvar data, row;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(this.topInitialized || this.botInitialized){\n\t\t\t\tdata = this.rowsToData(rows);\n\t\t\t\t\n\t\t\t\tif(this.topInitialized){\n\t\t\t\t\tif(this.topRow){\n\t\t\t\t\t\tthis.topRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"top\", data);\n\t\t\t\t\tthis.topRow = row;\n\t\t\t\t\twhile(this.topElement.firstChild) this.topElement.removeChild(this.topElement.firstChild);\n\t\t\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.botInitialized){\n\t\t\t\t\tif(this.botRow){\n\t\t\t\t\t\tthis.botRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"bottom\", data);\n\t\t\t\t\tthis.botRow = row;\n\t\t\t\t\twhile(this.botElement.firstChild) this.botElement.removeChild(this.botElement.firstChild);\n\t\t\t\t\tthis.botElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t\t\t\n\t\t\t\t//set resizable handles\n\t\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\t\tthis.table.modules.frozenColumns.layout();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcRowGroup(row){\n\t\tthis.recalcGroup(this.table.modules.groupRows.getRowGroup(row));\n\t}\n\t\n\trecalcAll(){\n\t\tif(this.topCalcs.length || this.botCalcs.length){\n\t\t\tif(this.table.options.columnCalcs !== \"group\"){\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.groupBy && this.table.options.columnCalcs !== \"table\"){\n\t\t\t\t\n\t\t\t\tvar groups = this.table.modules.groupRows.getChildGroups();\n\t\t\t\t\n\t\t\t\tgroups.forEach((group) => {\n\t\t\t\t\tthis.recalcGroup(group);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcGroup(group){\n\t\tvar data, rowData;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(group){\n\t\t\t\tif(group.calcs){\n\t\t\t\t\tif(group.calcs.bottom){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"bottom\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.bottom.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.bottom.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(group.calcs.top){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"top\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.top.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.top.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//generate top stats row\n\tgenerateTopRow(rows){\n\t\treturn this.generateRow(\"top\", this.rowsToData(rows));\n\t}\n\t//generate bottom stats row\n\tgenerateBottomRow(rows){\n\t\treturn this.generateRow(\"bottom\", this.rowsToData(rows));\n\t}\n\t\n\trowsToData(rows){\n\t\tvar data = [],\n\t\thasDataTreeColumnCalcs = this.table.options.dataTree && this.table.options.dataTreeChildColumnCalcs,\n\t\tdataTree = this.table.modules.dataTree;\n\n\t\trows.forEach((row) => {\n\t\t\tdata.push(row.getData());\n\n\t\t\tif(hasDataTreeColumnCalcs && row.modules.dataTree?.open){\n\t\t\t\tthis.rowsToData(dataTree.getFilteredTreeChildren(row)).forEach(dataRow =>{\n\t\t\t\t\tdata.push(row);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\t\n\t//generate stats row\n\tgenerateRow(pos, data){\n\t\tvar rowData = this.generateRowData(pos, data),\n\t\trow;\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.disable();\n\t\t}\n\t\t\n\t\trow = new Row(rowData, this, \"calc\");\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.enable();\n\t\t}\n\t\t\n\t\trow.getElement().classList.add(\"tabulator-calcs\", \"tabulator-calcs-\" + pos);\n\t\t\n\t\trow.component = false;\n\t\t\n\t\trow.getComponent = () => {\n\t\t\tif(!row.component){\n\t\t\t\trow.component = new CalcComponent(row);\n\t\t\t}\n\t\t\t\n\t\t\treturn row.component;\n\t\t};\n\t\t\n\t\trow.generateCells = () => {\n\t\t\t\n\t\t\tvar cells = [];\n\t\t\t\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\t\n\t\t\t\t//set field name of mock column\n\t\t\t\tthis.genColumn.setField(column.getField());\n\t\t\t\tthis.genColumn.hozAlign = column.hozAlign;\n\t\t\t\t\n\t\t\t\tif(column.definition[pos + \"CalcFormatter\"] && this.table.modExists(\"format\")){\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.lookupFormatter(column.definition[pos + \"CalcFormatter\"]),\n\t\t\t\t\t\tparams: column.definition[pos + \"CalcFormatterParams\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}else {\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.lookupFormatter(\"plaintext\"),\n\t\t\t\t\t\tparams:{}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//ensure css class definition is replicated to calculation cell\n\t\t\t\tthis.genColumn.definition.cssClass = column.definition.cssClass;\n\t\t\t\t\n\t\t\t\t//generate cell and assign to correct column\n\t\t\t\tvar cell = new Cell(this.genColumn, row);\n\t\t\t\tcell.getElement();\n\t\t\t\tcell.column = column;\n\t\t\t\tcell.setWidth();\n\t\t\t\t\n\t\t\t\tcolumn.cells.push(cell);\n\t\t\t\tcells.push(cell);\n\t\t\t\t\n\t\t\t\tif(!column.visible){\n\t\t\t\t\tcell.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\trow.cells = cells;\n\t\t};\n\t\t\n\t\treturn row;\n\t}\n\t\n\t//generate stats row\n\tgenerateRowData(pos, data){\n\t\tvar rowData = {},\n\t\tcalcs = pos == \"top\" ? this.topCalcs : this.botCalcs,\n\t\ttype = pos == \"top\" ? \"topCalc\" : \"botCalc\",\n\t\tparams, paramKey;\n\t\t\n\t\tcalcs.forEach(function(column){\n\t\t\tvar values = [];\n\t\t\t\n\t\t\tif(column.modules.columnCalcs && column.modules.columnCalcs[type]){\n\t\t\t\tdata.forEach(function(item){\n\t\t\t\t\tvalues.push(column.getFieldValue(item));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tparamKey = type + \"Params\";\n\t\t\t\tparams = typeof column.modules.columnCalcs[paramKey] === \"function\" ? column.modules.columnCalcs[paramKey](values, data) : column.modules.columnCalcs[paramKey];\n\t\t\t\t\n\t\t\t\tcolumn.setFieldValue(rowData, column.modules.columnCalcs[type](values, data, params));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowData;\n\t}\n\t\n\thasTopCalcs(){\n\t\treturn\t!!(this.topCalcs.length);\n\t}\n\t\n\thasBottomCalcs(){\n\t\treturn\t!!(this.botCalcs.length);\n\t}\n\t\n\t//handle table redraw\n\tredraw(){\n\t\tif(this.topRow){\n\t\t\tthis.topRow.normalizeHeight(true);\n\t\t}\n\t\tif(this.botRow){\n\t\t\tthis.botRow.normalizeHeight(true);\n\t\t}\n\t}\n\t\n\t//return the calculated\n\tgetResults(){\n\t\tvar results = {},\n\t\tgroups;\n\t\t\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tgroups = this.table.modules.groupRows.getGroups(true);\n\t\t\t\n\t\t\tgroups.forEach((group) => {\n\t\t\t\tresults[group.getKey()] = this.getGroupResults(group);\n\t\t\t});\n\t\t}else {\n\t\t\tresults = {\n\t\t\t\ttop: this.topRow ? this.topRow.getData() : {},\n\t\t\t\tbottom: this.botRow ? this.botRow.getData() : {},\n\t\t\t};\n\t\t}\n\t\t\n\t\treturn results;\n\t}\n\t\n\t//get results from a group\n\tgetGroupResults(group){\n\t\tvar groupObj = group._getSelf(),\n\t\tsubGroups = group.getSubGroups(),\n\t\tsubGroupResults = {},\n\t\tresults = {};\n\t\t\n\t\tsubGroups.forEach((subgroup) => {\n\t\t\tsubGroupResults[subgroup.getKey()] = this.getGroupResults(subgroup);\n\t\t});\n\t\t\n\t\tresults = {\n\t\t\ttop: groupObj.calcs.top ? groupObj.calcs.top.getData() : {},\n\t\t\tbottom: groupObj.calcs.bottom ? groupObj.calcs.bottom.getData() : {},\n\t\t\tgroups: subGroupResults,\n\t\t};\n\t\t\n\t\treturn results;\n\t}\n\t\n\tadjustForScrollbar(width){\n\t\tif(this.botRow){\n\t\t\tif(this.table.rtl){\n\t\t\t\tthis.botElement.style.paddingLeft = width + \"px\";\n\t\t\t}else {\n\t\t\t\tthis.botElement.style.paddingRight = width + \"px\";\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass DataTree extends Module{\n\n\tstatic moduleName = \"dataTree\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.indent = 10;\n\t\tthis.field = \"\";\n\t\tthis.collapseEl = null;\n\t\tthis.expandEl = null;\n\t\tthis.branchEl = null;\n\t\tthis.elementField = false;\n\n\t\tthis.startOpen = function(){};\n\n\t\tthis.registerTableOption(\"dataTree\", false); //enable data tree\n\t\tthis.registerTableOption(\"dataTreeFilter\", true); //filter child rows\n\t\tthis.registerTableOption(\"dataTreeSort\", true); //sort child rows\n\t\tthis.registerTableOption(\"dataTreeElementColumn\", false);\n\t\tthis.registerTableOption(\"dataTreeBranchElement\", true);//show data tree branch element\n\t\tthis.registerTableOption(\"dataTreeChildIndent\", 9); //data tree child indent in px\n\t\tthis.registerTableOption(\"dataTreeChildField\", \"_children\");//data tre column field to look for child rows\n\t\tthis.registerTableOption(\"dataTreeCollapseElement\", false);//data tree row collapse element\n\t\tthis.registerTableOption(\"dataTreeExpandElement\", false);//data tree row expand element\n\t\tthis.registerTableOption(\"dataTreeStartExpanded\", false);\n\t\tthis.registerTableOption(\"dataTreeChildColumnCalcs\", false);//include visible data tree rows in column calculations\n\t\tthis.registerTableOption(\"dataTreeSelectPropagate\", false);//selecting a parent row selects its children\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"treeCollapse\", this.collapseRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeExpand\", this.expandRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeToggle\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeParent\", this.getTreeParent.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeChildren\", this.getRowChildren.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"addTreeChild\", this.addTreeChildRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isTreeExpanded\", this.isRowExpanded.bind(this));\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.dataTree){\n\t\t\tvar dummyEl = null,\n\t\t\toptions = this.table.options;\n\n\t\t\tthis.field = options.dataTreeChildField;\n\t\t\tthis.indent = options.dataTreeChildIndent;\n\n\t\t\tif(this.options(\"movableRows\")){\n\t\t\t\tconsole.warn(\"The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeBranchElement){\n\n\t\t\t\tif(options.dataTreeBranchElement === true){\n\t\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch\");\n\t\t\t\t}else {\n\t\t\t\t\tif(typeof options.dataTreeBranchElement === \"string\"){\n\t\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\t\tdummyEl.innerHTML = options.dataTreeBranchElement;\n\t\t\t\t\t\tthis.branchEl = dummyEl.firstChild;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.branchEl = options.dataTreeBranchElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch-empty\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeCollapseElement){\n\t\t\t\tif(typeof options.dataTreeCollapseElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeCollapseElement;\n\t\t\t\t\tthis.collapseEl = dummyEl.firstChild;\n\t\t\t\t}else {\n\t\t\t\t\tthis.collapseEl = options.dataTreeCollapseElement;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.collapseEl = document.createElement(\"div\");\n\t\t\t\tthis.collapseEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.collapseEl.tabIndex = 0;\n\t\t\t\tthis.collapseEl.innerHTML = \"<div class='tabulator-data-tree-control-collapse'></div>\";\n\t\t\t}\n\n\t\t\tif(options.dataTreeExpandElement){\n\t\t\t\tif(typeof options.dataTreeExpandElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeExpandElement;\n\t\t\t\t\tthis.expandEl = dummyEl.firstChild;\n\t\t\t\t}else {\n\t\t\t\t\tthis.expandEl = options.dataTreeExpandElement;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.expandEl = document.createElement(\"div\");\n\t\t\t\tthis.expandEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.expandEl.tabIndex = 0;\n\t\t\t\tthis.expandEl.innerHTML = \"<div class='tabulator-data-tree-control-expand'></div>\";\n\t\t\t}\n\n\n\t\t\tswitch(typeof options.dataTreeStartExpanded){\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tthis.startOpen = options.dataTreeStartExpanded;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded[index];\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowDelete.bind(this),0);\n\t\t\tthis.subscribe(\"row-data-changed\", this.rowDataChanged.bind(this), 10);\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"edit-cancelled\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"column-moving-rows\", this.columnMoving.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.initializeElementField.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedrawing.bind(this));\n\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 30);\n\t\t}\n\t}\n\n\ttableRedrawing(force){\n\t\tvar rows;\n\n\t\tif(force){\n\t\t\trows = this.table.rowManager.getRows();\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.reinitializeRowChildren(row);\n\t\t\t});\n\t\t}\n\t}\n\n\tinitializeElementField(){\n\t\tvar firstCol = this.table.columnManager.getFirstVisibleColumn();\n\n\t\tthis.elementField = this.table.options.dataTreeElementColumn || (firstCol ? firstCol.field : false);\n\t}\n\t\n\tgetRowChildren(row){\n\t\treturn this.getTreeChildren(row, true);\n\t}\n\n\tcolumnMoving(){\n\t\tvar rows = [];\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trows = rows.concat(this.getTreeChildren(row, false, true));\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\trowDataChanged(row, visible, updatedData){\n\t\tif(this.redrawNeeded(updatedData)){\n\t\t\tthis.initializeRow(row);\n\n\t\t\tif(visible){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tcellValueChanged(cell){\n\t\tvar field = cell.column.getField();\n\n\t\tif(field === this.elementField){\n\t\t\tthis.layoutRow(cell.row);\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar childArray = row.getData()[this.field];\n\t\tvar isArray = Array.isArray(childArray);\n\n\t\tvar children = isArray || (!isArray && typeof childArray === \"object\" && childArray !== null);\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.branchEl){\n\t\t\trow.modules.dataTree.branchEl.parentNode.removeChild(row.modules.dataTree.branchEl);\n\t\t}\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.controlEl){\n\t\t\trow.modules.dataTree.controlEl.parentNode.removeChild(row.modules.dataTree.controlEl);\n\t\t}\n\n\t\trow.modules.dataTree = {\n\t\t\tindex: row.modules.dataTree ? row.modules.dataTree.index : 0,\n\t\t\topen: children ? (row.modules.dataTree ? row.modules.dataTree.open : this.startOpen(row.getComponent(), 0)) : false,\n\t\t\tcontrolEl: row.modules.dataTree && children ? row.modules.dataTree.controlEl : false,\n\t\t\tbranchEl: row.modules.dataTree && children ? row.modules.dataTree.branchEl : false,\n\t\t\tparent: row.modules.dataTree ? row.modules.dataTree.parent : false,\n\t\t\tchildren:children,\n\t\t};\n\t}\n\n\treinitializeRowChildren(row){\n\t\tvar children = this.getTreeChildren(row, false, true);\n\n\t\tchildren.forEach(function(child){\n\t\t\tchild.reinitialize(true);\n\t\t});\n\t}\n\n\tlayoutRow(row){\n\t\tvar cell = this.elementField ? row.getCell(this.elementField) : row.getCells()[0],\n\t\tel = cell.getElement(),\n\t\tconfig = row.modules.dataTree;\n\n\t\tif(config.branchEl){\n\t\t\tif(config.branchEl.parentNode){\n\t\t\t\tconfig.branchEl.parentNode.removeChild(config.branchEl);\n\t\t\t}\n\t\t\tconfig.branchEl = false;\n\t\t}\n\n\t\tif(config.controlEl){\n\t\t\tif(config.controlEl.parentNode){\n\t\t\t\tconfig.controlEl.parentNode.removeChild(config.controlEl);\n\t\t\t}\n\t\t\tconfig.controlEl = false;\n\t\t}\n\n\t\tthis.generateControlElement(row, el);\n\n\t\trow.getElement().classList.add(\"tabulator-tree-level-\" + config.index);\n\n\t\tif(config.index){\n\t\t\tif(this.branchEl){\n\t\t\t\tconfig.branchEl = this.branchEl.cloneNode(true);\n\t\t\t\tel.insertBefore(config.branchEl, el.firstChild);\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tconfig.branchEl.style.marginRight = (((config.branchEl.offsetWidth + config.branchEl.style.marginLeft) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}else {\n\t\t\t\t\tconfig.branchEl.style.marginLeft = (((config.branchEl.offsetWidth + config.branchEl.style.marginRight) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}\n\t\t\t}else {\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tel.style.paddingRight = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-right')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}else {\n\t\t\t\t\tel.style.paddingLeft = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-left')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateControlElement(row, el){\n\t\tvar config = row.modules.dataTree,\n\t\toldControl = config.controlEl;\n\n\t\tel = el || row.getCells()[0].getElement();\n\n\t\tif(config.children !== false){\n\n\t\t\tif(config.open){\n\t\t\t\tconfig.controlEl = this.collapseEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.collapseRow(row);\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconfig.controlEl = this.expandEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.expandRow(row);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconfig.controlEl.addEventListener(\"mousedown\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tif(oldControl && oldControl.parentNode === el){\n\t\t\t\toldControl.parentNode.replaceChild(config.controlEl,oldControl);\n\t\t\t}else {\n\t\t\t\tel.insertBefore(config.controlEl, el.firstChild);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetRows(rows){\n\t\tvar output = [];\n\n\t\trows.forEach((row, i) => {\n\t\t\tvar config, children;\n\n\t\t\toutput.push(row);\n\n\t\t\tif(row instanceof Row){\n\n\t\t\t\trow.create();\n\n\t\t\t\tconfig = row.modules.dataTree;\n\n\t\t\t\tif(!config.index && config.children !== false){\n\t\t\t\t\tchildren = this.getChildren(row, false, true);\n\n\t\t\t\t\tchildren.forEach((child) => {\n\t\t\t\t\t\tchild.create();\n\t\t\t\t\t\toutput.push(child);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetChildren(row, allChildren, sortOnly){\n\t\tvar config = row.modules.dataTree,\n\t\tchildren = [],\n\t\toutput = [];\n\n\t\tif(config.children !== false && (config.open || allChildren)){\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else {\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"sort\") && this.table.options.dataTreeSort){\n\t\t\t\tthis.table.modules.sort.sort(children, sortOnly);\n\t\t\t}\n\n\t\t\tchildren.forEach((child) => {\n\t\t\t\toutput.push(child);\n\n\t\t\t\tvar subChildren = this.getChildren(child, false, true);\n\n\t\t\t\tsubChildren.forEach((sub) => {\n\t\t\t\t\toutput.push(sub);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgenerateChildren(row){\n\t\tvar children = [];\n\n\t\tvar childArray = row.getData()[this.field];\n\n\t\tif(!Array.isArray(childArray)){\n\t\t\tchildArray = [childArray];\n\t\t}\n\n\t\tchildArray.forEach((childData) => {\n\t\t\tvar childRow = new Row(childData || {}, this.table.rowManager);\n\n\t\t\tchildRow.create();\n\n\t\t\tchildRow.modules.dataTree.index = row.modules.dataTree.index + 1;\n\t\t\tchildRow.modules.dataTree.parent = row;\n\n\t\t\tif(childRow.modules.dataTree.children){\n\t\t\t\tchildRow.modules.dataTree.open = this.startOpen(childRow.getComponent(), childRow.modules.dataTree.index);\n\t\t\t}\n\t\t\tchildren.push(childRow);\n\t\t});\n\n\t\treturn children;\n\t}\n\n\texpandRow(row, silent){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = true;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowExpanded\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\tcollapseRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = false;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowCollapsed\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\ttoggleRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tif(config.open){\n\t\t\t\tthis.collapseRow(row);\n\t\t\t}else {\n\t\t\t\tthis.expandRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowExpanded(row){\n\t\treturn row.modules.dataTree.open;\n\t}\n\n\tgetTreeParent(row){\n\t\treturn row.modules.dataTree.parent ? row.modules.dataTree.parent.getComponent() : false;\n\t}\n\n\tgetTreeParentRoot(row){\n\t\treturn row.modules.dataTree && row.modules.dataTree.parent ? this.getTreeParentRoot(row.modules.dataTree.parent) : row;\n\t}\n\n\tgetFilteredTreeChildren(row){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [], children;\n\n\t\tif(config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else {\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tchildren.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(childRow);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\trowDelete(row){\n\t\tvar parent = row.modules.dataTree.parent,\n\t\tchildIndex;\n\n\t\tif(parent){\n\t\t\tchildIndex = this.findChildIndex(row, parent);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\tparent.data[this.field].splice(childIndex, 1);\n\t\t\t}\n\n\t\t\tif(!parent.data[this.field].length){\n\t\t\t\tdelete parent.data[this.field];\n\t\t\t}\n\n\t\t\tthis.initializeRow(parent);\n\t\t\tthis.layoutRow(parent);\n\t\t}\n\n\t\tthis.refreshData(true);\n\t}\n\n\taddTreeChildRow(row, data, top, index){\n\t\tvar childIndex = false;\n\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(!Array.isArray(row.data[this.field])){\n\t\t\trow.data[this.field] = [];\n\n\t\t\trow.modules.dataTree.open = this.startOpen(row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tchildIndex = this.findChildIndex(index, row);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\trow.data[this.field].splice((top ? childIndex : childIndex + 1), 0, data);\n\t\t\t}\n\t\t}\n\n\t\tif(childIndex === false){\n\t\t\tif(top){\n\t\t\t\trow.data[this.field].unshift(data);\n\t\t\t}else {\n\t\t\t\trow.data[this.field].push(data);\n\t\t\t}\n\t\t}\n\n\t\tthis.initializeRow(row);\n\t\tthis.layoutRow(row);\n\n\t\tthis.refreshData(true);\n\t}\n\n\tfindChildIndex(subject, parent){\n\t\tvar match = false;\n\n\t\tif(typeof subject == \"object\"){\n\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\tmatch = subject.data;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\tmatch = subject._getSelf().data;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\tif(parent.modules.dataTree){\n\t\t\t\t\tmatch = parent.modules.dataTree.children.find((childRow) => {\n\t\t\t\t\t\treturn childRow instanceof Row ? childRow.element === subject : false;\n\t\t\t\t\t});\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tmatch = match.data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(subject === null){\n\t\t\t\tmatch = false;\n\t\t\t}\n\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\tmatch = false;\n\t\t}else {\n\t\t\t//subject should be treated as the index of the row\n\t\t\tmatch = parent.data[this.field].find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t}\n\n\t\tif(match){\n\n\t\t\tif(Array.isArray(parent.data[this.field])){\n\t\t\t\tmatch = parent.data[this.field].indexOf(match);\n\t\t\t}\n\n\t\t\tif(match == -1){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\t//catch all for any other type of input\n\n\t\treturn match;\n\t}\n\n\tgetTreeChildren(row, component, recurse){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [];\n\n\t\tif(config && config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tconfig.children.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(component ? childRow.getComponent() : childRow);\n\n\t\t\t\t\tif(recurse){\n\t\t\t\t\t\tthis.getTreeChildren(childRow, component, recurse).forEach(child => {\n\t\t\t\t\t\t\toutput.push(child);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetChildField(){\n\t\treturn this.field;\n\t}\n\n\tredrawNeeded(data){\n\t\treturn (this.field ? typeof data[this.field] !== \"undefined\" : false) || (this.elementField ? typeof data[this.elementField] !== \"undefined\" : false);\n\t}\n}\n\nfunction csv$1(list, options = {}, setFileContents){\n\tvar delimiter = options.delimiter ? options.delimiter : \",\",\n\tfileContents = [],\n\theaders = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = [];\n\n\t\tswitch(row.type){\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"header\":\n\t\t\t\trow.columns.forEach((col, i) => {\n\t\t\t\t\tif(col && col.depth === 1){\n\t\t\t\t\t\theaders[i] = typeof col.value == \"undefined\"  || col.value === null ? \"\" : ('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\n\t\t\t\t\tif(col){\n\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.push('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item.join(delimiter));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(headers.length){\n\t\tfileContents.unshift(headers.join(delimiter));\n\t}\n\n\tfileContents = fileContents.join(\"\\n\");\n\n\tif(options.bom){\n\t\tfileContents = \"\\ufeff\" + fileContents;\n\t}\n\n\tsetFileContents(fileContents, \"text/csv\");\n}\n\nfunction json$2(list, options, setFileContents){\n\tvar fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = {};\n\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif(col){\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfileContents = JSON.stringify(fileContents, null, '\\t');\n\n\tsetFileContents(fileContents, \"application/json\");\n}\n\nfunction pdf(list, options = {}, setFileContents){\n\tvar header = [],\n\tbody = [],\n\tautoTableParams = {},\n\trowGroupStyles = options.rowGroupStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 12,\n\t\tcellPadding: 6,\n\t\tfillColor: 220,\n\t},\n\trowCalcStyles = options.rowCalcStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 10,\n\t\tcellPadding: 4,\n\t\tfillColor: 232,\n\t},\n\tjsPDFParams = options.jsPDF || {},\n\ttitle = options.title ? options.title : \"\",\n\tjspdfLib, doc;\n\n\tif(!jsPDFParams.orientation){\n\t\tjsPDFParams.orientation = options.orientation || \"landscape\";\n\t}\n\n\tif(!jsPDFParams.unit){\n\t\tjsPDFParams.unit = \"pt\";\n\t}\n\n\t//parse row list\n\tlist.forEach((row) => {\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\theader.push(parseRow(row));\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tbody.push(parseRow(row, rowGroupStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tbody.push(parseRow(row, rowCalcStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\tbody.push(parseRow(row));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfunction parseRow(row, styles){\n\t\tvar rowData = [];\n\n\t\trow.columns.forEach((col) =>{\n\t\t\tvar cell;\n\n\t\t\tif(col){\n\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcell = {\n\t\t\t\t\tcontent:col.value,\n\t\t\t\t\tcolSpan:col.width,\n\t\t\t\t\trowSpan:col.height,\n\t\t\t\t};\n\n\t\t\t\tif(styles){\n\t\t\t\t\tcell.styles = styles;\n\t\t\t\t}\n\n\t\t\t\trowData.push(cell);\n\t\t\t}\n\t\t});\n\n\t\treturn rowData;\n\t}\n\n\n\t//configure PDF\n\tjspdfLib = this.dependencyRegistry.lookup(\"jspdf\", \"jsPDF\");\n\tdoc = new jspdfLib(jsPDFParams); //set document to landscape, better for most tables\n\n\tif(options.autoTable){\n\t\tif(typeof options.autoTable === \"function\"){\n\t\t\tautoTableParams = options.autoTable(doc) || {};\n\t\t}else {\n\t\t\tautoTableParams = options.autoTable;\n\t\t}\n\t}\n\n\tif(title){\n\t\tautoTableParams.didDrawPage = function(data) {\n\t\t\tdoc.text(title, 40, 30);\n\t\t};\n\t}\n\n\tautoTableParams.head = header;\n\tautoTableParams.body = body;\n\n\tdoc.autoTable(autoTableParams);\n\n\tif(options.documentProcessing){\n\t\toptions.documentProcessing(doc);\n\t}\n\n\tsetFileContents(doc.output(\"arraybuffer\"), \"application/pdf\");\n}\n\nfunction xlsx$1(list, options, setFileContents){\n\tvar self = this,\n\tsheetName = options.sheetName || \"Sheet1\",\n\tXLSXLib = this.dependencyRegistry.lookup(\"XLSX\"),\n\tworkbook = XLSXLib.utils.book_new(),\n\ttableFeatures = new CoreFeature(this),\n\tcompression =  'compress' in options ? options.compress : true,\n\twriteOptions = options.writeOptions || {bookType:'xlsx', bookSST:true, compression},\n\toutput;\n\n\twriteOptions.type = 'binary';\n\n\tworkbook.SheetNames = [];\n\tworkbook.Sheets = {};\n\n\tfunction generateSheet(){\n\t\tvar rows = [],\n\t\tmerges = [],\n\t\tworksheet = {},\n\t\trange = {s: {c:0, r:0}, e: {c:(list[0] ? list[0].columns.reduce((a, b) => a + (b && b.width ? b.width : 1), 0) : 0), r:list.length }};\n\n\t\t//parse row list\n\t\tlist.forEach((row, i) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach(function(col, j){\n\n\t\t\t\tif(col){\n\t\t\t\t\trowData.push(!(col.value instanceof Date) && typeof col.value === \"object\" ? JSON.stringify(col.value) : col.value);\n\n\t\t\t\t\tif(col.width > 1 || col.height > -1){\n\t\t\t\t\t\tif(col.height > 1 || col.width > 1){\n\t\t\t\t\t\t\tmerges.push({s:{r:i,c:j},e:{r:i + col.height - 1,c:j + col.width - 1}});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\trowData.push(\"\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trows.push(rowData);\n\t\t});\n\n\t\t//convert rows to worksheet\n\t\tXLSXLib.utils.sheet_add_aoa(worksheet, rows);\n\n\t\tworksheet['!ref'] = XLSXLib.utils.encode_range(range);\n\n\t\tif(merges.length){\n\t\t\tworksheet[\"!merges\"] = merges;\n\t\t}\n\n\t\treturn worksheet;\n\t}\n\n\tif(options.sheetOnly){\n\t\tsetFileContents(generateSheet());\n\t\treturn;\n\t}\n\n\tif(options.sheets){\n\t\tfor(var sheet in options.sheets){\n\n\t\t\tif(options.sheets[sheet] === true){\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\t\t\t\tworkbook.Sheets[sheet] = generateSheet();\n\t\t\t}else {\n\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\n\t\t\t\ttableFeatures.commsSend(options.sheets[sheet], \"download\", \"intercept\",{\n\t\t\t\t\ttype:\"xlsx\",\n\t\t\t\t\toptions:{sheetOnly:true},\n\t\t\t\t\tactive:self.active,\n\t\t\t\t\tintercept:function(data){\n\t\t\t\t\t\tworkbook.Sheets[sheet] = data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}else {\n\t\tworkbook.SheetNames.push(sheetName);\n\t\tworkbook.Sheets[sheetName] = generateSheet();\n\t}\n\n\tif(options.documentProcessing){\n\t\tworkbook = options.documentProcessing(workbook);\n\t}\n\n\t//convert workbook to binary array\n\tfunction s2ab(s) {\n\t\tvar buf = new ArrayBuffer(s.length);\n\t\tvar view = new Uint8Array(buf);\n\t\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\t\treturn buf;\n\t}\n\n\toutput = XLSXLib.write(workbook, writeOptions);\n\n\tsetFileContents(s2ab(output), \"application/octet-stream\");\n}\n\nfunction html$1(list, options, setFileContents){\n\tif(this.modExists(\"export\", true)){\n\t\tsetFileContents(this.modules.export.generateHTMLTable(list), \"text/html\");\n\t}\n}\n\nfunction jsonLines (list, options, setFileContents) {\n\tconst fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tconst item = {};\n\n\t\tswitch (row.type) {\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif (col) {\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(JSON.stringify(item));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tsetFileContents(fileContents.join(\"\\n\"), \"application/x-ndjson\");\n}\n\nvar defaultDownloaders = {\n\tcsv:csv$1,\n\tjson:json$2,\n\tjsonLines:jsonLines,\n\tpdf:pdf,\n\txlsx:xlsx$1,\n\thtml:html$1,\n};\n\nclass Download extends Module{\n\n\tstatic moduleName = \"download\";\n\n\t//load defaults\n\tstatic downloaders = defaultDownloaders;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.registerTableOption(\"downloadEncoder\", function(data, mimeType){\n\t\t\treturn new Blob([data],{type:mimeType});\n\t\t}); //function to manipulate download data\n\t\t// this.registerTableOption(\"downloadReady\", undefined); //warn of function deprecation\n\t\tthis.registerTableOption(\"downloadConfig\", {}); //download config\n\t\tthis.registerTableOption(\"downloadRowRange\", \"active\"); //restrict download to active rows only\n\n\t\tthis.registerColumnOption(\"download\");\n\t\tthis.registerColumnOption(\"titleDownload\");\n\t}\n\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\n\t\tthis.registerTableFunction(\"download\", this.download.bind(this));\n\t\tthis.registerTableFunction(\"downloadToTab\", this.downloadToTab.bind(this));\n\t}\n\n\tdeprecatedOptionsCheck(){\n\t\t// this.deprecationCheck(\"downloadReady\", \"downloadEncoder\");\n\t}\t\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tdownloadToTab(type, filename, options, active){\n\t\tthis.download(type, filename, options, active, true);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//trigger file download\n\tdownload(type, filename, options, range, interceptCallback){\n\t\tvar downloadFunc = false;\n\n\t\tfunction buildLink(data, mime){\n\t\t\tif(interceptCallback){\n\t\t\t\tif(interceptCallback === true){\n\t\t\t\t\tthis.triggerDownload(data, mime, type, filename, true);\n\t\t\t\t}else {\n\t\t\t\t\tinterceptCallback(data);\n\t\t\t\t}\n\n\t\t\t}else {\n\t\t\t\tthis.triggerDownload(data, mime, type, filename);\n\t\t\t}\n\t\t}\n\n\t\tif(typeof type == \"function\"){\n\t\t\tdownloadFunc = type;\n\t\t}else {\n\t\t\tif(Download.downloaders[type]){\n\t\t\t\tdownloadFunc = Download.downloaders[type];\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Download Error - No such download type found: \", type);\n\t\t\t}\n\t\t}\n\n\t\tif(downloadFunc){\n\t\t\tvar list = this.generateExportList(range);\n\n\t\t\tdownloadFunc.call(this.table, list , options || {}, buildLink.bind(this));\n\t\t}\n\t}\n\n\tgenerateExportList(range){\n\t\tvar list = this.table.modules.export.generateExportList(this.table.options.downloadConfig, false, range || this.table.options.downloadRowRange, \"download\");\n\n\t\t//assign group header formatter\n\t\tvar groupHeader = this.table.options.groupHeaderDownload;\n\n\t\tif(groupHeader && !Array.isArray(groupHeader)){\n\t\t\tgroupHeader = [groupHeader];\n\t\t}\n\n\t\tlist.forEach((row) => {\n\t\t\tvar group;\n\n\t\t\tif(row.type === \"group\"){\n\t\t\t\tgroup = row.columns[0];\n\n\t\t\t\tif(groupHeader && groupHeader[row.indent]){\n\t\t\t\t\tgroup.value = groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn list;\n\t}\n\n\ttriggerDownload(data, mime, type, filename, newTab){\n\t\tvar element = document.createElement('a'),\n\t\tblob = this.table.options.downloadEncoder(data, mime);\n\n\t\tif(blob){\n\t\t\tif(newTab){\n\t\t\t\twindow.open(window.URL.createObjectURL(blob));\n\t\t\t}else {\n\t\t\t\tfilename = filename || \"Tabulator.\" + (typeof type === \"function\" ? \"txt\" : type);\n\t\t\t\t\n\t\t\t\tif(navigator.msSaveOrOpenBlob){\n\t\t\t\t\tnavigator.msSaveOrOpenBlob(blob, filename);\n\t\t\t\t}else {\n\t\t\t\t\telement.setAttribute('href', window.URL.createObjectURL(blob));\n\n\t\t\t\t\t//set file title\n\t\t\t\t\telement.setAttribute('download', filename);\n\n\t\t\t\t\t//trigger download\n\t\t\t\t\telement.style.display = 'none';\n\t\t\t\t\tdocument.body.appendChild(element);\n\t\t\t\t\telement.click();\n\n\t\t\t\t\t//remove temporary link element\n\t\t\t\t\tdocument.body.removeChild(element);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"downloadComplete\");\n\t\t}\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"intercept\":\n\t\t\t\tthis.download(data.type, \"\", data.options, data.active, data.intercept);\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nfunction maskInput(el, options){\n\tvar mask = options.mask,\n\tmaskLetter = typeof options.maskLetterChar !== \"undefined\" ? options.maskLetterChar : \"A\",\n\tmaskNumber = typeof options.maskNumberChar !== \"undefined\" ? options.maskNumberChar : \"9\",\n\tmaskWildcard = typeof options.maskWildcardChar !== \"undefined\" ? options.maskWildcardChar : \"*\";\n\n\tfunction fillSymbols(index){\n\t\tvar symbol = mask[index];\n\t\tif(typeof symbol !== \"undefined\" && symbol !== maskWildcard && symbol !== maskLetter && symbol !== maskNumber){\n\t\t\tel.value = el.value + \"\" + symbol;\n\t\t\tfillSymbols(index+1);\n\t\t}\n\t}\n\n\tel.addEventListener(\"keydown\", (e) => {\n\t\tvar index = el.value.length,\n\t\tchar = e.key;\n\n\t\tif(e.keyCode > 46 && !e.ctrlKey && !e.metaKey){\n\t\t\tif(index >= mask.length){\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\treturn false;\n\t\t\t}else {\n\t\t\t\tswitch(mask[index]){\n\t\t\t\t\tcase maskLetter:\n\t\t\t\t\t\tif(char.toUpperCase() == char.toLowerCase()){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskNumber:\n\t\t\t\t\t\tif(isNaN(char)){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskWildcard:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(char !== mask[index]){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn;\n\t});\n\n\tel.addEventListener(\"keyup\", (e) => {\n\t\tif(e.keyCode > 46){\n\t\t\tif(options.maskAutoFill){\n\t\t\t\tfillSymbols(el.value.length);\n\t\t\t}\n\t\t}\n\t});\n\n\n\tif(!el.placeholder){\n\t\tel.placeholder = mask;\n\t}\n\n\tif(options.maskAutoFill){\n\t\tfillSymbols(el.value.length);\n\t}\n}\n\n//input element\nfunction input(cell, onRendered, success, cancel, editorParams){\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", editorParams.search ? \"search\" : \"text\");\n\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}\n\n//resizable text area element\nfunction textarea$1(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"hybrid\",\n\tvalue = String(cellValue !== null && typeof cellValue !== \"undefined\"  ? cellValue : \"\"),\n\tinput = document.createElement(\"textarea\"),\n\tscrollHeight = 0;\n\n\t//create and style input\n\tinput.style.display = \"block\";\n\tinput.style.padding = \"2px\";\n\tinput.style.height = \"100%\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\tinput.style.whiteSpace = \"pre-wrap\";\n\tinput.style.resize = \"none\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = value;\n\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tinput.scrollHeight;\n\t\t\tinput.style.height = input.scrollHeight + \"px\";\n\t\t\tcell.getRow().normalizeHeight();\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\n\t\t\tsetTimeout(function(){\n\t\t\t\tcell.getRow().normalizeHeight();\n\t\t\t},300);\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\tinput.addEventListener(\"keyup\", function(){\n\n\t\tinput.style.height = \"\";\n\n\t\tvar heightNow = input.scrollHeight;\n\n\t\tinput.style.height = heightNow + \"px\";\n\n\t\tif(heightNow != scrollHeight){\n\t\t\tscrollHeight = heightNow;\n\t\t\tcell.getRow().normalizeHeight();\n\t\t}\n\t});\n\n\tinput.addEventListener(\"keydown\", function(e){\n\n\t\tswitch(e.keyCode){\n\n\t\t\tcase 13:\n\t\t\t\tif(e.shiftKey && editorParams.shiftEnterSubmit){\n\t\t\t\t\tonChange();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart !== input.value.length)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}\n\n//input element with type of number\nfunction number$1(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", \"number\");\n\n\tif(typeof editorParams.max != \"undefined\"){\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\n\tif(typeof editorParams.min != \"undefined\"){\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\n\tif(typeof editorParams.step != \"undefined\"){\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = cellValue;\n\n\tvar blurFunc = function(e){\n\t\tonChange();\n\t};\n\n\tonRendered(function () {\n\t\tif(cell.getType() === \"cell\"){\n\t\t\t//submit new value on blur\n\t\t\tinput.removeEventListener(\"blur\", blurFunc);\n\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\t//submit new value on blur\n\t\t\tinput.addEventListener(\"blur\", blurFunc);\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(){\n\t\tvar value = input.value;\n\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\n\t\tif(value !== cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}\n\n//input element with type of number\nfunction range(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.setAttribute(\"type\", \"range\");\n\t\n\tif (typeof editorParams.max != \"undefined\") {\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\t\n\tif (typeof editorParams.min != \"undefined\") {\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\t\n\tif (typeof editorParams.step != \"undefined\") {\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\t\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function () {\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value;\n\t\t\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\t\t\n\t\tif(value != cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e){\n\t\tonChange();\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\n//input element\nfunction date$1(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tfunction convertDate(value){\n\t\tvar newDatetime;\n\t\t\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else {\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\t\t\n\t\treturn newDatetime.toFormat(\"yyyy-MM-dd\");\n\t}\n\t\n\tinput.type = \"date\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.max){\n\t\tinput.setAttribute(\"max\", inputFormat ? convertDate(editorParams.max) : editorParams.max);\n\t}\n\n\tif(editorParams.min){\n\t\tinput.setAttribute(\"min\", inputFormat ? convertDate(editorParams.min) : editorParams.min);\n\t}\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\t\t\n\t\t\tcellValue = convertDate(cellValue);\t\t\t\n\t\t}else {\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDate;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDate = DT.fromFormat(String(value), \"yyyy-MM-dd\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDate;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDate.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDate.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\n//input element\nfunction time$1(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"time\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else {\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"HH:mm\");\n\t\t\t\n\t\t}else {\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() == \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxTime = DT.fromFormat(String(value), \"hh:mm\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\n//input element\nfunction datetime$2(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (this.table.dependencyRegistry.lookup([\"luxon\", \"DateTime\"], \"DateTime\")) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"datetime-local\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else {\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"yyyy-MM-dd\")  + \"T\" + newDatetime.toFormat(\"HH:mm\");\n\t\t}else {\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell.getType() === \"cell\"){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDateTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDateTime = DT.fromISO(String(value));\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDateTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDateTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDateTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else {\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\nlet Edit$1 = class Edit{\n\tconstructor(editor, cell, onRendered, success, cancel, editorParams){\n\t\tthis.edit = editor;\n\t\tthis.table = editor.table;\n\t\tthis.cell = cell;\n\t\tthis.params = this._initializeParams(editorParams);\n\t\t\n\t\tthis.data = [];\n\t\tthis.displayItems = [];\n\t\tthis.currentItems = [];\n\t\tthis.focusedItem = null;\n\t\t\n\t\tthis.input = this._createInputElement();\n\t\tthis.listEl = this._createListElement();\n\t\t\n\t\tthis.initialValues = null; \n\t\t\n\t\tthis.isFilter = cell.getType() === \"header\";\n\t\t\n\t\tthis.filterTimeout = null;\n\t\tthis.filtered = false;\n\t\tthis.typing = false;\n\t\t\n\t\tthis.values = []; \n\t\tthis.popup = null;  \n\t\t\n\t\tthis.listIteration = 0;\n\t\t\n\t\tthis.lastAction=\"\";\n\t\tthis.filterTerm=\"\";\n\t\t\n\t\tthis.blurable = true;\n\t\t\n\t\tthis.actions = {\n\t\t\tsuccess:success,\n\t\t\tcancel:cancel\n\t\t};\n\t\t\n\t\tthis._deprecatedOptionsCheck();\n\t\tthis._initializeValue();\n\t\t\n\t\tonRendered(this._onRendered.bind(this));\n\t}\n\t\n\t_deprecatedOptionsCheck(){\n\t\t// if(this.params.listItemFormatter){\n\t\t// \tthis.cell.getTable().deprecationAdvisor.msg(\"The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t// }\n\t\t\n\t\t// if(this.params.sortValuesList){\n\t\t// \tthis.cell.getTable().deprecationAdvisor.msg(\"The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t// }\n\t\t\n\t\t// if(this.params.searchFunc){\n\t\t// \tthis.cell.getTable().deprecationAdvisor.msg(\"The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t// }\n\t\t\n\t\t// if(this.params.searchingPlaceholder){\n\t\t// \tthis.cell.getTable().deprecationAdvisor.msg(\"The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t// }\n\t}\n\t\n\t_initializeValue(){\n\t\tvar initialValue = this.cell.getValue();\n\t\t\n\t\tif(typeof initialValue === \"undefined\" && typeof this.params.defaultValue !== \"undefined\"){\n\t\t\tinitialValue = this.params.defaultValue;\n\t\t}\n\t\t\n\t\tthis.initialValues = this.params.multiselect ? initialValue : [initialValue];\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.input.value = this.initialValues ? this.initialValues.join(\",\") : \"\";\n\t\t\tthis.headerFilterInitialListGen();            \n\t\t}\n\t}\n\t\n\t_onRendered(){\n\t\tvar cellEl = this.cell.getElement();\n\t\t\n\t\tfunction clickStop(e){\n\t\t\te.stopPropagation();\n\t\t}\t\n\t\t\n\t\tif(!this.isFilter){\n\t\t\tthis.input.style.height = \"100%\";\n\t\t\tthis.input.focus({preventScroll: true});\n\t\t}\n\t\t\n\t\t\n\t\tcellEl.addEventListener(\"click\", clickStop);\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tcellEl.removeEventListener(\"click\", clickStop);\n\t\t}, 1000);\n\t\t\n\t\tthis.input.addEventListener(\"mousedown\", this._preventPopupBlur.bind(this));\n\t}\n\t\n\t_createListElement(){\n\t\tvar listEl = document.createElement(\"div\");\n\t\tlistEl.classList.add(\"tabulator-edit-list\");\n\t\t\n\t\tlistEl.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\tlistEl.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\t\n\t\treturn listEl;\n\t}\n\t\n\t_setListWidth(){\n\t\tvar element = this.isFilter ? this.input : this.cell.getElement();\n\t\t\n\t\tthis.listEl.style.minWidth = element.offsetWidth + \"px\";\n\t\t\n\t\tif(this.params.maxWidth){\n\t\t\tif(this.params.maxWidth === true){\n\t\t\t\tthis.listEl.style.maxWidth = element.offsetWidth + \"px\";\n\t\t\t}else if(typeof this.params.maxWidth === \"number\"){\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth + \"px\";\n\t\t\t}else {\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t_createInputElement(){\n\t\tvar attribs = this.params.elementAttributes;\n\t\tvar input = document.createElement(\"input\");\n\t\t\n\t\tinput.setAttribute(\"type\", this.params.clearable ? \"search\" : \"text\");\n\t\t\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\t\t\n\t\tif(!this.params.autocomplete){\n\t\t\tinput.style.cursor = \"default\";\n\t\t\tinput.style.caretColor = \"transparent\";\n\t\t\t// input.readOnly = (this.edit.currentCell != false);\n\t\t}\n\t\t\n\t\tif(attribs && typeof attribs == \"object\"){\n\t\t\tfor (let key in attribs){\n\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + attribs[\"+\" + key]);\n\t\t\t\t}else {\n\t\t\t\t\tinput.setAttribute(key, attribs[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(this.params.mask){\n\t\t\tmaskInput(input, this.params);\n\t\t}\n\t\t\n\t\tthis._bindInputEvents(input);\n\t\t\n\t\treturn input;\n\t}\n\t\n\t_initializeParams(params){\n\t\tvar valueKeys = [\"values\", \"valuesURL\", \"valuesLookup\"],\n\t\tvalueCheck;\n\t\t\n\t\tparams = Object.assign({}, params);\n\t\t\n\t\tparams.verticalNavigation = params.verticalNavigation || \"editor\";\n\t\tparams.placeholderLoading = typeof params.placeholderLoading === \"undefined\" ? \"Searching ...\" : params.placeholderLoading;\n\t\tparams.placeholderEmpty = typeof params.placeholderEmpty === \"undefined\" ? \"No Results Found\" : params.placeholderEmpty;\n\t\tparams.filterDelay = typeof params.filterDelay === \"undefined\" ? 300 : params.filterDelay;\n\t\t\n\t\tparams.emptyValue = Object.keys(params).includes(\"emptyValue\") ? params.emptyValue : \"\";\n\t\t\n\t\tvalueCheck = Object.keys(params).filter(key => valueKeys.includes(key)).length;\n\t\t\n\t\tif(!valueCheck){\n\t\t\tconsole.warn(\"list editor config error - either the values, valuesURL, or valuesLookup option must be set\");\n\t\t}else if(valueCheck > 1){\n\t\t\tconsole.warn(\"list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor\");\n\t\t}\n\t\t\n\t\tif(params.autocomplete){\n\t\t\tif(params.multiselect){\n\t\t\t\tparams.multiselect = false;\n\t\t\t\tconsole.warn(\"list editor config error - multiselect option is not available when autocomplete is enabled\");\n\t\t\t}\n\t\t}else {\n\t\t\tif(params.freetext){\n\t\t\t\tparams.freetext = false;\n\t\t\t\tconsole.warn(\"list editor config error - freetext option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterFunc){\n\t\t\t\tparams.filterFunc = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterFunc option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterRemote){\n\t\t\t\tparams.filterRemote = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterRemote option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.mask){\n\t\t\t\tparams.mask = false;\n\t\t\t\tconsole.warn(\"list editor config error - mask option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.allowEmpty){\n\t\t\t\tparams.allowEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - allowEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.listOnEmpty){\n\t\t\t\tparams.listOnEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - listOnEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(params.filterRemote && !(typeof params.valuesLookup === \"function\" || params.valuesURL)){\n\t\t\tparams.filterRemote = false;\n\t\t\tconsole.warn(\"list editor config error - filterRemote option should only be used when values list is populated from a remote source\");\n\t\t}\n\t\treturn params;\n\t}\n\t//////////////////////////////////////\n\t////////// Event Handling ////////////\n\t//////////////////////////////////////\n\t\n\t_bindInputEvents(input){\n\t\tinput.addEventListener(\"focus\", this._inputFocus.bind(this));\n\t\tinput.addEventListener(\"click\", this._inputClick.bind(this));\n\t\tinput.addEventListener(\"blur\", this._inputBlur.bind(this));\n\t\tinput.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\tinput.addEventListener(\"search\", this._inputSearch.bind(this));\n\t\t\n\t\tif(this.params.autocomplete){\n\t\t\tinput.addEventListener(\"keyup\", this._inputKeyUp.bind(this));\n\t\t}\n\t}\n\t\n\t\n\t_inputFocus(e){\n\t\tthis.rebuildOptionsList();\n\t}\n\t\n\t_filter(){\n\t\tif(this.params.filterRemote){\n\t\t\tclearTimeout(this.filterTimeout);\n\t\t\t\n\t\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\t\tthis.rebuildOptionsList();\n\t\t\t}, this.params.filterDelay);\n\t\t}else {\n\t\t\tthis._filterList();\n\t\t}\n\t}\n\t\n\t_inputClick(e){\n\t\te.stopPropagation();\n\t}\n\t\n\t_inputBlur(e){\n\t\tif(this.blurable){\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.hide();\n\t\t\t}else {\n\t\t\t\tthis._resolveValue(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_inputSearch(){\n\t\tthis._clearChoices();\n\t}\n\t\n\t_inputKeyDown(e){\n\t\tswitch(e.keyCode){\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\t\tthis._keyUp(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 40: //down arrow\n\t\t\t\tthis._keyDown(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //right arrow\n\t\t\t\tthis._keySide(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 13: //enter\n\t\t\t\tthis._keyEnter();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27: //escape\n\t\t\t\tthis._keyEsc();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 36: //home\n\t\t\tcase 35: //end\n\t\t\t\tthis._keyHomeEnd(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 9: //tab\n\t\t\t\tthis._keyTab(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keySelectLetter(e);\n\t\t}\n\t}\n\t\n\t_inputKeyUp(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 38: //up arrow\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //up arrow\n\t\t\tcase 40: //right arrow\n\t\t\tcase 13: //enter\n\t\t\tcase 27: //escape\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keyAutoCompLetter(e);\n\t\t}\n\t}\n\t\n\t_preventPopupBlur(){\n\t\tif(this.popup){\n\t\t\tthis.popup.blockHide();\n\t\t}\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.restoreHide();\n\t\t\t}\n\t\t}, 10);\n\t}\n\t\n\t_preventBlur(){\n\t\tthis.blurable = false;\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tthis.blurable = true;\n\t\t}, 10);\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Keyboard Navigation /////////\n\t//////////////////////////////////////\n\t\n\t_keyTab(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else {\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyUp(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index > 0){\n\t\t\t\tthis._focusItem(this.displayItems[index - 1]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyDown(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index < this.displayItems.length - 1)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index < this.displayItems.length - 1){\n\t\t\t\tif(index == -1){\n\t\t\t\t\tthis._focusItem(this.displayItems[0]);\n\t\t\t\t}else {\n\t\t\t\t\tthis._focusItem(this.displayItems[index + 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keySide(e){\n\t\tif(!this.params.autocomplete){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\t\n\t_keyEnter(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else {\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyEsc(e){\n\t\tthis._cancel();\n\t}\n\t\n\t_keyHomeEnd(e){\n\t\tif(this.params.autocomplete){\n\t\t\t//prevent table navigation while using input element\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\t}\n\t\n\t_keySelectLetter(e){\n\t\tif(!this.params.autocomplete){\n\t\t\t// if(this.edit.currentCell === false){\n\t\t\te.preventDefault();\n\t\t\t// }\n\t\t\t\n\t\t\tif(e.keyCode >= 38 && e.keyCode <= 90){\n\t\t\t\tthis._scrollToValue(e.keyCode);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyAutoCompLetter(e){\n\t\tthis._filter();\n\t\tthis.lastAction = \"typing\";\n\t\tthis.typing = true;\n\t}\n\t\n\t\n\t_scrollToValue(char){\n\t\tclearTimeout(this.filterTimeout);\n\t\t\n\t\tvar character = String.fromCharCode(char).toLowerCase();\n\t\tthis.filterTerm += character.toLowerCase();\n\t\t\n\t\tvar match = this.displayItems.find((item) => {\n\t\t\treturn typeof item.label !== \"undefined\" && item.label.toLowerCase().startsWith(this.filterTerm);\n\t\t});\n\t\t\n\t\tif(match){\n\t\t\tthis._focusItem(match);\n\t\t}\n\t\t\n\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\tthis.filterTerm = \"\";\n\t\t}, 800);\n\t}\n\t\n\t_focusItem(item){\n\t\tthis.lastAction = \"focus\";\n\t\t\n\t\tif(this.focusedItem && this.focusedItem.element){\n\t\t\tthis.focusedItem.element.classList.remove(\"focused\");\n\t\t}\n\t\t\n\t\tthis.focusedItem = item;\n\t\t\n\t\tif(item && item.element){\n\t\t\titem.element.classList.add(\"focused\");\n\t\t\titem.element.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'start'});\n\t\t}\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t/////// Data List Generation /////////\n\t//////////////////////////////////////\n\theaderFilterInitialListGen(){\n\t\tthis._generateOptions(true);\n\t}\n\t\n\trebuildOptionsList(){\n\t\tthis._generateOptions()\n\t\t\t.then(this._sortOptions.bind(this))\n\t\t\t.then(this._buildList.bind(this))\n\t\t\t.then(this._showList.bind(this))\n\t\t\t.catch((e) => {\n\t\t\t\tif(!Number.isInteger(e)){\n\t\t\t\t\tconsole.error(\"List generation error\", e);\n\t\t\t\t}\n\t\t\t});\n\t}\n\t\n\t_filterList(){\n\t\tthis._buildList(this._filterOptions());\n\t\tthis._showList();\n\t}\n\t\n\t_generateOptions(silent){\n\t\tvar values = [];\n\t\tvar iteration = ++ this.listIteration;\n\t\t\n\t\tthis.filtered = false;\n\t\t\n\t\tif(this.params.values){\n\t\t\tvalues = this.params.values;\n\t\t}else if (this.params.valuesURL){\n\t\t\tvalues = this._ajaxRequest(this.params.valuesURL, this.input.value);\n\t\t}else {\n\t\t\tif(typeof this.params.valuesLookup === \"function\"){\n\t\t\t\tvalues = this.params.valuesLookup(this.cell, this.input.value);\n\t\t\t}else if(this.params.valuesLookup){\n\t\t\t\tvalues = this._uniqueColumnValues(this.params.valuesLookupField);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(values instanceof Promise){\n\t\t\tif(!silent){\n\t\t\t\tthis._addPlaceholder(this.params.placeholderLoading);\n\t\t\t}\n\t\t\t\n\t\t\treturn values.then()\n\t\t\t\t.then((responseValues) => {\n\t\t\t\t\tif(this.listIteration === iteration){\n\t\t\t\t\t\treturn this._parseList(responseValues);\n\t\t\t\t\t}else {\n\t\t\t\t\t\treturn Promise.reject(iteration);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}else {\n\t\t\treturn Promise.resolve(this._parseList(values));\n\t\t}\n\t}\n\t\n\t_addPlaceholder(contents){\n\t\tvar placeholder = document.createElement(\"div\");\n\t\t\n\t\tif(typeof contents === \"function\"){\n\t\t\tcontents = contents(this.cell.getComponent(), this.listEl);\n\t\t}\n\t\t\n\t\tif(contents){\n\t\t\tthis._clearList();\n\t\t\t\n\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\tplaceholder = contents;\n\t\t\t}else {\n\t\t\t\tplaceholder.classList.add(\"tabulator-edit-list-placeholder\");\n\t\t\t\tplaceholder.innerHTML = contents;\n\t\t\t}\n\t\t\t\n\t\t\tthis.listEl.appendChild(placeholder);\n\t\t\t\n\t\t\tthis._showList();\n\t\t}\n\t}\n\t\n\t_ajaxRequest(url, term){\n\t\tvar params = this.params.filterRemote ? {term:term} : {};\n\t\turl = urlBuilder(url, {}, params);\n\t\t\n\t\treturn fetch(url)\n\t\t\t.then((response)=>{\n\t\t\t\tif(response.ok) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t\t\t.catch((error)=>{\n\t\t\t\t\t\t\tconsole.warn(\"List Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\treturn Promise.reject(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \", error);\n\t\t\t\treturn Promise.reject(error);\n\t\t\t});\n\t}\n\t\n\t_uniqueColumnValues(field){\n\t\tvar output = {},\n\t\tdata = this.table.getData(this.params.valuesLookup),\n\t\tcolumn;\n\t\t\n\t\tif(field){\n\t\t\tcolumn = this.table.columnManager.getColumnByField(field);\n\t\t}else {\n\t\t\tcolumn = this.cell.getColumn()._getSelf();\n\t\t}\n\t\t\n\t\tif(column){\n\t\t\tdata.forEach((row) => {\n\t\t\t\tvar val = column.getFieldValue(row);\n\t\t\t\t\n\t\t\t\tif(!this._emptyValueCheck(val)){\n\t\t\t\t\tif(this.params.multiselect && Array.isArray(val)){\n\t\t\t\t\t\tval.forEach((item) => {\n\t\t\t\t\t\t\tif(!this._emptyValueCheck(item)){\n\t\t\t\t\t\t\t\toutput[item] = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\toutput[val] = true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tconsole.warn(\"unable to find matching column to create select lookup list:\", field);\n\t\t\toutput = [];\n\t\t}\n\t\t\n\t\treturn Object.keys(output);\n\t}\n\n\t_emptyValueCheck(value){\n\t\treturn value === null || typeof value === \"undefined\" || value === \"\";\n\t}\n\t\n\t_parseList(inputValues){\n\t\tvar data = [];\n\t\t\n\t\tif(!Array.isArray(inputValues)){\n\t\t\tinputValues = Object.entries(inputValues).map(([key, value]) => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:key,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\t\n\t\tinputValues.forEach((value) => {\n\t\t\tif(typeof value !== \"object\"){\n\t\t\t\tvalue = {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:value,\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tthis._parseListItem(value, data, 0);\n\t\t});\n\t\t\n\t\tif(!this.currentItems.length && this.params.freetext){\n\t\t\tthis.input.value = this.initialValues;\n\t\t\tthis.typing = true;\n\t\t\tthis.lastAction = \"typing\";\n\t\t}\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\treturn data;    \n\t}\n\t\n\t_parseListItem(option, data, level){\n\t\tvar item = {};\n\t\t\n\t\tif(option.options){\n\t\t\titem = this._parseListGroup(option, level + 1);\n\t\t}else {\n\t\t\titem = {\n\t\t\t\tlabel:option.label,\n\t\t\t\tvalue:option.value,\n\t\t\t\titemParams:option.itemParams,\n\t\t\t\telementAttributes: option.elementAttributes,\n\t\t\t\telement:false,\n\t\t\t\tselected:false,\n\t\t\t\tvisible:true,\n\t\t\t\tlevel:level,\n\t\t\t\toriginal:option,\n\t\t\t};\n\t\t\t\n\t\t\tif(this.initialValues && this.initialValues.indexOf(option.value) > -1){\n\t\t\t\tthis._chooseItem(item, true);\n\t\t\t}\n\t\t}\n\t\t\n\t\tdata.push(item);\n\t}\n\t\n\t_parseListGroup(option, level){\n\t\tvar item = {\n\t\t\tlabel:option.label,\n\t\t\tgroup:true,\n\t\t\titemParams:option.itemParams,\n\t\t\telementAttributes:option.elementAttributes,\n\t\t\telement:false,\n\t\t\tvisible:true,\n\t\t\tlevel:level,\n\t\t\toptions:[],\n\t\t\toriginal:option,\n\t\t};\n\t\t\n\t\toption.options.forEach((child) => {\n\t\t\tthis._parseListItem(child, item.options, level);\n\t\t});\n\t\t\n\t\treturn item;\n\t}\n\t\n\t_sortOptions(options){\n\t\tvar sorter;\n\t\t\n\t\tif(this.params.sort){\n\t\t\tsorter = typeof this.params.sort === \"function\" ? this.params.sort : this._defaultSortFunction.bind(this);\n\t\t\t\n\t\t\tthis._sortGroup(sorter, options);\n\t\t}\n\t\t\n\t\treturn options;\n\t}\n\t\n\t_sortGroup(sorter, options){\n\t\toptions.sort((a,b) => {\n\t\t\treturn sorter(a.label, b.label, a.value, b.value, a.original, b.original);\n\t\t});\n\t\t\n\t\toptions.forEach((option) => {\n\t\t\tif(option.group){\n\t\t\t\tthis._sortGroup(sorter, option.options);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_defaultSortFunction(as, bs){\n\t\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\t\tvar emptyAlign = 0;\n\t\t\n\t\tif(this.params.sort === \"desc\"){\n\t\t\t[as, bs] = [bs, as];\n\t\t}\n\t\t\n\t\t//handle empty values\n\t\tif(!as && as!== 0){\n\t\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t\t}else if(!bs && bs!== 0){\n\t\t\temptyAlign =  1;\n\t\t}else {\n\t\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\t\ta = String(as).toLowerCase();\n\t\t\tb = String(bs).toLowerCase();\n\t\t\tif(a === b) return 0;\n\t\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\t\ta = a.match(rx);\n\t\t\tb = b.match(rx);\n\t\t\tL = a.length > b.length ? b.length : a.length;\n\t\t\twhile(i < L){\n\t\t\t\ta1= a[i];\n\t\t\t\tb1= b[i++];\n\t\t\t\tif(a1 !== b1){\n\t\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\t\treturn a1 - b1;\n\t\t\t\t\t}\n\t\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn a.length > b.length;\n\t\t}\n\t\t\n\t\treturn emptyAlign;\n\t}\n\t\n\t_filterOptions(){\n\t\tvar filterFunc = this.params.filterFunc || this._defaultFilterFunc,\n\t\tterm = this.input.value;\n\t\t\n\t\tif(term){\n\t\t\tthis.filtered = true;\n\t\t\t\n\t\t\tthis.data.forEach((item) => {\n\t\t\t\tthis._filterItem(filterFunc, term, item);\n\t\t\t});\n\t\t}else {\n\t\t\tthis.filtered = false;\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\t_filterItem(func, term, item){\n\t\tvar matches = false;\n\t\t\n\t\tif(!item.group){\n\t\t\titem.visible = func(term, item.label, item.value, item.original);\n\t\t}else {\n\t\t\titem.options.forEach((option) => {\n\t\t\t\tif(this._filterItem(func, term, option)){\n\t\t\t\t\tmatches = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\titem.visible = matches;\n\t\t}\n\t\t\n\t\treturn item.visible;\n\t}\n\t\n\t_defaultFilterFunc(term, label, value, item){\n\t\tterm = String(term).toLowerCase();\n\t\t\n\t\tif(label !== null && typeof label !== \"undefined\"){\n\t\t\tif(String(label).toLowerCase().indexOf(term) > -1 || String(value).toLowerCase().indexOf(term) > -1){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\t//////////////////////////////////////\n\t/////////// Display List /////////////\n\t//////////////////////////////////////\n\t\n\t_clearList(){\n\t\twhile(this.listEl.firstChild) this.listEl.removeChild(this.listEl.firstChild);\n\t\t\n\t\tthis.displayItems = [];\n\t}\n\t\n\t_buildList(data){\n\t\tthis._clearList();\n\t\t\n\t\tdata.forEach((option) => {\n\t\t\tthis._buildItem(option);\n\t\t});\n\t\t\n\t\tif(!this.displayItems.length){\n\t\t\tthis._addPlaceholder(this.params.placeholderEmpty);\n\t\t}  \n\t}\n\t\n\t_buildItem(item){\n\t\tvar el = item.element,\n\t\tcontents;\n\t\t\n\t\tif(!this.filtered || item.visible){\n\t\t\t\n\t\t\tif(!el){\n\t\t\t\tel = document.createElement(\"div\");\n\t\t\t\tel.tabIndex = 0;\n\t\t\t\t\n\t\t\t\tcontents = this.params.itemFormatter ? this.params.itemFormatter(item.label, item.value, item.original, el) : item.label;\n\t\t\t\t\n\t\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else {\n\t\t\t\t\tel.innerHTML = contents;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-group\");\n\t\t\t\t}else {\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-item\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.classList.add(\"tabulator-edit-list-group-level-\" + item.level);\n\t\t\t\t\n\t\t\t\tif(item.elementAttributes && typeof item.elementAttributes == \"object\"){\n\t\t\t\t\tfor (let key in item.elementAttributes){\n\t\t\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\t\t\tel.setAttribute(key, this.input.getAttribute(key) + item.elementAttributes[\"+\" + key]);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tel.setAttribute(key, item.elementAttributes[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.addEventListener(\"click\", this._groupClick.bind(this, item));\n\t\t\t\t}else {\n\t\t\t\t\tel.addEventListener(\"click\", this._itemClick.bind(this, item));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\t\t\t\n\t\t\t\titem.element = el;\n\t\t\t}\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tthis.listEl.appendChild(el);\n\t\t\t\n\t\t\tif(item.group){\n\t\t\t\titem.options.forEach((option) => {\n\t\t\t\t\tthis._buildItem(option);\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tthis.displayItems.push(item);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_showList(){\n\t\tvar startVis = this.popup && this.popup.isVisible();\n\t\t\n\t\tif(this.input.parentNode){\n\t\t\tif(this.params.autocomplete && this.input.value === \"\" && !this.params.listOnEmpty){\n\t\t\t\tif(this.popup){\n\t\t\t\t\tthis.popup.hide(true);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis._setListWidth();\n\t\t\t\n\t\t\tif(!this.popup){\n\t\t\t\tthis.popup = this.edit.popup(this.listEl);\n\t\t\t}\n\t\t\t\n\t\t\tthis.popup.show(this.cell.getElement(), \"bottom\");\n\t\t\t\n\t\t\tif(!startVis){\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.popup.hideOnBlur(this._resolveValue.bind(this, true));\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_styleItem(item){\n\t\tif(item && item.element){\n\t\t\tif(item.selected){\n\t\t\t\titem.element.classList.add(\"active\");\n\t\t\t}else {\n\t\t\t\titem.element.classList.remove(\"active\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// User Interaction ///////////\n\t//////////////////////////////////////\n\t\n\t_itemClick(item, e){\n\t\te.stopPropagation();\n\t\t\n\t\tthis._chooseItem(item);\n\t}\n\t\n\t_groupClick(item, e){\n\t\te.stopPropagation();\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t////// Current Item Management ///////\n\t//////////////////////////////////////\n\t\n\t_cancel(){\n\t\tthis.popup.hide(true);\n\t\tthis.actions.cancel();\n\t}\n\t\n\t_clearChoices(){\n\t\tthis.typing = true;\n\t\t\n\t\tthis.currentItems.forEach((item) => {\n\t\t\titem.selected = false;\n\t\t\tthis._styleItem(item);\n\t\t});\n\t\t\n\t\tthis.currentItems = [];\n\t\t\n\t\tthis.focusedItem = null;\n\t}\n\t\n\t_chooseItem(item, silent){\n\t\tvar index;\n\t\t\n\t\tthis.typing = false;\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\tindex = this.currentItems.indexOf(item);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.currentItems.splice(index, 1);\n\t\t\t\titem.selected = false;\n\t\t\t}else {\n\t\t\t\tthis.currentItems.push(item);\n\t\t\t\titem.selected = true;\n\t\t\t}\n\t\t\t\n\t\t\tthis.input.value = this.currentItems.map(item => item.label).join(\",\");\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t}else {\n\t\t\tthis.currentItems = [item];\n\t\t\titem.selected = true;\n\t\t\t\n\t\t\tthis.input.value = item.label;\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis._resolveValue();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis._focusItem(item);\n\t}\n\t\n\t_resolveValue(blur){\n\t\tvar output, initialValue;\n\t\t\n\t\tif(this.popup){\n\t\t\tthis.popup.hide(true);\n\t\t}\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\toutput = this.currentItems.map(item => item.value);\n\t\t}else {\n\t\t\tif(blur && this.params.autocomplete && this.typing){\n\t\t\t\tif(this.params.freetext || (this.params.allowEmpty && this.input.value === \"\")){\n\t\t\t\t\toutput = this.input.value;\n\t\t\t\t}else {\n\t\t\t\t\tthis.actions.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(this.currentItems[0]){\n\t\t\t\t\toutput = this.currentItems[0].value;\n\t\t\t\t}else {\n\t\t\t\t\tinitialValue = Array.isArray(this.initialValues) ? this.initialValues[0] : this.initialValues;\n\t\t\t\t\t\n\t\t\t\t\tif(initialValue === null || typeof initialValue === \"undefined\" || initialValue === \"\"){\n\t\t\t\t\t\toutput = initialValue;\n\t\t\t\t\t}else {\n\t\t\t\t\t\toutput = this.params.emptyValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(output === \"\"){\n\t\t\toutput = this.params.emptyValue;\n\t\t}\n\t\t\n\t\tthis.actions.success(output);\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.initialValues = output && !Array.isArray(output) ? [output] : output;\n\t\t\tthis.currentItems = [];\n\t\t}\n\t}\n\t\n};\n\nfunction list(cell, onRendered, success, cancel, editorParams){\n\tvar list = new Edit$1(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}\n\n//star rating\nfunction star$1(cell, onRendered, success, cancel, editorParams){\n\tvar self = this,\n\telement = cell.getElement(),\n\tvalue = cell.getValue(),\n\tmaxStars = element.getElementsByTagName(\"svg\").length || 5,\n\tsize = element.getElementsByTagName(\"svg\")[0] ? element.getElementsByTagName(\"svg\")[0].getAttribute(\"width\") : 14,\n\tstars = [],\n\tstarsHolder = document.createElement(\"div\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\n\n\n\t//change star type\n\tfunction starChange(val){\n\t\tstars.forEach(function(star, i){\n\t\t\tif(i < val){\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-active\");\n\t\t\t\t}else {\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-inactive\", \"tabulator-star-active\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}else {\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-inactive\");\n\t\t\t\t}else {\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-active\", \"tabulator-star-inactive\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}\n\t\t});\n\t}\n\n\t//build stars\n\tfunction buildStar(i){\n\n\t\tvar starHolder =  document.createElement(\"span\");\n\t\tvar nextStar = star.cloneNode(true);\n\n\t\tstars.push(nextStar);\n\n\t\tstarHolder.addEventListener(\"mouseenter\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tstarChange(i);\n\t\t});\n\n\t\tstarHolder.addEventListener(\"mousemove\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\n\t\tstarHolder.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tsuccess(i);\n\t\t\telement.blur();\n\t\t});\n\n\t\tstarHolder.appendChild(nextStar);\n\t\tstarsHolder.appendChild(starHolder);\n\n\t}\n\n\t//handle keyboard navigation value change\n\tfunction changeValue(val){\n\t\tvalue = val;\n\t\tstarChange(val);\n\t}\n\n\t//style cell\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\t//style holding element\n\tstarsHolder.style.verticalAlign = \"middle\";\n\tstarsHolder.style.display = \"inline-block\";\n\tstarsHolder.style.padding = \"4px\";\n\n\t//style star\n\tstar.setAttribute(\"width\", size);\n\tstar.setAttribute(\"height\", size);\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tstarsHolder.setAttribute(key, starsHolder.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tstarsHolder.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//create correct number of stars\n\tfor(var i=1;i<= maxStars;i++){\n\t\tbuildStar(i);\n\t}\n\n\t//ensure value does not exceed number of stars\n\tvalue = Math.min(parseInt(value), maxStars);\n\n\t// set initial styling of stars\n\tstarChange(value);\n\n\tstarsHolder.addEventListener(\"mousemove\", function(e){\n\t\tstarChange(0);\n\t});\n\n\tstarsHolder.addEventListener(\"click\", function(e){\n\t\tsuccess(0);\n\t});\n\n\telement.addEventListener(\"blur\", function(e){\n\t\tcancel();\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\tchangeValue(value + 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\tchangeValue(value - 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 13: //enter\n\t\t\t\tsuccess(value);\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn starsHolder;\n}\n\n//draggable progress bar\nfunction progress$1(cell, onRendered, success, cancel, editorParams){\n\tvar element = cell.getElement(),\n\tmax = typeof editorParams.max === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"max\")) || 100) : editorParams.max,\n\tmin = typeof editorParams.min === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"min\")) || 0) : editorParams.min,\n\tpercent = (max - min) / 100,\n\tvalue = cell.getValue() || 0,\n\thandle = document.createElement(\"div\"),\n\tbar = document.createElement(\"div\"),\n\tmouseDrag, mouseDragWidth;\n\n\t//set new value\n\tfunction updateValue(){\n\t\tvar style = window.getComputedStyle(element, null);\n\n\t\tvar calcVal = (percent * Math.round(bar.offsetWidth / ((element.clientWidth - parseInt(style.getPropertyValue(\"padding-left\")) - parseInt(style.getPropertyValue(\"padding-right\")))/100))) + min;\n\t\tsuccess(calcVal);\n\t\telement.setAttribute(\"aria-valuenow\", calcVal);\n\t\telement.setAttribute(\"aria-label\", value);\n\t}\n\n\t//style handle\n\thandle.style.position = \"absolute\";\n\thandle.style.right = \"0\";\n\thandle.style.top = \"0\";\n\thandle.style.bottom = \"0\";\n\thandle.style.width = \"5px\";\n\thandle.classList.add(\"tabulator-progress-handle\");\n\n\t//style bar\n\tbar.style.display = \"inline-block\";\n\tbar.style.position = \"relative\";\n\t// bar.style.top = \"8px\";\n\t// bar.style.bottom = \"8px\";\n\t// bar.style.left = \"4px\";\n\t// bar.style.marginRight = \"4px\";\n\tbar.style.height = \"100%\";\n\tbar.style.backgroundColor = \"#488CE9\";\n\tbar.style.maxWidth = \"100%\";\n\tbar.style.minWidth = \"0%\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tbar.setAttribute(key, bar.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tbar.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//style cell\n\telement.style.padding = \"4px 4px\";\n\n\t//make sure value is in range\n\tvalue = Math.min(parseFloat(value), max);\n\tvalue = Math.max(parseFloat(value), min);\n\n\t//workout percentage\n\tvalue = Math.round((value - min) / percent);\n\t// bar.style.right = value + \"%\";\n\tbar.style.width = value + \"%\";\n\n\telement.setAttribute(\"aria-valuemin\", min);\n\telement.setAttribute(\"aria-valuemax\", max);\n\n\tbar.appendChild(handle);\n\n\thandle.addEventListener(\"mousedown\", function(e){\n\t\tmouseDrag = e.screenX;\n\t\tmouseDragWidth = bar.offsetWidth;\n\t});\n\n\thandle.addEventListener(\"mouseover\", function(){\n\t\thandle.style.cursor = \"ew-resize\";\n\t});\n\n\telement.addEventListener(\"mousemove\", function(e){\n\t\tif(mouseDrag){\n\t\t\tbar.style.width = (mouseDragWidth + e.screenX - mouseDrag) + \"px\";\n\t\t}\n\t});\n\n\telement.addEventListener(\"mouseup\", function(e){\n\t\tif(mouseDrag){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\n\t\t\tmouseDrag = false;\n\t\t\tmouseDragWidth = false;\n\n\t\t\tupdateValue();\n\t\t}\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth + element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth - element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 9: //tab\n\t\t\tcase 13: //enter\n\t\t\t\tupdateValue();\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t}\n\t});\n\n\telement.addEventListener(\"blur\", function(){\n\t\tcancel();\n\t});\n\n\treturn bar;\n}\n\n//checkbox\nfunction tickCross$1(cell, onRendered, success, cancel, editorParams){\n\tvar value = cell.getValue(),\n\tinput = document.createElement(\"input\"),\n\ttristate = editorParams.tristate,\n\tindetermValue = typeof editorParams.indeterminateValue === \"undefined\" ? null : editorParams.indeterminateValue,\n\tindetermState = false,\n\ttrueValueSet = Object.keys(editorParams).includes(\"trueValue\"),\n\tfalseValueSet = Object.keys(editorParams).includes(\"falseValue\");\n\t\n\tinput.setAttribute(\"type\", \"checkbox\");\n\tinput.style.marginTop = \"5px\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else {\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = value;\n\t\n\tif(tristate && (typeof value === \"undefined\" || value === indetermValue || value === \"\")){\n\t\tindetermState = true;\n\t\tinput.indeterminate = true;\n\t}\n\t\n\tif(this.table.browser != \"firefox\" && this.table.browser != \"safari\"){ //prevent blur issue on mac firefox\n\t\tonRendered(function(){\n\t\t\tif(cell.getType() === \"cell\"){\n\t\t\t\tinput.focus({preventScroll: true});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tinput.checked = trueValueSet ? value === editorParams.trueValue : (value === true || value === \"true\" || value === \"True\" || value === 1);\n\t\n\tfunction setValue(blur){\n\t\tvar checkedValue = input.checked;\n\t\t\n\t\tif(trueValueSet && checkedValue){\n\t\t\tcheckedValue = editorParams.trueValue;\n\t\t}else if(falseValueSet && !checkedValue){\n\t\t\tcheckedValue = editorParams.falseValue;\n\t\t}\n\t\t\n\t\tif(tristate){\n\t\t\tif(!blur){\n\t\t\t\tif(input.checked && !indetermState){\n\t\t\t\t\tinput.checked = false;\n\t\t\t\t\tinput.indeterminate = true;\n\t\t\t\t\tindetermState = true;\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else {\n\t\t\t\t\tindetermState = false;\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(indetermState){\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else {\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\treturn checkedValue;\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"change\", function(e){\n\t\tsuccess(setValue());\n\t});\n\n\tinput.addEventListener(\"blur\", function(e){\n\t\tsuccess(setValue(true));\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tif(e.keyCode == 13){\n\t\t\tsuccess(setValue());\n\t\t}\n\t\tif(e.keyCode == 27){\n\t\t\tcancel();\n\t\t}\n\t});\n\t\n\treturn input;\n}\n\nfunction adaptable$1(cell, onRendered, success, cancel, params){\r\n\tvar column = cell._getSelf().column,\r\n\tlookup, editorFunc, editorParams;\r\n    \r\n\tfunction defaultLookup(cell){\r\n\t\tvar value = cell.getValue(),\r\n\t\teditor = \"input\";\r\n        \r\n\t\tswitch(typeof value){\r\n\t\t\tcase \"number\":\r\n\t\t\t\teditor = \"number\";\r\n\t\t\t\tbreak;\r\n            \r\n\t\t\tcase \"boolean\":\r\n\t\t\t\teditor = \"tickCross\";\r\n\t\t\t\tbreak;\r\n            \r\n\t\t\tcase \"string\":\r\n\t\t\t\tif(value.includes(\"\\n\")){\r\n\t\t\t\t\teditor = \"textarea\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n        \r\n\t\treturn editor;\r\n\t}\r\n    \r\n\tlookup = params.editorLookup ? params.editorLookup(cell) : defaultLookup(cell);\r\n\r\n\tif(params.paramsLookup){\r\n\t\teditorParams = typeof params.paramsLookup === \"function\" ? params.paramsLookup(lookup, cell) : params.paramsLookup[lookup];\r\n\t}\r\n\r\n\teditorFunc = this.table.modules.edit.lookupEditor(lookup, column);\r\n    \r\n\treturn  editorFunc.call(this, cell, onRendered, success, cancel, editorParams || {});\r\n}\n\nvar defaultEditors = {\n\tinput:input,\n\ttextarea:textarea$1,\n\tnumber:number$1,\n\trange:range,\n\tdate:date$1,\n\ttime:time$1,\n\tdatetime:datetime$2,\n\tlist:list,\n\tstar:star$1,\n\tprogress:progress$1,\n\ttickCross:tickCross$1,\n\tadaptable:adaptable$1,\n};\n\nclass Edit extends Module{\n\n\tstatic moduleName = \"edit\";\n\n\t//load defaults\n\tstatic editors = defaultEditors;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.currentCell = false; //hold currently editing cell\n\t\tthis.mouseClick = false; //hold mousedown state to prevent click binding being overridden by editor opening\n\t\tthis.recursionBlock = false; //prevent focus recursion\n\t\tthis.invalidEdit = false;\n\t\tthis.editedCells = [];\n\t\tthis.convertEmptyValues = false;\n\t\t\n\t\tthis.editors = Edit.editors;\n\t\n\t\tthis.registerTableOption(\"editTriggerEvent\", \"focus\");\n\t\tthis.registerTableOption(\"editorEmptyValue\");\n\t\tthis.registerTableOption(\"editorEmptyValueFunc\", this.emptyValueCheck.bind(this));\n\n\t\tthis.registerColumnOption(\"editable\");\n\t\tthis.registerColumnOption(\"editor\");\n\t\tthis.registerColumnOption(\"editorParams\");\n\t\tthis.registerColumnOption(\"editorEmptyValue\");\n\t\tthis.registerColumnOption(\"editorEmptyValueFunc\");\n\t\t\n\t\tthis.registerColumnOption(\"cellEditing\");\n\t\tthis.registerColumnOption(\"cellEdited\");\n\t\tthis.registerColumnOption(\"cellEditCancelled\");\n\t\t\n\t\tthis.registerTableFunction(\"getEditedCells\", this.getEditedCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellEdited\", this.clearCellEdited.bind(this));\n\t\tthis.registerTableFunction(\"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerTableFunction(\"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerTableFunction(\"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerTableFunction(\"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerTableFunction(\"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerTableFunction(\"navigateDown\", this.navigateDown.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isEdited\", this.cellIsEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearEdited\", this.clearEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"edit\", this.editCell.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"cancelEdit\", this.cellCancelEdit.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateDown\", this.navigateDown.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-init\", this.bindEditor.bind(this));\n\t\tthis.subscribe(\"cell-delete\", this.clearEdited.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.updateCellClass.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.columnDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-deleting\", this.rowDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-layout\", this.rowEditableCheck.bind(this));\n\t\tthis.subscribe(\"data-refreshing\", this.cancelEdit.bind(this));\n\t\tthis.subscribe(\"clipboard-paste\", this.pasteBlocker.bind(this));\n\t\t\n\t\tthis.subscribe(\"keybinding-nav-prev\", this.navigatePrev.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-next\", this.keybindingNavigateNext.bind(this));\n\t\t\n\t\t// this.subscribe(\"keybinding-nav-left\", this.navigateLeft.bind(this, undefined));\n\t\t// this.subscribe(\"keybinding-nav-right\", this.navigateRight.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-up\", this.navigateUp.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-down\", this.navigateDown.bind(this, undefined));\n\n\t\tif(Object.keys(this.table.options).includes(\"editorEmptyValue\")){\n\t\t\tthis.convertEmptyValues = true;\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Paste Negation //////////\n\t///////////////////////////////////\n\t\n\tpasteBlocker(e){\n\t\tif(this.currentCell){\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Keybinding Functions ///////\n\t///////////////////////////////////\n\t\n\tkeybindingNavigateNext(e){\n\t\tvar cell = this.currentCell,\n\t\tnewRow = this.options(\"tabEndNewRow\");\n\n\t\tif(cell){\n\t\t\tif(!this.navigateNext(cell, e)){\n\t\t\t\tif(newRow){\n\t\t\t\t\tcell.getElement().firstChild.blur();\n\t\t\t\t\t\n\t\t\t\t\tif(!this.invalidEdit){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(newRow === true){\n\t\t\t\t\t\t\tnewRow = this.table.addRow({});\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(typeof newRow == \"function\"){\n\t\t\t\t\t\t\t\tnewRow = this.table.addRow(newRow(cell.row.getComponent()));\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tnewRow = this.table.addRow(Object.assign({}, newRow));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tnewRow.then(() => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tcell.getComponent().navigateNext();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Cell Functions //////////\n\t///////////////////////////////////\n\t\n\tcellIsEdited(cell){\n\t\treturn !! cell.modules.edit && cell.modules.edit.edited;\n\t}\n\t\n\tcellCancelEdit(cell){\n\t\tif(cell === this.currentCell){\n\t\t\tthis.table.modules.edit.cancelEdit();\n\t\t}else {\n\t\t\tconsole.warn(\"Cancel Editor Error - This cell is not currently being edited \");\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tupdateCellClass(cell){\n\t\tif(this.allowEdit(cell)) {\n\t\t\tcell.getElement().classList.add(\"tabulator-editable\");\n\t\t}\n\t\telse {\n\t\t\tcell.getElement().classList.remove(\"tabulator-editable\");\n\t\t}\n\t}\n\t\n\tclearCellEdited(cells){\n\t\tif(!cells){\n\t\t\tcells = this.table.modules.edit.getEditedCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.table.modules.edit.clearEdited(cell._getSelf());\n\t\t});\n\t}\n\t\n\tnavigatePrev(cell = this.currentCell, e){\n\t\tvar nextCell, prevRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateLeft();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tprevRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(prevRow){\n\t\t\t\t\tnextCell = this.findPrevEditableCell(prevRow, prevRow.cells.length);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateNext(cell = this.currentCell, e){\n\t\tvar nextCell, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateRight();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(nextRow){\n\t\t\t\t\tnextCell = this.findNextEditableCell(nextRow, -1);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateLeft(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findPrevEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateRight(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findNextEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateUp(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateDown(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tfindNextEditableCell(row, index){\n\t\tvar nextCell = false;\n\t\t\n\t\tif(index < row.cells.length-1){\n\t\t\tfor(var i = index+1; i < row.cells.length; i++){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tnextCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn nextCell;\n\t}\n\t\n\tfindPrevEditableCell(row, index){\n\t\tvar prevCell = false;\n\t\t\n\t\tif(index > 0){\n\t\t\tfor(var i = index-1; i >= 0; i--){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tprevCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn prevCell;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.editor !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\tcolumnDeleteCheck(column){\n\t\tif(this.currentCell && this.currentCell.column === column){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\t\n\trowDeleteCheck(row){\n\t\tif(this.currentCell && this.currentCell.row === row){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\t\n\trowEditableCheck(row){\n\t\trow.getCells().forEach((cell) => {\n\t\t\tif(cell.column.modules.edit && typeof cell.column.modules.edit.check === \"function\"){\n\t\t\t\tthis.updateCellClass(cell);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//initialize column editor\n\tinitializeColumn(column){\n\t\tvar convertEmpty = Object.keys(column.definition).includes(\"editorEmptyValue\");\n\n\t\tvar config = {\n\t\t\teditor:false,\n\t\t\tblocked:false,\n\t\t\tcheck:column.definition.editable,\n\t\t\tparams:column.definition.editorParams || {},\n\t\t\tconvertEmptyValues:convertEmpty,\n\t\t\teditorEmptyValue:column.definition.editorEmptyValue,\n\t\t\teditorEmptyValueFunc:column.definition.editorEmptyValueFunc,\n\t\t};\n\t\t\n\t\t//set column editor\n\t\tconfig.editor = this.lookupEditor(column.definition.editor, column);\n\t\t\n\t\tif(config.editor){\n\t\t\tcolumn.modules.edit = config;\n\t\t}\n\t}\n\n\tlookupEditor(editor, column){\n\t\tvar editorFunc;\n\n\t\tswitch(typeof editor){\n\t\t\tcase \"string\":\n\t\t\t\tif(this.editors[editor]){\n\t\t\t\t\teditorFunc = this.editors[editor];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Editor Error - No such editor found: \", editor);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\teditorFunc = editor;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"boolean\":\n\t\t\t\tif(editor === true){\n\t\t\t\t\tif(typeof column.definition.formatter !== \"function\"){\n\t\t\t\t\t\tif(this.editors[column.definition.formatter]){\n\t\t\t\t\t\t\teditorFunc = this.editors[column.definition.formatter];\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\teditorFunc = this.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \", column.definition.formatter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn editorFunc;\n\t}\n\t\n\tgetCurrentCell(){\n\t\treturn this.currentCell ? this.currentCell.getComponent() : false;\n\t}\n\t\n\tclearEditor(cancel){\n\t\tvar cell = this.currentCell,\n\t\tcellEl;\n\t\t\n\t\tthis.invalidEdit = false;\n\t\t\n\t\tif(cell){\n\t\t\tthis.currentCell = false;\n\t\t\t\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tthis.dispatch(\"edit-editor-clear\", cell, cancel);\n\t\t\t\n\t\t\tcellEl.classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\twhile(cellEl.firstChild) cellEl.removeChild(cellEl.firstChild);\n\t\t\t\n\t\t\tcell.row.getElement().classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\tcell.table.element.classList.remove(\"tabulator-editing\");\n\t\t}\n\t}\n\t\n\tcancelEdit(){\n\t\tif(this.currentCell){\n\t\t\tvar cell = this.currentCell;\n\t\t\tvar component = this.currentCell.getComponent();\n\t\t\t\n\t\t\tthis.clearEditor(true);\n\t\t\tcell.setValueActual(cell.getValue());\n\t\t\tcell.cellRendered();\n\t\t\t\n\t\t\tif(cell.column.definition.editor == \"textarea\" || cell.column.definition.variableHeight){\n\t\t\t\tcell.row.normalizeHeight(true);\n\t\t\t}\n\t\t\t\n\t\t\tif(cell.column.definition.cellEditCancelled){\n\t\t\t\tcell.column.definition.cellEditCancelled.call(this.table, component);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"edit-cancelled\", cell);\n\t\t\tthis.dispatchExternal(\"cellEditCancelled\", component);\n\t\t}\n\t}\n\t\n\t//return a formatted value for a cell\n\tbindEditor(cell){\n\t\tif(cell.column.modules.edit){\n\t\t\tvar self = this,\n\t\t\telement = cell.getElement(true);\n\t\t\t\n\t\t\tthis.updateCellClass(cell);\n\t\t\telement.setAttribute(\"tabindex\", 0);\n\t\t\t\n\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif (e.button === 2) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}else {\n\t\t\t\t\tself.mouseClick = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(this.options(\"editTriggerEvent\") === \"dblclick\"){\n\t\t\t\telement.addEventListener(\"dblclick\", function(e){\n\t\t\t\t\tif(!element.classList.contains(\"tabulator-editing\")){\n\t\t\t\t\t\telement.focus({preventScroll: true});\n\t\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tif(this.options(\"editTriggerEvent\") === \"focus\" || this.options(\"editTriggerEvent\") === \"click\"){\n\t\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\t\tif(!element.classList.contains(\"tabulator-editing\")){\n\t\t\t\t\t\telement.focus({preventScroll: true});\n\t\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tif(this.options(\"editTriggerEvent\") === \"focus\"){\n\t\t\t\telement.addEventListener(\"focus\", function(e){\n\t\t\t\t\tif(!self.recursionBlock){\n\t\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfocusCellNoEvent(cell, block){\n\t\tthis.recursionBlock = true;\n\t\t\n\t\tif(!(block && this.table.browser === \"ie\")){\n\t\t\tcell.getElement().focus({preventScroll: true});\n\t\t}\n\t\t\n\t\tthis.recursionBlock = false;\n\t}\n\t\n\teditCell(cell, forceEdit){\n\t\tthis.focusCellNoEvent(cell);\n\t\tthis.edit(cell, false, forceEdit);\n\t}\n\t\n\tfocusScrollAdjust(cell){\n\t\tif(this.table.rowManager.getRenderMode() == \"virtual\"){\n\t\t\tvar topEdge = this.table.rowManager.element.scrollTop,\n\t\t\tbottomEdge = this.table.rowManager.element.clientHeight + this.table.rowManager.element.scrollTop,\n\t\t\trowEl = cell.row.getElement();\n\t\t\t\n\t\t\tif(rowEl.offsetTop < topEdge){\n\t\t\t\tthis.table.rowManager.element.scrollTop -= (topEdge - rowEl.offsetTop);\n\t\t\t}else {\n\t\t\t\tif(rowEl.offsetTop + rowEl.offsetHeight  > bottomEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollTop += (rowEl.offsetTop + rowEl.offsetHeight - bottomEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar leftEdge = this.table.rowManager.element.scrollLeft,\n\t\t\trightEdge = this.table.rowManager.element.clientWidth + this.table.rowManager.element.scrollLeft,\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\tleftEdge += parseInt(this.table.modules.frozenColumns.leftMargin || 0);\n\t\t\t\trightEdge -= parseInt(this.table.modules.frozenColumns.rightMargin || 0);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleftEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t\trightEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t}\n\t\t\t\n\t\t\tif(cellEl.offsetLeft < leftEdge){\n\t\t\t\tthis.table.rowManager.element.scrollLeft -= (leftEdge - cellEl.offsetLeft);\n\t\t\t}else {\n\t\t\t\tif(cellEl.offsetLeft + cellEl.offsetWidth  > rightEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollLeft += (cellEl.offsetLeft + cellEl.offsetWidth - rightEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tallowEdit(cell) {\n\t\tvar check = cell.column.modules.edit ? true : false;\n\t\t\n\t\tif(cell.column.modules.edit){\n\t\t\tswitch(typeof cell.column.modules.edit.check){\n\t\t\t\tcase \"function\":\n\t\t\t\t\tif(cell.row.initialized){\n\t\t\t\t\t\tcheck = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"string\":\n\t\t\t\t\tcheck = !!cell.row.data[cell.column.modules.edit.check];\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tcheck = cell.column.modules.edit.check;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn check;\n\t}\n\t\n\tedit(cell, e, forceEdit){\n\t\tvar self = this,\n\t\tallowEdit = true,\n\t\trendered = function(){},\n\t\telement = cell.getElement(),\n\t\teditFinished = false,\n\t\tcellEditor, component, params;\n\n\t\t//prevent editing if another cell is refusing to leave focus (eg. validation fail)\n\t\t\n\t\tif(this.currentCell){\n\t\t\tif(!this.invalidEdit && this.currentCell !== cell){\n\t\t\t\tthis.cancelEdit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//handle successful value change\n\t\tfunction success(value){\n\t\t\tif(self.currentCell === cell && !editFinished){\n\t\t\t\tvar valid = self.chain(\"edit-success\", [cell, value], true, true);\n\n\t\t\t\tif(valid === true || self.table.options.validationMode === \"highlight\"){\n\n\t\t\t\t\teditFinished = true;\n\n\t\t\t\t\tself.clearEditor();\n\t\t\t\t\t\n\t\t\t\t\tif(!cell.modules.edit){\n\t\t\t\t\t\tcell.modules.edit = {};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcell.modules.edit.edited = true;\n\t\t\t\t\t\n\t\t\t\t\tif(self.editedCells.indexOf(cell) == -1){\n\t\t\t\t\t\tself.editedCells.push(cell);\n\t\t\t\t\t}\n\n\t\t\t\t\tvalue = self.transformEmptyValues(value, cell);\n\t\t\t\t\t\n\t\t\t\t\tcell.setValue(value, true);\n\n\t\t\t\t\treturn valid === true;\n\t\t\t\t}else {\n\t\t\t\t\teditFinished = true;\n\t\t\t\t\tself.invalidEdit = true;\n\t\t\t\t\tself.focusCellNoEvent(cell, true);\n\t\t\t\t\trendered();\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\teditFinished = false;\n\t\t\t\t\t}, 10);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t//handle aborted edit\n\t\tfunction cancel(){\n\t\t\t// editFinished = true;\n\n\t\t\tif(self.currentCell === cell && !editFinished){\n\t\t\t\tself.cancelEdit();\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\trendered = callback;\n\t\t}\n\t\t\n\t\tif(!cell.column.modules.edit.blocked){\n\t\t\tif(e){\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\t\n\t\t\tallowEdit = this.allowEdit(cell);\n\t\t\t\n\t\t\tif(allowEdit || forceEdit){\n\t\t\t\tself.cancelEdit();\n\t\t\t\t\n\t\t\t\tself.currentCell = cell;\n\t\t\t\t\n\t\t\t\tthis.focusScrollAdjust(cell);\n\t\t\t\t\n\t\t\t\tcomponent = cell.getComponent();\n\t\t\t\t\n\t\t\t\tif(this.mouseClick){\n\t\t\t\t\tthis.mouseClick = false;\n\t\t\t\t\t\n\t\t\t\t\tif(cell.column.definition.cellClick){\n\t\t\t\t\t\tcell.column.definition.cellClick.call(this.table, e, component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(cell.column.definition.cellEditing){\n\t\t\t\t\tcell.column.definition.cellEditing.call(this.table, component);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"cell-editing\", cell);\n\t\t\t\tthis.dispatchExternal(\"cellEditing\", component);\n\t\t\t\t\n\t\t\t\tparams = typeof cell.column.modules.edit.params === \"function\" ? cell.column.modules.edit.params(component) : cell.column.modules.edit.params;\n\t\t\t\t\n\t\t\t\tcellEditor = cell.column.modules.edit.editor.call(self, component, onRendered, success, cancel, params);\n\t\t\t\t\n\t\t\t\t//if editor returned, add to DOM, if false, abort edit\n\t\t\t\tif(this.currentCell && cellEditor !== false){\n\t\t\t\t\tif(cellEditor instanceof Node){\n\t\t\t\t\t\telement.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.row.getElement().classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.table.element.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\t\t\t\telement.appendChild(cellEditor);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//trigger onRendered Callback\n\t\t\t\t\t\trendered();\n\t\t\t\t\t\t\n\t\t\t\t\t\t//prevent editing from triggering rowClick event\n\t\t\t\t\t\tvar children = element.children;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\t\t\tchildren[i].addEventListener(\"click\", function(e){\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\", cellEditor);\n\t\t\t\t\t\tthis.blur(element);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tthis.blur(element);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tthis.mouseClick = false;\n\t\t\t\tthis.blur(element);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else {\n\t\t\tthis.mouseClick = false;\n\t\t\tthis.blur(element);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\temptyValueCheck(value){\n\t\treturn value === \"\" || value === null || typeof value === \"undefined\";\n\t}\n\n\ttransformEmptyValues(value, cell){\n\t\tvar mod = cell.column.modules.edit, \n\t\tconvert = mod.convertEmptyValues || this.convertEmptyValues,\n\t\tcheckFunc;\n\t\t\n\t\tif(convert){\n\t\t\tcheckFunc = mod.editorEmptyValueFunc || this.options(\"editorEmptyValueFunc\");\n\n\t\t\tif(checkFunc && checkFunc(value)){\n\t\t\t\tvalue = mod.convertEmptyValues ? mod.editorEmptyValue : this.options(\"editorEmptyValue\");\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn value;\n\t}\n\t\n\tblur(element){\n\t\tif(!this.confirm(\"edit-blur\", [element]) ){\n\t\t\telement.blur();\n\t\t}\n\t}\n\t\n\tgetEditedCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.editedCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearEdited(cell){\n\t\tvar editIndex;\n\t\t\n\t\tif(cell.modules.edit && cell.modules.edit.edited){\n\t\t\tcell.modules.edit.edited = false;\n\t\t\t\n\t\t\tthis.dispatch(\"edit-edited-clear\", cell);\n\t\t}\n\t\t\n\t\teditIndex = this.editedCells.indexOf(cell);\n\t\t\n\t\tif(editIndex > -1){\n\t\t\tthis.editedCells.splice(editIndex, 1);\n\t\t}\n\t}\n}\n\nclass ExportRow{\n\tconstructor(type, columns, component, indent){\n\t\tthis.type = type;\n\t\tthis.columns = columns;\n\t\tthis.component = component || false;\n\t\tthis.indent = indent || 0;\n\t}\n}\n\nclass ExportColumn{\n\tconstructor(value, component, width, height, depth){\n\t\tthis.value = value;\n\t\tthis.component = component || false;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = depth;\n\t}\n}\n\nvar columnLookups$1 = {\r\n\r\n};\n\nvar rowLookups$1 = {\r\n\tvisible:function(){\r\n\t\treturn this.rowManager.getVisibleRows(false, true);\r\n\t},\r\n\tall:function(){\r\n\t\treturn this.rowManager.rows;\r\n\t},\r\n\tselected:function(){\r\n\t\treturn this.modules.selectRow.selectedRows;\r\n\t},\r\n\tactive:function(){\r\n\t\tif(this.options.pagination){\r\n\t\t\treturn this.rowManager.getDisplayRows(this.rowManager.displayRows.length - 2);\r\n\t\t}else {\r\n\t\t\treturn this.rowManager.getDisplayRows();\r\n\t\t}\r\n\t},\r\n};\n\nclass Export extends Module{\n\n\tstatic moduleName = \"export\";\n\n\tstatic columnLookups = columnLookups$1;\n\tstatic rowLookups = rowLookups$1;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {};\n\t\tthis.cloneTableStyle = true;\n\t\tthis.colVisProp = \"\";\n\t\tthis.colVisPropAttach = \"\";\n\t\t\n\t\tthis.registerTableOption(\"htmlOutputConfig\", false); //html output config\n\t\t\n\t\tthis.registerColumnOption(\"htmlOutput\");\n\t\tthis.registerColumnOption(\"titleHtmlOutput\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.registerTableFunction(\"getHtml\", this.getHtml.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tgenerateExportList(config, style, range, colVisProp){\n\t\tvar headers, body, columns, colLookup;\n\n\t\tthis.cloneTableStyle = style;\n\t\tthis.config = config || {};\n\t\tthis.colVisProp = colVisProp;\n\t\tthis.colVisPropAttach = this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1);\n\n\t\tcolLookup = Export.columnLookups[range];\n\n\t\tif(colLookup){\n\t\t\tcolumns = colLookup.call(this.table);\n\t\t\tcolumns = columns.filter(col => this.columnVisCheck(col));\n\t\t}\n\n\t\theaders = this.config.columnHeaders !== false ? this.headersToExportRows(this.generateColumnGroupHeaders(columns)) : [];\n\n\t\tif(columns){\n\t\t\tcolumns = columns.map(col => col.getComponent());\n\t\t}\n\t\t\n\t\tbody = this.bodyToExportRows(this.rowLookup(range), columns);\n\n\t\treturn headers.concat(body);\n\t}\n\t\n\tgenerateTable(config, style, range, colVisProp){\n\t\tvar list = this.generateExportList(config, style, range, colVisProp);\n\t\t\n\t\treturn this.generateTableElement(list);\n\t}\n\t\n\trowLookup(range){\n\t\tvar rows = [], \n\t\trowLookup;\n\t\t\n\t\tif(typeof range == \"function\"){\n\t\t\trange.call(this.table).forEach((row) =>{\n\t\t\t\trow = this.table.rowManager.findRow(row);\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trows.push(row);\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\trowLookup = Export.rowLookups[range] || Export.rowLookups[\"active\"];\n\n\t\t\trows = rowLookup.call(this.table);\n\t\t}\n\t\t\n\t\treturn Object.assign([], rows);\n\t}\n\t\n\tgenerateColumnGroupHeaders(columns){\n\t\tvar output = [];\n\t\t\n\t\tif (!columns) {\n\t\t\tcolumns = this.config.columnGroups !== false ? this.table.columnManager.columns : this.table.columnManager.columnsByIndex;\n\t\t}\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\tvar colData = this.processColumnGroup(column);\n\t\t\t\n\t\t\tif(colData){\n\t\t\t\toutput.push(colData);\n\t\t\t}\n\t\t});\n\n\n\n\t\treturn output;\n\t}\n\t\n\tprocessColumnGroup(column){\n\t\tvar subGroups = column.columns,\n\t\tmaxDepth = 0,\n\t\ttitle = column.definition[\"title\" + (this.colVisPropAttach)] || column.definition.title;\n\t\t\n\t\tvar groupData = {\n\t\t\ttitle:title,\n\t\t\tcolumn:column,\n\t\t\tdepth:1,\n\t\t};\n\t\t\n\t\tif(subGroups.length){\n\t\t\tgroupData.subGroups = [];\n\t\t\tgroupData.width = 0;\n\t\t\t\n\t\t\tsubGroups.forEach((subGroup) => {\n\t\t\t\tvar subGroupData = this.processColumnGroup(subGroup);\n\t\t\t\t\n\t\t\t\tif(subGroupData){\n\t\t\t\t\tgroupData.width += subGroupData.width;\n\t\t\t\t\tgroupData.subGroups.push(subGroupData);\n\t\t\t\t\t\n\t\t\t\t\tif(subGroupData.depth > maxDepth){\n\t\t\t\t\t\tmaxDepth = subGroupData.depth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tgroupData.depth += maxDepth;\n\t\t\t\n\t\t\tif(!groupData.width){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else {\n\t\t\tif(this.columnVisCheck(column)){\n\t\t\t\tgroupData.width = 1;\n\t\t\t}else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn groupData;\n\t}\n\t\n\tcolumnVisCheck(column){\n\t\tvar visProp = column.definition[this.colVisProp];\n\n\t\tif(this.config.rowHeaders === false && column.isRowHeader){\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tif(typeof visProp === \"function\"){\n\t\t\tvisProp = visProp.call(this.table, column.getComponent());\n\t\t}\n\n\t\tif(visProp === false || visProp === true){\n\t\t\treturn visProp;\n\t\t}\n\n\t\treturn column.visible && column.field;\n\t}\n\t\n\theadersToExportRows(columns){\n\t\tvar headers = [],\n\t\theaderDepth = 0,\n\t\texportRows = [];\n\t\t\n\t\tfunction parseColumnGroup(column, level){\n\t\t\t\n\t\t\tvar depth = headerDepth - level;\n\t\t\t\n\t\t\tif(typeof headers[level] === \"undefined\"){\n\t\t\t\theaders[level] = [];\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.height = column.subGroups ? 1 : (depth - column.depth) + 1;\n\t\t\t\n\t\t\theaders[level].push(column);\n\t\t\t\n\t\t\tif(column.height > 1){\n\t\t\t\tfor(let i = 1; i < column.height; i ++){\n\t\t\t\t\t\n\t\t\t\t\tif(typeof headers[level + i] === \"undefined\"){\n\t\t\t\t\t\theaders[level + i] = [];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\theaders[level + i].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.width > 1){\n\t\t\t\tfor(let i = 1; i < column.width; i ++){\n\t\t\t\t\theaders[level].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.subGroups){\n\t\t\t\tcolumn.subGroups.forEach(function(subGroup){\n\t\t\t\t\tparseColumnGroup(subGroup, level+1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t//calculate maximum header depth\n\t\tcolumns.forEach(function(column){\n\t\t\tif(column.depth > headerDepth){\n\t\t\t\theaderDepth = column.depth;\n\t\t\t}\n\t\t});\n\t\t\n\t\tcolumns.forEach(function(column){\n\t\t\tparseColumnGroup(column,0);\n\t\t});\n\t\t\n\t\theaders.forEach((header) => {\n\t\t\tvar columns = [];\n\t\t\t\n\t\t\theader.forEach((col) => {\n\t\t\t\tif(col){\n\t\t\t\t\tlet title = typeof col.title === \"undefined\" ? \"\" : col.title;\n\t\t\t\t\tcolumns.push(new ExportColumn(title, col.column.getComponent(), col.width, col.height, col.depth));\n\t\t\t\t}else {\n\t\t\t\t\tcolumns.push(null);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\texportRows.push(new ExportRow(\"header\", columns));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tbodyToExportRows(rows, columns = []){\n\t\tvar exportRows = [];\n\t\t\n\t\tif (columns.length === 0) {\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\tif (this.columnVisCheck(column)) {\n\t\t\t\t\tcolumns.push(column.getComponent());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(this.config.columnCalcs !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized){\n\t\t\t\trows.unshift(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized){\n\t\t\t\trows.push(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t}\n\n\t\trows = rows.filter((row) => {\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn this.config.rowGroups !== false;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\treturn this.config.columnCalcs !== false;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\treturn !(this.table.options.dataTree && this.config.dataTree === false && row.modules.dataTree.parent);\n\t\t\t}\n\t\t\t\n\t\t\treturn true;\n\t\t});\n\t\t\n\t\trows.forEach((row, i) => {\n\t\t\tvar rowData = row.getData(this.colVisProp);\n\t\t\tvar exportCols = [];\n\t\t\tvar indent = 0;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\tindent = row.level;\n\t\t\t\t\texportCols.push(new ExportColumn(row.key, row.getComponent(), columns.length, 1));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\" :\n\t\t\t\tcase \"row\" :\n\t\t\t\t\tcolumns.forEach((col) => {\n\t\t\t\t\t\texportCols.push(new ExportColumn(col._column.getFieldValue(rowData), col, 1, 1));\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\t\tindent = row.modules.dataTree.index;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\texportRows.push(new ExportRow(row.type, exportCols, row.getComponent(), indent));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tgenerateTableElement(list){\n\t\tvar table = document.createElement(\"table\"),\n\t\theaderEl = document.createElement(\"thead\"),\n\t\tbodyEl = document.createElement(\"tbody\"),\n\t\tstyles = this.lookupTableStyles(),\n\t\trowFormatter = this.table.options[\"rowFormatter\" + (this.colVisPropAttach)],\n\t\tsetup = {};\n\t\t\n\t\tsetup.rowFormatter = rowFormatter !== null ? rowFormatter : this.table.options.rowFormatter;\n\t\t\n\t\tif(this.table.options.dataTree &&this.config.dataTree !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tsetup.treeElementField = this.table.modules.dataTree.elementField;\n\t\t}\n\t\t\n\t\t//assign group header formatter\n\t\tsetup.groupHeader = this.table.options[\"groupHeader\" + (this.colVisPropAttach)];\n\t\t\n\t\tif(setup.groupHeader && !Array.isArray(setup.groupHeader)){\n\t\t\tsetup.groupHeader = [setup.groupHeader];\n\t\t}\n\t\t\n\t\ttable.classList.add(\"tabulator-print-table\");\n\t\t\n\t\tthis.mapElementStyles(this.table.columnManager.getHeadersElement(), headerEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\n\t\tif(list.length > 1000){\n\t\t\tconsole.warn(\"It may take a long time to render an HTML table with more than 1000 rows\");\n\t\t}\n\t\t\n\t\tlist.forEach((row, i) => {\n\t\t\tlet rowEl;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"header\":\n\t\t\t\t\theaderEl.appendChild(this.generateHeaderElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"group\":\n\t\t\t\t\tbodyEl.appendChild(this.generateGroupElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\tbodyEl.appendChild(this.generateCalcElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\trowEl = this.generateRowElement(row, setup, styles);\n\t\t\t\t\n\t\t\t\t\tthis.mapElementStyles(((i % 2) && styles.evenRow) ? styles.evenRow : styles.oddRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\t\t\tbodyEl.appendChild(rowEl);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(headerEl.innerHTML){\n\t\t\ttable.appendChild(headerEl);\n\t\t}\n\t\t\n\t\ttable.appendChild(bodyEl);\n\t\t\n\t\t\n\t\tthis.mapElementStyles(this.table.element, table, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\"]);\n\t\treturn table;\n\t}\n\t\n\tlookupTableStyles(){\n\t\tvar styles = {};\n\t\t\n\t\t//lookup row styles\n\t\tif(this.cloneTableStyle && window.getComputedStyle){\n\t\t\tstyles.oddRow = this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.evenRow = this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.calcRow = this.table.element.querySelector(\".tabulator-row.tabulator-calcs\");\n\t\t\tstyles.firstRow = this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.firstGroup = this.table.element.getElementsByClassName(\"tabulator-group\")[0];\n\t\t\t\n\t\t\tif(styles.firstRow){\n\t\t\t\tstyles.styleCells = styles.firstRow.getElementsByClassName(\"tabulator-cell\");\n\t\t\t\tstyles.styleRowHeader = styles.firstRow.getElementsByClassName(\"tabulator-row-header\")[0];\n\t\t\t\tstyles.firstCell = styles.styleCells[0];\n\t\t\t\tstyles.lastCell = styles.styleCells[styles.styleCells.length - 1];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn styles;\n\t}\n\t\n\tgenerateHeaderElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trow.columns.forEach((column) => {\n\t\t\tif(column){\n\t\t\t\tvar cellEl = document.createElement(\"th\");\n\t\t\t\tvar classNames = column.component._column.definition.cssClass ? column.component._column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tcellEl.colSpan = column.width;\n\t\t\t\tcellEl.rowSpan = column.height;\n\t\t\t\t\n\t\t\t\tcellEl.innerHTML = column.value;\n\t\t\t\t\n\t\t\t\tif(this.cloneTableStyle){\n\t\t\t\t\tcellEl.style.boxSizing = \"border-box\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"text-align\", \"border-left\", \"border-right\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\t\tthis.mapElementStyles(column.component._column.contentElement, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\n\t\t\t\tif(column.component._column.visible){\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"width\"]);\n\t\t\t\t}else {\n\t\t\t\t\tif(column.component._column.definition.width){\n\t\t\t\t\t\tcellEl.style.width = column.component._column.definition.width + \"px\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.component._column.parent && column.component._column.parent.isGroup){\n\t\t\t\t\tthis.mapElementStyles(column.component._column.parent.groupElement, cellEl, [\"border-top\"]);\n\t\t\t\t}else {\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"border-top\"]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.component._column.isGroup){\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"border-bottom\"]);\n\t\t\t\t}else {\n\t\t\t\t\tthis.mapElementStyles(this.table.columnManager.getElement(), cellEl, [\"border-bottom\"]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateGroupElement(row, setup, styles){\n\t\t\n\t\tvar rowEl = document.createElement(\"tr\"),\n\t\tcellEl = document.createElement(\"td\"),\n\t\tgroup = row.columns[0];\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\tif(setup.groupHeader && setup.groupHeader[row.indent]){\n\t\t\tgroup.value = setup.groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t}else {\n\t\t\tif(setup.groupHeader !== false){\n\t\t\t\tgroup.value = row.component._group.generator(group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcellEl.colSpan = group.width;\n\t\tcellEl.innerHTML = group.value;\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-group\");\n\t\trowEl.classList.add(\"tabulator-group-level-\" + row.indent);\n\t\t\n\t\tif(group.component.isVisible()){\n\t\t\trowEl.classList.add(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tthis.mapElementStyles(styles.firstGroup, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\tthis.mapElementStyles(styles.firstGroup, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\n\t\trowEl.appendChild(cellEl);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateCalcElement(row, setup, styles){\n\t\tvar rowEl = this.generateRowElement(row, setup, styles);\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-calcs\");\n\t\tthis.mapElementStyles(styles.calcRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateRowElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\trow.columns.forEach((col, i) => {\n\t\t\tif(col){\n\t\t\t\tvar cellEl = document.createElement(\"td\"),\n\t\t\t\tcolumn = col.component._column,\n\t\t\t\ttable =  this.table,\n\t\t\t\tindex = table.columnManager.findColumnIndex(column),\n\t\t\t\tvalue = col.value,\n\t\t\t\tcellStyle, styleProps;\n\t\t\t\t\n\t\t\t\tvar cellWrapper = {\n\t\t\t\t\tmodules:{},\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn cellEl;\n\t\t\t\t\t},\n\t\t\t\t\tgetType:function(){\n\t\t\t\t\t\treturn \"cell\";\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\treturn row.component.getData();\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn row.component;\n\t\t\t\t\t},\n\t\t\t\t\tgetTable:function(){\n\t\t\t\t\t\treturn table;\n\t\t\t\t\t},\n\t\t\t\t\tgetComponent:function(){\n\t\t\t\t\t\treturn cellWrapper;\n\t\t\t\t\t},\n\t\t\t\t\tcolumn:column,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tvar classNames = column.definition.cssClass ? column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(this.table.modExists(\"format\") && this.config.formatCells !== false){\n\t\t\t\t\tvalue = this.table.modules.format.formatExportValue(cellWrapper, this.colVisProp);\n\t\t\t\t}else {\n\t\t\t\t\tswitch(typeof value){\n\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\tvalue = value !== null ? JSON.stringify(value) : \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(value instanceof Node){\n\t\t\t\t\tcellEl.appendChild(value);\n\t\t\t\t}else {\n\t\t\t\t\tcellEl.innerHTML = value;\n\t\t\t\t}\n\n\t\t\t\tstyleProps = [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"text-align\"];\n\n\t\t\t\tif(column.isRowHeader){\n\t\t\t\t\tcellStyle = styles.styleRowHeader;\n\t\t\t\t\tstyleProps.push(\"background-color\");\n\t\t\t\t}else {\n\t\t\t\t\tcellStyle = styles.styleCells && styles.styleCells[index] ? styles.styleCells[index] : styles.firstCell;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(cellStyle){\n\t\t\t\t\tthis.mapElementStyles(cellStyle, cellEl, styleProps);\n\t\t\t\t\t\n\t\t\t\t\tif(column.definition.align){\n\t\t\t\t\t\tcellEl.style.textAlign = column.definition.align;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\tif((setup.treeElementField && setup.treeElementField == column.field) || (!setup.treeElementField && i == 0)){\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.controlEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.controlEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.branchEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.branchEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t\t\n\t\t\t\tif(cellWrapper.modules.format && cellWrapper.modules.format.renderedCallback){\n\t\t\t\t\tcellWrapper.modules.format.renderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(setup.rowFormatter && row.type === \"row\" && this.config.formatCells !== false){\n\t\t\tlet formatComponent = Object.assign(row.component);\n\n\t\t\tformatComponent.getElement = function(){return rowEl;};\n\n\t\t\tsetup.rowFormatter(row.component);\n\t\t}\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateHTMLTable(list){\n\t\tvar holder = document.createElement(\"div\");\n\t\t\n\t\tholder.appendChild(this.generateTableElement(list));\n\t\t\n\t\treturn holder.innerHTML;\n\t}\n\t\n\tgetHtml(visible, style, config, colVisProp){\n\t\tvar list = this.generateExportList(config || this.table.options.htmlOutputConfig, style, visible, colVisProp || \"htmlOutput\");\n\t\t\n\t\treturn this.generateHTMLTable(list);\n\t}\n\t\n\tmapElementStyles(from, to, props){\n\t\tif(this.cloneTableStyle && from && to){\n\t\t\t\n\t\t\tvar lookup = {\n\t\t\t\t\"background-color\" : \"backgroundColor\",\n\t\t\t\t\"color\" : \"fontColor\",\n\t\t\t\t\"width\" : \"width\",\n\t\t\t\t\"font-weight\" : \"fontWeight\",\n\t\t\t\t\"font-family\" : \"fontFamily\",\n\t\t\t\t\"font-size\" : \"fontSize\",\n\t\t\t\t\"text-align\" : \"textAlign\",\n\t\t\t\t\"border-top\" : \"borderTop\",\n\t\t\t\t\"border-left\" : \"borderLeft\",\n\t\t\t\t\"border-right\" : \"borderRight\",\n\t\t\t\t\"border-bottom\" : \"borderBottom\",\n\t\t\t\t\"padding-top\" : \"paddingTop\",\n\t\t\t\t\"padding-left\" : \"paddingLeft\",\n\t\t\t\t\"padding-right\" : \"paddingRight\",\n\t\t\t\t\"padding-bottom\" : \"paddingBottom\",\n\t\t\t};\n\t\t\t\n\t\t\tif(window.getComputedStyle){\n\t\t\t\tvar fromStyle = window.getComputedStyle(from);\n\n\t\t\t\tprops.forEach(function(prop){\n\t\t\t\t\tif(!to.style[lookup[prop]]){\n\t\t\t\t\t\tto.style[lookup[prop]] = fromStyle.getPropertyValue(prop);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n\nvar defaultFilters = {\n\n\t//equal to\n\t\"=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal == filterVal ? true : false;\n\t},\n\n\t//less than\n\t\"<\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal < filterVal ? true : false;\n\t},\n\n\t//less than or equal to\n\t\"<=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal <= filterVal ? true : false;\n\t},\n\n\t//greater than\n\t\">\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal > filterVal ? true : false;\n\t},\n\n\t//greater than or equal to\n\t\">=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal >= filterVal ? true : false;\n\t},\n\n\t//not equal to\n\t\"!=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal != filterVal ? true : false;\n\t},\n\n\t\"regex\":function(filterVal, rowVal, rowData, filterParams){\n\n\t\tif(typeof filterVal == \"string\"){\n\t\t\tfilterVal = new RegExp(filterVal);\n\t\t}\n\n\t\treturn filterVal.test(rowVal);\n\t},\n\n\t//contains the string\n\t\"like\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else {\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().indexOf(filterVal.toLowerCase()) > -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//contains the keywords\n\t\"keywords\":function(filterVal, rowVal, rowData, filterParams){\n\t\tvar keywords = filterVal.toLowerCase().split(typeof filterParams.separator === \"undefined\" ? \" \" : filterParams.separator),\n\t\tvalue = String(rowVal === null || typeof rowVal === \"undefined\" ? \"\" : rowVal).toLowerCase(),\n\t\tmatches = [];\n\n\t\tkeywords.forEach((keyword) =>{\n\t\t\tif(value.includes(keyword)){\n\t\t\t\tmatches.push(true);\n\t\t\t}\n\t\t});\n\n\t\treturn filterParams.matchAll ? matches.length === keywords.length : !!matches.length;\n\t},\n\n\t//starts with the string\n\t\"starts\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else {\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().startsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//ends with the string\n\t\"ends\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else {\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().endsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//in array\n\t\"in\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(Array.isArray(filterVal)){\n\t\t\treturn filterVal.length ? filterVal.indexOf(rowVal) > -1 : true;\n\t\t}else {\n\t\t\tconsole.warn(\"Filter Error - filter value is not an array:\", filterVal);\n\t\t\treturn false;\n\t\t}\n\t},\n};\n\nclass Filter extends Module{\n\n\tstatic moduleName = \"filter\";\n\n\t//load defaults\n\tstatic filters = defaultFilters;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.filterList = []; //hold filter list\n\t\tthis.headerFilters = {}; //hold column filters\n\t\tthis.headerFilterColumns = []; //hold columns that use header filters\n\n\t\tthis.prevHeaderFilterChangeCheck = \"\";\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.changed = false; //has filtering changed since last render\n\t\tthis.tableInitialized = false;\n\n\t\tthis.registerTableOption(\"filterMode\", \"local\"); //local or remote filtering\n\n\t\tthis.registerTableOption(\"initialFilter\", false); //initial filtering criteria\n\t\tthis.registerTableOption(\"initialHeaderFilter\", false); //initial header filtering criteria\n\t\tthis.registerTableOption(\"headerFilterLiveFilterDelay\", 300); //delay before updating column after user types in header filter\n\t\tthis.registerTableOption(\"placeholderHeaderFilter\", false); //placeholder when header filter is empty\n\n\t\tthis.registerColumnOption(\"headerFilter\");\n\t\tthis.registerColumnOption(\"headerFilterPlaceholder\");\n\t\tthis.registerColumnOption(\"headerFilterParams\");\n\t\tthis.registerColumnOption(\"headerFilterEmptyCheck\");\n\t\tthis.registerColumnOption(\"headerFilterFunc\");\n\t\tthis.registerColumnOption(\"headerFilterFuncParams\");\n\t\tthis.registerColumnOption(\"headerFilterLiveFilter\");\n\n\t\tthis.registerTableFunction(\"searchRows\", this.searchRows.bind(this));\n\t\tthis.registerTableFunction(\"searchData\", this.searchData.bind(this));\n\n\t\tthis.registerTableFunction(\"setFilter\", this.userSetFilter.bind(this));\n\t\tthis.registerTableFunction(\"refreshFilter\", this.userRefreshFilter.bind(this));\n\t\tthis.registerTableFunction(\"addFilter\", this.userAddFilter.bind(this));\n\t\tthis.registerTableFunction(\"getFilters\", this.getFilters.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterFocus\", this.userSetHeaderFilterFocus.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilterValue\", this.userGetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterValue\", this.userSetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilters\", this.getHeaderFilters.bind(this));\n\t\tthis.registerTableFunction(\"removeFilter\", this.userRemoveFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearFilter\", this.userClearFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearHeaderFilter\", this.userClearHeaderFilter.bind(this));\n\n\t\tthis.registerComponentFunction(\"column\", \"headerFilterFocus\", this.setHeaderFilterFocus.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"reloadHeaderFilter\", this.reloadHeaderFilter.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"getHeaderFilterValue\", this.getHeaderFilterValue.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"setHeaderFilterValue\", this.setHeaderFilterValue.bind(this));\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-init\", this.initializeColumnHeaderFilter.bind(this));\n\t\tthis.subscribe(\"column-width-fit-before\", this.hideHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"column-width-fit-after\", this.showHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.subscribe(\"placeholder\", this.generatePlaceholder.bind(this));\n\n\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteFilterParams.bind(this));\n\t\t}\n\n\t\tthis.registerDataHandler(this.filter.bind(this), 10);\n\t}\n\n\ttableBuilt(){\n\t\tif(this.table.options.initialFilter){\n\t\t\tthis.setFilter(this.table.options.initialFilter);\n\t\t}\n\n\t\tif(this.table.options.initialHeaderFilter){\n\t\t\tthis.table.options.initialHeaderFilter.forEach((item) => {\n\n\t\t\t\tvar column = this.table.columnManager.findColumn(item.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.setHeaderFilterValue(column, item.value);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", item.field);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.tableInitialized = true;\n\t}\n\n\tremoteFilterParams(data, config, silent, params){\n\t\tparams.filter = this.getFilters(true, true);\n\t\treturn params;\n\t}\n\n\tgeneratePlaceholder(text){\n\t\tif(this.table.options.placeholderHeaderFilter && Object.keys(this.headerFilters).length){\n\t\t\treturn this.table.options.placeholderHeaderFilter;\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t//set standard filters\n\tuserSetFilter(field, type, value, params){\n\t\tthis.setFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\t//set standard filters\n\tuserRefreshFilter(){\n\t\tthis.refreshFilter();\n\t}\n\n\t//add filter to array\n\tuserAddFilter(field, type, value, params){\n\t\tthis.addFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\tuserSetHeaderFilterFocus(field){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterFocus(column);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Focus Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tuserGetHeaderFilterValue(field) {\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\treturn this.getHeaderFilterValue(column);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t}\n\t}\n\n\tuserSetHeaderFilterValue(field, value){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterValue(column, value);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//remove filter from array\n\tuserRemoveFilter(field, type, value){\n\t\tthis.removeFilter(field, type, value);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear filters\n\tuserClearFilter(all){\n\t\tthis.clearFilter(all);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear header filters\n\tuserClearHeaderFilter(){\n\t\tthis.clearHeaderFilter();\n\t\tthis.refreshFilter();\n\t}\n\n\n\t//search for specific row components\n\tsearchRows(field, type, value){\n\t\treturn this.search(\"rows\", field, type, value);\n\t}\n\n\t//search for specific data\n\tsearchData(field, type, value){\n\t\treturn this.search(\"data\", field, type, value);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumnHeaderFilter(column){\n\t\tvar def = column.definition;\n\n\t\tif(def.headerFilter){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\n\t//initialize column header filter\n\tinitializeColumn(column, value){\n\t\tvar self = this,\n\t\tfield = column.getField();\n\n\t\t//handle successfully value change\n\t\tfunction success(value){\n\t\t\tvar filterType = (column.modules.filter.tagType == \"input\" && column.modules.filter.attrType == \"text\") || column.modules.filter.tagType == \"textarea\" ? \"partial\" : \"match\",\n\t\t\ttype = \"\",\n\t\t\tfilterChangeCheck = \"\",\n\t\t\tfilterFunc;\n\n\t\t\tif(typeof column.modules.filter.prevSuccess === \"undefined\" || column.modules.filter.prevSuccess !== value){\n\n\t\t\t\tcolumn.modules.filter.prevSuccess = value;\n\n\t\t\t\tif(!column.modules.filter.emptyFunc(value)){\n\t\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\t\tswitch(typeof column.definition.headerFilterFunc){\n\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\tif(Filter.filters[column.definition.headerFilterFunc]){\n\t\t\t\t\t\t\t\ttype = column.definition.headerFilterFunc;\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\t\treturn Filter.filters[column.definition.headerFilterFunc](value, fieldVal, data, params);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tconsole.warn(\"Header Filter Error - Matching filter function not found: \", column.definition.headerFilterFunc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\treturn column.definition.headerFilterFunc(value, fieldVal, data, params);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\ttype = filterFunc;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!filterFunc){\n\t\t\t\t\t\tswitch(filterType){\n\t\t\t\t\t\t\tcase \"partial\":\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar colVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tif(typeof colVal !== 'undefined' && colVal !== null){\n\t\t\t\t\t\t\t\t\t\treturn String(colVal).toLowerCase().indexOf(String(value).toLowerCase()) > -1;\n\t\t\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"like\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\treturn column.getFieldValue(data) == value;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tself.headerFilters[field] = {value:value, func:filterFunc, type:type};\n\t\t\t\t}else {\n\t\t\t\t\tdelete self.headerFilters[field];\n\t\t\t\t}\n\n\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\tfilterChangeCheck = JSON.stringify(self.headerFilters);\n\n\t\t\t\tif(self.prevHeaderFilterChangeCheck !== filterChangeCheck){\n\t\t\t\t\tself.prevHeaderFilterChangeCheck = filterChangeCheck;\n\n\t\t\t\t\tself.trackChanges();\n\t\t\t\t\tself.refreshFilter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcolumn.modules.filter = {\n\t\t\tsuccess:success,\n\t\t\tattrType:false,\n\t\t\ttagType:false,\n\t\t\temptyFunc:false,\n\t\t};\n\n\t\tthis.generateHeaderFilterElement(column);\n\t}\n\n\tgenerateHeaderFilterElement(column, initialValue, reinitialize){\n\t\tvar self = this,\n\t\tsuccess = column.modules.filter.success,\n\t\tfield = column.getField(),\n\t\tfilterElement, editor, editorElement, cellWrapper, typingTimer, searchTrigger, params, onRenderedCallback;\n\n\t\tcolumn.modules.filter.value = initialValue;\n\n\t\t//handle aborted edit\n\t\tfunction cancel(){}\n\n\t\tfunction onRendered(callback){\n\t\t\tonRenderedCallback = callback;\n\t\t}\n\n\t\tif(column.modules.filter.headerElement && column.modules.filter.headerElement.parentNode){\n\t\t\tcolumn.contentElement.removeChild(column.modules.filter.headerElement.parentNode);\n\t\t}\n\n\t\tif(field){\n\n\t\t\t//set empty value function\n\t\t\tcolumn.modules.filter.emptyFunc = column.definition.headerFilterEmptyCheck || function(value){\n\t\t\t\treturn !value && value !== 0;\n\t\t\t};\n\n\t\t\tfilterElement = document.createElement(\"div\");\n\t\t\tfilterElement.classList.add(\"tabulator-header-filter\");\n\n\t\t\t//set column editor\n\t\t\tswitch(typeof column.definition.headerFilter){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(self.table.modules.edit.editors[column.definition.headerFilter]){\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.headerFilter];\n\n\t\t\t\t\t\tif((column.definition.headerFilter === \"tick\" || column.definition.headerFilter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Filter Error - Cannot build header filter, No such editor found: \", column.definition.editor);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\teditor = column.definition.headerFilter;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tif(column.modules.edit && column.modules.edit.editor){\n\t\t\t\t\t\teditor = column.modules.edit.editor;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(column.definition.formatter && self.table.modules.edit.editors[column.definition.formatter]){\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.formatter];\n\n\t\t\t\t\t\t\tif((column.definition.formatter === \"tick\" || column.definition.formatter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(editor){\n\n\t\t\t\tcellWrapper = {\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn typeof initialValue !== \"undefined\" ? initialValue : \"\";\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn filterElement;\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t},\n\t\t\t\t\tgetType:() => {\n\t\t\t\t\t\treturn \"header\";\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tnormalizeHeight:function(){\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tparams = column.definition.headerFilterParams || {};\n\n\t\t\t\tparams = typeof params === \"function\" ? params.call(self.table, cellWrapper) : params;\n\n\t\t\t\teditorElement = editor.call(this.table.modules.edit, cellWrapper, onRendered, success, cancel, params);\n\n\t\t\t\tif(!editorElement){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor returned a value of false\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!(editorElement instanceof Node)){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor should return an instance of Node, the editor returned:\", editorElement);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//set Placeholder Text\n\t\t\t\tself.langBind(\"headerFilters|columns|\" + column.definition.field, function(value){\n\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof value !== \"undefined\" && value ? value : (column.definition.headerFilterPlaceholder || self.langText(\"headerFilters|default\")));\n\t\t\t\t});\n\n\t\t\t\t//focus on element on click\n\t\t\t\teditorElement.addEventListener(\"click\", function(e){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\teditorElement.focus();\n\t\t\t\t});\n\n\t\t\t\teditorElement.addEventListener(\"focus\", (e) => {\n\t\t\t\t\tvar left = this.table.columnManager.contentsElement.scrollLeft;\n\n\t\t\t\t\tvar headerPos = this.table.rowManager.element.scrollLeft;\n\n\t\t\t\t\tif(left !== headerPos){\n\t\t\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//live update filters as user types\n\t\t\t\ttypingTimer = false;\n\n\t\t\t\tsearchTrigger = function(e){\n\t\t\t\t\tif(typingTimer){\n\t\t\t\t\t\tclearTimeout(typingTimer);\n\t\t\t\t\t}\n\n\t\t\t\t\ttypingTimer = setTimeout(function(){\n\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t},self.table.options.headerFilterLiveFilterDelay);\n\t\t\t\t};\n\n\t\t\t\tcolumn.modules.filter.headerElement = editorElement;\n\t\t\t\tcolumn.modules.filter.attrType = editorElement.hasAttribute(\"type\") ? editorElement.getAttribute(\"type\").toLowerCase() : \"\" ;\n\t\t\t\tcolumn.modules.filter.tagType = editorElement.tagName.toLowerCase();\n\n\t\t\t\tif(column.definition.headerFilterLiveFilter !== false){\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'autocomplete' ||\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'tickCross' ||\n\t\t\t\t\t\t\t((column.definition.editor === 'autocomplete' ||\n\t\t\t\t\t\t\t\tcolumn.definition.editor === 'tickCross') &&\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === true)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\teditorElement.addEventListener(\"keyup\", searchTrigger);\n\t\t\t\t\t\teditorElement.addEventListener(\"search\", searchTrigger);\n\n\n\t\t\t\t\t\t//update number filtered columns on change\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"number\"){\n\t\t\t\t\t\t\teditorElement.addEventListener(\"change\", function(e){\n\t\t\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//change text inputs to search inputs to allow for clearing of field\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"text\" && this.table.browser !== \"ie\"){\n\t\t\t\t\t\t\teditorElement.setAttribute(\"type\", \"search\");\n\t\t\t\t\t\t// editorElement.off(\"change blur\"); //prevent blur from triggering filter and preventing selection click\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//prevent input and select elements from propagating click to column sorters etc\n\t\t\t\t\tif(column.modules.filter.tagType == \"input\" || column.modules.filter.tagType == \"select\" || column.modules.filter.tagType == \"textarea\"){\n\t\t\t\t\t\teditorElement.addEventListener(\"mousedown\",function(e){\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfilterElement.appendChild(editorElement);\n\n\t\t\t\tcolumn.contentElement.appendChild(filterElement);\n\n\t\t\t\tif(!reinitialize){\n\t\t\t\t\tself.headerFilterColumns.push(column);\n\t\t\t\t}\n\n\t\t\t\tif(onRenderedCallback){\n\t\t\t\t\tonRenderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Filter Error - Cannot add header filter, column has no field set:\", column.definition.title);\n\t\t}\n\t}\n\n\t//hide all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\thideHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = 'none';\n\t\t\t}\n\t\t});\n\t}\n\n\t//show all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\tshowHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = '';\n\t\t\t}\n\t\t});\n\t}\n\n\t//programmatically set focus of header filter\n\tsetHeaderFilterFocus(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\tcolumn.modules.filter.headerElement.focus();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Filter Focus Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically get value of header filter\n\tgetHeaderFilterValue(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\treturn column.modules.filter.value;\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically set value of header filter\n\tsetHeaderFilterValue(column, value){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, value, true);\n\t\t\t\tcolumn.modules.filter.success(value);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\treloadHeaderFilter(column){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, column.modules.filter.value, true);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\trefreshFilter(){\n\t\tif(this.tableInitialized){\n\t\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\t\tthis.reloadData(null, false, false);\n\t\t\t}else {\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the filters has changed since last use\n\ttrackChanges(){\n\t\tthis.changed = true;\n\t\tthis.dispatch(\"filter-changed\");\n\t}\n\n\t//check if the filters has changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//set standard filters\n\tsetFilter(field, type, value, params){\n\t\tthis.filterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tthis.addFilter(field);\n\t}\n\n\t//add filter to array\n\taddFilter(field, type, value, params){\n\t\tvar changed = false;\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tthis.filterList.push(filter);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\n\t\tif(changed){\n\t\t\tthis.trackChanges();\n\t\t}\n\t}\n\n\tfindFilter(filter){\n\t\tvar column;\n\n\t\tif(Array.isArray(filter)){\n\t\t\treturn this.findSubFilters(filter);\n\t\t}\n\n\t\tvar filterFunc = false;\n\n\t\tif(typeof filter.field == \"function\"){\n\t\t\tfilterFunc = function(data){\n\t\t\t\treturn filter.field(data, filter.type || {});// pass params to custom filter function\n\t\t\t};\n\t\t}else {\n\n\t\t\tif(Filter.filters[filter.type]){\n\n\t\t\t\tcolumn = this.table.columnManager.getColumnByField(filter.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, column.getFieldValue(data), data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}else {\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, data[filter.field], data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}\n\n\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Filter Error - No such filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t}\n\n\t\tfilter.func = filterFunc;\n\n\t\treturn filter.func ? filter : false;\n\t}\n\n\tfindSubFilters(filters){\n\t\tvar output = [];\n\n\t\tfilters.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\toutput.push(filter);\n\t\t\t}\n\t\t});\n\n\t\treturn output.length ? output : false;\n\t}\n\n\t//get all filters\n\tgetFilters(all, ajax){\n\t\tvar output = [];\n\n\t\tif(all){\n\t\t\toutput = this.getHeaderFilters();\n\t\t}\n\n\t\tif(ajax){\n\t\t\toutput.forEach(function(item){\n\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\titem.type = \"function\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\toutput = output.concat(this.filtersToArray(this.filterList, ajax));\n\n\t\treturn output;\n\t}\n\n\t//filter to Object\n\tfiltersToArray(filterList, ajax){\n\t\tvar output = [];\n\n\t\tfilterList.forEach((filter) => {\n\t\t\tvar item;\n\n\t\t\tif(Array.isArray(filter)){\n\t\t\t\toutput.push(this.filtersToArray(filter, ajax));\n\t\t\t}else {\n\t\t\t\titem = {field:filter.field, type:filter.type, value:filter.value};\n\n\t\t\t\tif(ajax){\n\t\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\t\titem.type = \"function\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toutput.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//get all filters\n\tgetHeaderFilters(){\n\t\tvar output = [];\n\n\t\tfor(var key in this.headerFilters){\n\t\t\toutput.push({field:key, type:this.headerFilters[key].type, value:this.headerFilters[key].value});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//remove filter from array\n\tremoveFilter(field, type, value){\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tvar index = -1;\n\n\t\t\tif(typeof filter.field == \"object\"){\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter === element;\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter.field === element.field && filter.type === element.type  && filter.value === element.value;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.filterList.splice(index, 1);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Filter Error - No matching filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear filters\n\tclearFilter(all){\n\t\tthis.filterList = [];\n\n\t\tif(all){\n\t\t\tthis.clearHeaderFilter();\n\t\t}\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear header filters\n\tclearHeaderFilter(){\n\t\tthis.headerFilters = {};\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.headerFilterColumns.forEach((column) => {\n\t\t\tif(typeof column.modules.filter.value !== \"undefined\"){\n\t\t\t\tdelete column.modules.filter.value;\n\t\t\t}\n\t\t\tcolumn.modules.filter.prevSuccess = undefined;\n\t\t\tthis.reloadHeaderFilter(column);\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//search data and return matching rows\n\tsearch (searchType, field, type, value){\n\t\tvar activeRows = [],\n\t\tfilterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tfilterList.push(filter);\n\t\t\t}\n\t\t});\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\tvar match = true;\n\n\t\t\tfilterList.forEach((filter) => {\n\t\t\t\tif(!this.filterRecurse(filter, row.getData())){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tactiveRows.push(searchType === \"data\" ? row.getData(\"data\") : row.getComponent());\n\t\t\t}\n\n\t\t});\n\n\t\treturn activeRows;\n\t}\n\n\t//filter row array\n\tfilter(rowList, filters){\n\t\tvar activeRows = [],\n\t\tactiveRowComponents = [];\n\n\t\tif(this.subscribedExternal(\"dataFiltering\")){\n\t\t\tthis.dispatchExternal(\"dataFiltering\", this.getFilters(true));\n\t\t}\n\n\t\tif(this.table.options.filterMode !== \"remote\" && (this.filterList.length || Object.keys(this.headerFilters).length)){\n\n\t\t\trowList.forEach((row) => {\n\t\t\t\tif(this.filterRow(row)){\n\t\t\t\t\tactiveRows.push(row);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}else {\n\t\t\tactiveRows = rowList.slice(0);\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataFiltered\")){\n\n\t\t\tactiveRows.forEach((row) => {\n\t\t\t\tactiveRowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataFiltered\", this.getFilters(true), activeRowComponents);\n\t\t}\n\n\t\treturn activeRows;\n\t}\n\n\t//filter individual row\n\tfilterRow(row, filters){\n\t\tvar match = true,\n\t\tdata = row.getData();\n\n\t\tthis.filterList.forEach((filter) => {\n\t\t\tif(!this.filterRecurse(filter, data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\n\n\t\tfor(var field in this.headerFilters){\n\t\t\tif(!this.headerFilters[field].func(data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\treturn match;\n\t}\n\n\tfilterRecurse(filter, data){\n\t\tvar match = false;\n\n\t\tif(Array.isArray(filter)){\n\t\t\tfilter.forEach((subFilter) => {\n\t\t\t\tif(this.filterRecurse(subFilter, data)){\n\t\t\t\t\tmatch = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tmatch = filter.func(data);\n\t\t}\n\n\t\treturn match;\n\t}\n}\n\nfunction plaintext(cell, formatterParams, onRendered){\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}\n\nfunction html(cell, formatterParams, onRendered){\n\treturn cell.getValue();\n}\n\nfunction textarea(cell, formatterParams, onRendered){\n\tcell.getElement().style.whiteSpace = \"pre-wrap\";\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}\n\nfunction money(cell, formatterParams, onRendered){\n\tvar floatVal = parseFloat(cell.getValue()),\n\tsign = \"\",\n\tnumber, integer, decimal, rgx, value;\n\n\tvar decimalSym = formatterParams.decimal || \".\";\n\tvar thousandSym = formatterParams.thousand || \",\";\n\tvar negativeSign = formatterParams.negativeSign || \"-\";\n\tvar symbol = formatterParams.symbol || \"\";\n\tvar after = !!formatterParams.symbolAfter;\n\tvar precision = typeof formatterParams.precision !== \"undefined\" ? formatterParams.precision : 2;\n\n\tif(isNaN(floatVal)){\n\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n\t}\n\n\tif(floatVal < 0){\n\t\tfloatVal = Math.abs(floatVal);\n\t\tsign = negativeSign;\n\t}\n\n\tnumber = precision !== false ? floatVal.toFixed(precision) : floatVal;\n\tnumber = String(number).split(\".\");\n\n\tinteger = number[0];\n\tdecimal = number.length > 1 ? decimalSym + number[1] : \"\";\n\n\tif (formatterParams.thousand !== false) {\n\t\trgx = /(\\d+)(\\d{3})/;\n\n\t\twhile (rgx.test(integer)){\n\t\t\tinteger = integer.replace(rgx, \"$1\" + thousandSym + \"$2\");\n\t\t}\n\t}\n\n\tvalue = integer + decimal;\n\t\n\tif(sign === true){\n\t\tvalue = \"(\" + value  + \")\";\n\t\treturn after ? value + symbol : symbol + value;\n\t}else {\n\t\treturn after ? sign + value + symbol : sign + symbol + value;\n\t}\n}\n\nfunction link(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\turlPrefix = formatterParams.urlPrefix || \"\",\n\tdownload = formatterParams.download,\n\tlabel = value,\n\tel = document.createElement(\"a\"),\n\tdata;\n\n\tfunction labelTraverse(path, data){\n\t\tvar item = path.shift(),\n\t\tvalue = data[item];\n\t\t\n\t\tif(path.length && typeof value === \"object\"){\n\t\t\treturn labelTraverse(path, value);\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tif(formatterParams.labelField){\n\t\tdata = cell.getData();\n\t\tlabel = labelTraverse(formatterParams.labelField.split(this.table.options.nestedFieldSeparator), data);\n\t}\n\n\tif(formatterParams.label){\n\t\tswitch(typeof formatterParams.label){\n\t\t\tcase \"string\":\n\t\t\t\tlabel = formatterParams.label;\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tlabel = formatterParams.label(cell);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif(label){\n\t\tif(formatterParams.urlField){\n\t\t\tdata = cell.getData();\n\n\t\t\tvalue = Helpers.retrieveNestedData(this.table.options.nestedFieldSeparator, formatterParams.urlField, data);\n\t\t}\n\n\t\tif(formatterParams.url){\n\t\t\tswitch(typeof formatterParams.url){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tvalue = formatterParams.url;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tvalue = formatterParams.url(cell);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tel.setAttribute(\"href\", urlPrefix + value);\n\n\t\tif(formatterParams.target){\n\t\t\tel.setAttribute(\"target\", formatterParams.target);\n\t\t}\n\n\t\tif(formatterParams.download){\n\n\t\t\tif(typeof download == \"function\"){\n\t\t\t\tdownload = download(cell);\n\t\t\t}else {\n\t\t\t\tdownload = download === true ? \"\" : download;\n\t\t\t}\n\n\t\t\tel.setAttribute(\"download\", download);\n\t\t}\n\n\t\tel.innerHTML = this.emptyToSpace(this.sanitizeHTML(label));\n\n\t\treturn el;\n\t}else {\n\t\treturn \"&nbsp;\";\n\t}\n}\n\nfunction image(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"img\"),\n\tsrc = cell.getValue();\n\n\tif(formatterParams.urlPrefix){\n\t\tsrc = formatterParams.urlPrefix + cell.getValue();\n\t}\n\n\tif(formatterParams.urlSuffix){\n\t\tsrc = src + formatterParams.urlSuffix;\n\t}\n\n\tel.setAttribute(\"src\", src);\n\n\tswitch(typeof formatterParams.height){\n\t\tcase \"number\":\n\t\t\tel.style.height = formatterParams.height + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.height = formatterParams.height;\n\t\t\tbreak;\n\t}\n\n\tswitch(typeof formatterParams.width){\n\t\tcase \"number\":\n\t\t\tel.style.width = formatterParams.width + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.width = formatterParams.width;\n\t\t\tbreak;\n\t}\n\n\tel.addEventListener(\"load\", function(){\n\t\tcell.getRow().normalizeHeight();\n\t});\n\n\treturn el;\n}\n\nfunction tickCross(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tempty = formatterParams.allowEmpty,\n\ttruthy = formatterParams.allowTruthy,\n\ttrueValueSet = Object.keys(formatterParams).includes(\"trueValue\"),\n\ttick = typeof formatterParams.tickElement !== \"undefined\" ? formatterParams.tickElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',\n\tcross = typeof formatterParams.crossElement !== \"undefined\" ? formatterParams.crossElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n\n\tif((trueValueSet && value === formatterParams.trueValue) || (!trueValueSet && ((truthy && value) || (value === true || value === \"true\" || value === \"True\" || value === 1 || value === \"1\")))){\n\t\telement.setAttribute(\"aria-checked\", true);\n\t\treturn tick || \"\";\n\t}else {\n\t\tif(empty && (value === \"null\" || value === \"\" || value === null || typeof value === \"undefined\")){\n\t\t\telement.setAttribute(\"aria-checked\", \"mixed\");\n\t\t\treturn \"\";\n\t\t}else {\n\t\t\telement.setAttribute(\"aria-checked\", false);\n\t\t\treturn cross || \"\";\n\t\t}\n\t}\n}\n\nfunction datetime$1(cell, formatterParams, onRendered){\n\tvar DT = this.table.dependencyRegistry.lookup([\"luxon\", \"DateTime\"], \"DateTime\");\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar\toutputFormat = formatterParams.outputFormat || \"dd/MM/yyyy HH:mm:ss\";\n\tvar\tinvalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else {\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif(newDatetime.isValid){\n\t\t\tif(formatterParams.timezone){\n\t\t\t\tnewDatetime = newDatetime.setZone(formatterParams.timezone);\n\t\t\t}\n\n\t\t\treturn newDatetime.toFormat(outputFormat);\n\t\t}else {\n\t\t\tif(invalid === true || !value){\n\t\t\t\treturn value;\n\t\t\t}else if(typeof invalid === \"function\"){\n\t\t\t\treturn invalid(value);\n\t\t\t}else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else {\n\t\tconsole.error(\"Format Error - 'datetime' formatter is dependant on luxon.js\");\n\t}\n}\n\nfunction datetimediff (cell, formatterParams, onRendered) {\n\tvar DT = this.table.dependencyRegistry.lookup([\"luxon\", \"DateTime\"], \"DateTime\");\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar suffix = typeof formatterParams.suffix !== \"undefined\" ? formatterParams.suffix : false;\n\tvar unit = typeof formatterParams.unit !== \"undefined\" ? formatterParams.unit : \"days\";\n\tvar humanize = typeof formatterParams.humanize !== \"undefined\" ? formatterParams.humanize : false;\n\tvar date = typeof formatterParams.date !== \"undefined\" ? formatterParams.date : DT.now();\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else {\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif (newDatetime.isValid){\n\t\t\tif(humanize){\n\t\t\t\treturn newDatetime.diff(date, unit).toHuman()  + (suffix ? \" \" + suffix : \"\");\n\t\t\t}else {\n\t\t\t\treturn parseInt(newDatetime.diff(date, unit)[unit]) + (suffix ? \" \" + suffix : \"\");\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (invalid === true) {\n\t\t\t\treturn value;\n\t\t\t} else if (typeof invalid === \"function\") {\n\t\t\t\treturn invalid(value);\n\t\t\t} else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else {\n\t\tconsole.error(\"Format Error - 'datetimediff' formatter is dependant on luxon.js\");\n\t}\n}\n\nfunction lookup (cell, formatterParams, onRendered) {\n\tvar value = cell.getValue();\n\n\tif (typeof formatterParams[value] === \"undefined\") {\n\t\tconsole.warn('Missing display value for ' + value);\n\t\treturn value;\n\t}\n\n\treturn formatterParams[value];\n}\n\nfunction star(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tmaxStars = formatterParams && formatterParams.stars ? formatterParams.stars : 5,\n\tstars = document.createElement(\"span\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\"),\n\tstarActive = '<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>',\n\tstarInactive = '<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\n\t//style stars holder\n\tstars.style.verticalAlign = \"middle\";\n\n\t//style star\n\tstar.setAttribute(\"width\", \"14\");\n\tstar.setAttribute(\"height\", \"14\");\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tvalue = value && !isNaN(value) ? parseInt(value) : 0;\n\n\tvalue = Math.max(0, Math.min(value, maxStars));\n\n\tfor(var i=1;i<= maxStars;i++){\n\t\tvar nextStar = star.cloneNode(true);\n\t\tnextStar.innerHTML = i <= value ? starActive : starInactive;\n\n\t\tstars.appendChild(nextStar);\n\t}\n\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\telement.setAttribute(\"aria-label\", value);\n\n\treturn stars;\n}\n\nfunction traffic(cell, formatterParams, onRendered){\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\tel = document.createElement(\"span\"),\n\tmax = formatterParams && formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams && formatterParams.min ? formatterParams.min : 0,\n\tcolors = formatterParams && typeof formatterParams.color !== \"undefined\" ? formatterParams.color : [\"red\", \"orange\", \"green\"],\n\tcolor = \"#666666\",\n\tpercent, percentValue;\n\n\tif(isNaN(value) || typeof cell.getValue() === \"undefined\"){\n\t\treturn;\n\t}\n\n\tel.classList.add(\"tabulator-traffic-light\");\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set color\n\tswitch(typeof colors){\n\t\tcase \"string\":\n\t\t\tcolor = colors;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = colors(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(colors)){\n\t\t\t\tvar unit = 100 / colors.length;\n\t\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, colors.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = colors[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n\n\tel.style.backgroundColor = color;\n\n\treturn el;\n}\n\nfunction progress(cell, formatterParams = {}, onRendered){ //progress bar\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\telement = cell.getElement(),\n\tmax = formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams.min ? formatterParams.min : 0,\n\tlegendAlign = formatterParams.legendAlign ? formatterParams.legendAlign : \"center\",\n\tpercent, percentValue, color, legend, legendColor;\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set bar color\n\tswitch(typeof formatterParams.color){\n\t\tcase \"string\":\n\t\t\tcolor = formatterParams.color;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = formatterParams.color(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.color)){\n\t\t\t\tlet unit = 100 / formatterParams.color.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.color.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = formatterParams.color[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t\tdefault:\n\t\t\tcolor = \"#2DC214\";\n\t}\n\n\t//generate legend\n\tswitch(typeof formatterParams.legend){\n\t\tcase \"string\":\n\t\t\tlegend = formatterParams.legend;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegend = formatterParams.legend(value);\n\t\t\tbreak;\n\t\tcase \"boolean\":\n\t\t\tlegend = value;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegend = false;\n\t}\n\n\t//set legend color\n\tswitch(typeof formatterParams.legendColor){\n\t\tcase \"string\":\n\t\t\tlegendColor = formatterParams.legendColor;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegendColor = formatterParams.legendColor(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.legendColor)){\n\t\t\t\tlet unit = 100 / formatterParams.legendColor.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.legendColor.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tlegendColor = formatterParams.legendColor[index];\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegendColor = \"#000\";\n\t}\n\n\telement.style.minWidth = \"30px\";\n\telement.style.position = \"relative\";\n\n\telement.setAttribute(\"aria-label\", percentValue);\n\n\tvar barEl = document.createElement(\"div\");\n\tbarEl.style.display = \"inline-block\";\n\tbarEl.style.width = percentValue + \"%\";\n\tbarEl.style.backgroundColor = color;\n\tbarEl.style.height = \"100%\";\n\n\tbarEl.setAttribute('data-max', max);\n\tbarEl.setAttribute('data-min', min);\n\n\tvar barContainer = document.createElement(\"div\");\n\tbarContainer.style.position = \"relative\";\n\tbarContainer.style.width = \"100%\";\n\tbarContainer.style.height = \"100%\";\n\n\tif(legend){\n\t\tvar legendEl = document.createElement(\"div\");\n\t\tlegendEl.style.position = \"absolute\";\n\t\tlegendEl.style.top = 0;\n\t\tlegendEl.style.left = 0;\n\t\tlegendEl.style.textAlign = legendAlign;\n\t\tlegendEl.style.width = \"100%\";\n\t\tlegendEl.style.color = legendColor;\n\t\tlegendEl.innerHTML = legend;\n\t}\n\n\tonRendered(function(){\n\n\t\t//handle custom element needed if formatter is to be included in printed/downloaded output\n\t\tif(!(cell instanceof CellComponent)){\n\t\t\tvar holderEl = document.createElement(\"div\");\n\t\t\tholderEl.style.position = \"absolute\";\n\t\t\tholderEl.style.top = \"4px\";\n\t\t\tholderEl.style.bottom = \"4px\";\n\t\t\tholderEl.style.left = \"4px\";\n\t\t\tholderEl.style.right = \"4px\";\n\n\t\t\telement.appendChild(holderEl);\n\n\t\t\telement = holderEl;\n\t\t}\n\n\t\telement.appendChild(barContainer);\n\t\tbarContainer.appendChild(barEl);\n\n\t\tif(legend){\n\t\t\tbarContainer.appendChild(legendEl);\n\t\t}\n\t});\n\n\treturn \"\";\n}\n\nfunction color(cell, formatterParams, onRendered){\n\tcell.getElement().style.backgroundColor = this.sanitizeHTML(cell.getValue());\n\treturn \"\";\n}\n\nfunction buttonTick(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';\n}\n\nfunction buttonCross(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n}\n\nfunction toggle(cell, formatterParams, onRendered){\r\n\tvar value = cell.getValue(),\r\n\tsize = formatterParams.size ||15,\r\n\tsizePx = size + \"px\",\r\n\tcontainEl, switchEl,\r\n\tonValue = formatterParams.hasOwnProperty(\"onValue\") ? formatterParams.onValue : true,\r\n\toffValue = formatterParams.hasOwnProperty(\"offValue\") ? formatterParams.offValue : false,\r\n\r\n\r\n\tstate = formatterParams.onTruthy ? value : value === onValue;\r\n\r\n\t\r\n\tcontainEl = document.createElement(\"div\");\r\n\tcontainEl.classList.add(\"tabulator-toggle\");\r\n\r\n\tif(state){\r\n\t\tcontainEl.classList.add(\"tabulator-toggle-on\");\r\n\t\tcontainEl.style.flexDirection = \"row-reverse\";\r\n\r\n\t\tif(formatterParams.onColor){\r\n\t\t\tcontainEl.style.background = formatterParams.onColor;\r\n\t\t}\r\n\t}else {\r\n\t\tif(formatterParams.offColor){\r\n\t\t\tcontainEl.style.background = formatterParams.offColor;\r\n\t\t}\r\n\t}\r\n\r\n\tcontainEl.style.width = (2.5 * size) + \"px\";\r\n\tcontainEl.style.borderRadius = sizePx;\r\n\r\n\tif(formatterParams.clickable){\r\n\t\tcontainEl.addEventListener(\"click\", (e) => {\r\n\t\t\tcell.setValue(state ? offValue : onValue);\r\n\t\t});\r\n\t}\r\n\r\n\tswitchEl = document.createElement(\"div\");\r\n\tswitchEl.classList.add(\"tabulator-toggle-switch\");\r\n\r\n\tswitchEl.style.height = sizePx;\r\n\tswitchEl.style.width = sizePx;\r\n\tswitchEl.style.borderRadius = sizePx;\r\n\t\r\n\tcontainEl.appendChild(switchEl);\r\n\t\r\n\treturn containEl;\r\n}\n\nfunction rownum(cell, formatterParams, onRendered){\n\tvar content = document.createElement(\"span\");\n\tvar row = cell.getRow();\n\tvar table = cell.getTable();\n\n\trow.watchPosition((position) => {\n\t\tif (formatterParams.relativeToPage) {\n\t\t\tposition += table.modules.page.getPageSize() * (table.modules.page.getPage() - 1);\n\t\t}\n\t\tcontent.innerText = position;\n\t});\n\t\n\treturn content;\n}\n\nfunction handle(cell, formatterParams, onRendered){\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\treturn \"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";\n}\n\nfunction adaptable(cell, params, onRendered){\r\n\tvar lookup, formatterFunc, formatterParams;\r\n    \r\n\tfunction defaultLookup(cell){\r\n\t\tvar value = cell.getValue(),\r\n\t\tformatter = \"plaintext\";\r\n        \r\n\t\tswitch(typeof value){           \r\n\t\t\tcase \"boolean\":\r\n\t\t\t\tformatter = \"tickCross\";\r\n\t\t\t\tbreak;\r\n            \r\n\t\t\tcase \"string\":\r\n\t\t\t\tif(value.includes(\"\\n\")){\r\n\t\t\t\t\tformatter = \"textarea\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n        \r\n\t\treturn formatter;\r\n\t}\r\n    \r\n\tlookup = params.formatterLookup ? params.formatterLookup(cell) : defaultLookup(cell);\r\n\r\n\tif(params.paramsLookup){\r\n\t\tformatterParams = typeof params.paramsLookup === \"function\" ? params.paramsLookup(lookup, cell) : params.paramsLookup[lookup];\r\n\t}\r\n\r\n\tformatterFunc = this.table.modules.format.lookupFormatter(lookup);\r\n    \r\n\treturn  formatterFunc.call(this, cell, formatterParams || {}, onRendered);\r\n}\n\nfunction array$2(cell, formatterParams, onRendered){\n\tvar delimiter = formatterParams.delimiter || \",\",\n\tvalue = cell.getValue(),\n\ttable = this.table,\n\tvalueMap;\n\t\n\tif(formatterParams.valueMap){\n\t\tif(typeof formatterParams.valueMap === \"string\"){\n\t\t\tvalueMap = function(value){\n\t\t\t\treturn value.map((item) => {\n\t\t\t\t\treturn Helpers.retrieveNestedData(table.options.nestedFieldSeparator, formatterParams.valueMap, item);\n\t\t\t\t});\n\t\t\t};\n\t\t}else {\n\t\t\tvalueMap = formatterParams.valueMap;\n\t\t}\n\t}\n\n\tif(Array.isArray(value)){\n\t\tif(valueMap){\n\t\t\tvalue = valueMap(value);\n\t\t}\n\n\t\treturn value.join(delimiter);\n\t}else {\n\t\treturn value;\n\t}\n}\n\nfunction json$1(cell, formatterParams, onRendered){\n\tvar indent = formatterParams.indent || \"\\t\",\n\tmultiline = typeof formatterParams.multiline === \"undefined\" ? true : formatterParams.multiline,\n\treplacer = formatterParams.replacer || null,\n\tvalue = cell.getValue();\n\t\n\tif(multiline){\n\t\tcell.getElement().style.whiteSpace = \"pre-wrap\";\n\t}\n\n\treturn JSON.stringify(value, replacer, indent);\n}\n\nvar defaultFormatters = {\n\tplaintext:plaintext,\n\thtml:html,\n\ttextarea:textarea,\n\tmoney:money,\n\tlink:link,\n\timage:image,\n\ttickCross:tickCross,\n\tdatetime:datetime$1,\n\tdatetimediff:datetimediff,\n\tlookup:lookup,\n\tstar:star,\n\ttraffic:traffic,\n\tprogress:progress,\n\tcolor:color,\n\tbuttonTick:buttonTick,\n\tbuttonCross:buttonCross,\n\ttoggle:toggle,\n\trownum:rownum,\n\thandle:handle,\n\tadaptable:adaptable,\n\tarray:array$2,\n\tjson:json$1,\n};\n\nclass Format extends Module{\n\t\n\tstatic moduleName = \"format\";\n\t\n\t//load defaults\n\tstatic formatters = defaultFormatters;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.registerColumnOption(\"formatter\");\n\t\tthis.registerColumnOption(\"formatterParams\");\n\t\t\n\t\tthis.registerColumnOption(\"formatterPrint\");\n\t\tthis.registerColumnOption(\"formatterPrintParams\");\n\t\tthis.registerColumnOption(\"formatterClipboard\");\n\t\tthis.registerColumnOption(\"formatterClipboardParams\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutput\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutputParams\");\n\t\tthis.registerColumnOption(\"titleFormatter\");\n\t\tthis.registerColumnOption(\"titleFormatterParams\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-format\", this.formatValue.bind(this));\n\t\tthis.subscribe(\"cell-rendered\", this.cellRendered.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-format\", this.formatHeader.bind(this));\n\t}\n\t\n\t//initialize column formatter\n\tinitializeColumn(column){\n\t\tcolumn.modules.format = this.lookupTypeFormatter(column, \"\");\n\t\t\n\t\tif(typeof column.definition.formatterPrint !== \"undefined\"){\n\t\t\tcolumn.modules.format.print = this.lookupTypeFormatter(column, \"Print\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterClipboard !== \"undefined\"){\n\t\t\tcolumn.modules.format.clipboard = this.lookupTypeFormatter(column, \"Clipboard\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterHtmlOutput !== \"undefined\"){\n\t\t\tcolumn.modules.format.htmlOutput = this.lookupTypeFormatter(column, \"HtmlOutput\");\n\t\t}\n\t}\n\t\n\tlookupTypeFormatter(column, type){\n\t\tvar config = {params:column.definition[\"formatter\" + type + \"Params\"] || {}},\n\t\tformatter = column.definition[\"formatter\" + type];\n\t\t\n\t\tconfig.formatter = this.lookupFormatter(formatter);\n\t\t\n\t\treturn config;\n\t}\n\t\n\t\n\tlookupFormatter(formatter){\n\t\tvar formatterFunc;\n\n\t\t//set column formatter\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Format.formatters[formatter]){\n\t\t\t\t\tformatterFunc = Format.formatters[formatter];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\t\tformatterFunc = Format.formatters.plaintext;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tformatterFunc = formatter;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tformatterFunc = Format.formatters.plaintext;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn formatterFunc;\n\t}\n\t\n\tcellRendered(cell){\n\t\tif(cell.modules.format && cell.modules.format.renderedCallback && !cell.modules.format.rendered){\n\t\t\tcell.modules.format.renderedCallback();\n\t\t\tcell.modules.format.rendered = true;\n\t\t}\n\t}\n\t\n\t//return a formatted value for a column header\n\tformatHeader(column, title, el){\n\t\tvar formatter, params, onRendered, mockCell;\n\t\t\n\t\tif(column.definition.titleFormatter){\n\t\t\tformatter = this.lookupFormatter(column.definition.titleFormatter);\n\t\t\t\n\t\t\tonRendered = (callback) => {\n\t\t\t\tcolumn.titleFormatterRendered = callback;\n\t\t\t};\n\t\t\t\n\t\t\tmockCell = {\n\t\t\t\tgetValue:function(){\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tgetElement:function(){\n\t\t\t\t\treturn el;\n\t\t\t\t},\n\t\t\t\tgetType:function(){\n\t\t\t\t\treturn \"header\";\n\t\t\t\t},\n\t\t\t\tgetColumn:function(){\n\t\t\t\t\treturn column.getComponent();\n\t\t\t\t},\n\t\t\t\tgetTable:() => {\n\t\t\t\t\treturn this.table;\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tparams = column.definition.titleFormatterParams || {};\n\t\t\t\n\t\t\tparams = typeof params === \"function\" ? params() : params;\n\t\t\t\n\t\t\treturn formatter.call(this, mockCell, params, onRendered);\n\t\t}else {\n\t\t\treturn title;\n\t\t}\n\t}\n\t\n\t\n\t//return a formatted value for a cell\n\tformatValue(cell){\n\t\tvar component = cell.getComponent(),\n\t\tparams = typeof cell.column.modules.format.params === \"function\" ? cell.column.modules.format.params(component) : cell.column.modules.format.params;\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\tif(!cell.modules.format){\n\t\t\t\tcell.modules.format = {};\n\t\t\t}\n\t\t\t\n\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\tcell.modules.format.rendered = false;\n\t\t}\n\t\t\n\t\treturn cell.column.modules.format.formatter.call(this, component, params, onRendered);\n\t}\n\t\n\tformatExportValue(cell, type){\n\t\tvar formatter = cell.column.modules.format[type],\n\t\tparams;\n\t\t\n\t\tif(formatter){\n\t\t\tparams = typeof formatter.params === \"function\" ? formatter.params(cell.getComponent()) : formatter.params;\n\t\t\t\n\t\t\tfunction onRendered(callback){\n\t\t\t\tif(!cell.modules.format){\n\t\t\t\t\tcell.modules.format = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\t\tcell.modules.format.rendered = false;\n\t\t\t}\n\t\t\t\n\t\t\treturn formatter.formatter.call(this, cell.getComponent(), params, onRendered);\n\t\t\t\n\t\t}else {\n\t\t\treturn this.formatValue(cell);\n\t\t}\n\t}\n\t\n\tsanitizeHTML(value){\n\t\tif(value){\n\t\t\tvar entityMap = {\n\t\t\t\t'&': '&amp;',\n\t\t\t\t'<': '&lt;',\n\t\t\t\t'>': '&gt;',\n\t\t\t\t'\"': '&quot;',\n\t\t\t\t\"'\": '&#39;',\n\t\t\t\t'/': '&#x2F;',\n\t\t\t\t'`': '&#x60;',\n\t\t\t\t'=': '&#x3D;'\n\t\t\t};\n\t\t\t\n\t\t\treturn String(value).replace(/[&<>\"'`=/]/g, function (s) {\n\t\t\t\treturn entityMap[s];\n\t\t\t});\n\t\t}else {\n\t\t\treturn value;\n\t\t}\n\t}\n\t\n\temptyToSpace(value){\n\t\treturn value === null || typeof value === \"undefined\" || value === \"\" ? \"&nbsp;\" : value;\n\t}\n\t\n}\n\nclass FrozenColumns extends Module{\n\n\tstatic moduleName = \"frozenColumns\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.initializationMode = \"left\";\n\t\tthis.active = false;\n\t\tthis.blocked = true;\n\t\t\n\t\tthis.registerColumnOption(\"frozen\");\n\t}\n\t\n\t//reset initial state\n\treset(){\n\t\tthis.initializationMode = \"left\";\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.active = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-layout\", this.layoutCell.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-width\", this.layout.bind(this));\n\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\tthis.subscribe(\"table-layout\", this.layout.bind(this));\n\t\tthis.subscribe(\"columns-loading\", this.reset.bind(this));\n\t\t\n\t\tthis.subscribe(\"column-add\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-deleted\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-hide\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-show\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"columns-loaded\", this.reinitializeColumns.bind(this));\n\t\t\n\t\tthis.subscribe(\"table-redraw\", this.layout.bind(this));\n\t\tthis.subscribe(\"layout-refreshing\", this.blockLayout.bind(this));\n\t\tthis.subscribe(\"layout-refreshed\", this.unblockLayout.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t}\n\t\n\tblockLayout(){\n\t\tthis.blocked = true;\n\t}\n\t\n\tunblockLayout(){\n\t\tthis.blocked = false;\n\t}\n\t\n\tlayoutCell(cell){\n\t\tthis.layoutElement(cell.element, cell.column);\n\t}\n\t\n\treinitializeColumns(){\n\t\tthis.reset();\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tthis.initializeColumn(column);\n\t\t});\n\n\t\tthis.layout();\n\t}\n\t\n\t//initialize specific column\n\tinitializeColumn(column){\n\t\tvar config = {margin:0, edge:false};\n\t\t\n\t\tif(!column.isGroup){\t\t\t\n\t\t\tif(this.frozenCheck(column)){\n\t\t\t\tconfig.position = this.initializationMode;\n\t\t\t\t\n\t\t\t\tif(this.initializationMode == \"left\"){\n\t\t\t\t\tthis.leftColumns.push(column);\n\t\t\t\t}else {\n\t\t\t\t\tthis.rightColumns.unshift(column);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.active = true;\n\t\t\t\t\n\t\t\t\tcolumn.modules.frozen = config;\n\t\t\t}else {\n\t\t\t\tthis.initializationMode = \"right\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfrozenCheck(column){\n\t\tif(column.parent.isGroup && column.definition.frozen){\n\t\t\tconsole.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\");\n\t\t}\n\t\t\n\t\tif(column.parent.isGroup){\n\t\t\treturn this.frozenCheck(column.parent);\n\t\t}else {\n\t\t\treturn column.definition.frozen;\n\t\t}\n\t}\n\t\n\t//layout calculation rows\n\tlayoutCalcRows(){\n\t\tif(this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized && this.table.modules.columnCalcs.topRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized && this.table.modules.columnCalcs.botRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modExists(\"groupRows\")){\n\t\t\t\tthis.layoutGroupCalcs(this.table.modules.groupRows.getGroups());\n\t\t\t}\n\t\t}\n\t}\n\t\n\tlayoutGroupCalcs(groups){\n\t\tgroups.forEach((group) => {\n\t\t\tif(group.calcs.top){\n\t\t\t\tthis.layoutRow(group.calcs.top);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.calcs.bottom){\n\t\t\t\tthis.layoutRow(group.calcs.bottom);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.groupList && group.groupList.length){\n\t\t\t\tthis.layoutGroupCalcs(group.groupList);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//calculate column positions and layout headers\n\tlayoutColumnPosition(allCells){\n\t\tvar leftParents = [];\n\t\t\n\t\tvar leftMargin = 0;\n\t\tvar rightMargin = 0;\n\t\t\n\t\tthis.leftColumns.forEach((column, i) => {\t\n\t\t\tcolumn.modules.frozen.marginValue = leftMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tleftMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.leftColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else {\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tvar parentEl = this.getColGroupParentElement(column);\n\t\t\t\tif(!leftParents.includes(parentEl)){\n\t\t\t\t\tthis.layoutElement(parentEl, column);\n\t\t\t\t\tleftParents.push(parentEl);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tparentEl.classList.toggle(\"tabulator-frozen-left\",  column.modules.frozen.edge && column.modules.frozen.position === \"left\");\n\t\t\t\tparentEl.classList.toggle(\"tabulator-frozen-right\", column.modules.frozen.edge && column.modules.frozen.position === \"right\");\n\t\t\t}else {\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column, i) => {\n\t\t\t\n\t\t\tcolumn.modules.frozen.marginValue = rightMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\trightMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.rightColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else {\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tthis.layoutElement(this.getColGroupParentElement(column), column);\n\t\t\t}else {\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tgetColGroupParentElement(column){\n\t\treturn column.parent.isGroup ? this.getColGroupParentElement(column.parent) : column.getElement();\n\t}\n\t\n\t//layout columns appropriately\n\tlayout(){\t\n\t\tif(this.active && !this.blocked){\n\t\t\t//calculate left columns\n\t\t\tthis.layoutColumnPosition();\n\t\t\t\n\t\t\tthis.reinitializeRows();\n\t\t\t\n\t\t\tthis.layoutCalcRows();\n\t\t}\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.table.rowManager.getVisibleRows(true);\n\t\tvar otherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\t\t\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t\t\n\t\tvisibleRows.forEach((row) =>{\n\t\t\tif(row.type === \"row\"){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutRow(row){\n\t\tif(this.table.options.layout === \"fitDataFill\" && this.rightColumns.length){\n\t\t\tthis.table.rowManager.getTableElement().style.minWidth = \"calc(100% - \" + this.rightMargin + \")\";\n\t\t}\n\t\t\n\t\tthis.leftColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutElement(element, column){\n\t\tvar position;\n\t\t\n\t\tif(column.modules.frozen && element){\n\t\t\telement.style.position = \"sticky\";\n\n\t\t\tif(this.table.rtl){\n\t\t\t\tposition = column.modules.frozen.position === \"left\" ? \"right\" : \"left\";\n\t\t\t}else {\n\t\t\t\tposition = column.modules.frozen.position;\n\t\t\t}\n\t\t\n\t\t\telement.style[position] = column.modules.frozen.margin;\n\n\t\t\telement.classList.add(\"tabulator-frozen\");\n\t\t\t\n\t\t\telement.classList.toggle(\"tabulator-frozen-left\",  column.modules.frozen.edge && column.modules.frozen.position === \"left\");\n\t\t\telement.classList.toggle(\"tabulator-frozen-right\", column.modules.frozen.edge && column.modules.frozen.position === \"right\");\n\t\t}\n\t}\n\n\tadjustForScrollbar(width){\n\t\tif(this.rightColumns.length){\n\t\t\tthis.table.columnManager.getContentsElement().style.width = \"calc(100% - \" + width + \"px)\";\n\t\t}\n\t}\n\n\tgetFrozenColumns(){\n\t\treturn this.leftColumns.concat(this.rightColumns);\n\t}\n\t\n\t_calcSpace(columns, index){\n\t\tvar width = 0;\n\t\t\n\t\tfor (let i = 0; i < index; i++){\n\t\t\tif(columns[i].visible){\n\t\t\t\twidth += columns[i].getWidth();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn width;\n\t}\n}\n\nclass FrozenRows extends Module{\n\n\tstatic moduleName = \"frozenRows\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.topElement = document.createElement(\"div\");\n\t\tthis.rows = [];\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"freeze\", this.freezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"unfreeze\", this.unfreezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isFrozen\", this.isRowFrozen.bind(this));\n\n\t\t//register table options\n\t\tthis.registerTableOption(\"frozenRowsField\", \"id\"); //field to choose frozen rows by\n\t\tthis.registerTableOption(\"frozenRows\", false); //holder for frozen row identifiers\n\t}\n\n\tinitialize(){\n\t\tvar\tfragment = document.createDocumentFragment();\n\t\t\n\t\tthis.rows = [];\n\n\t\tthis.topElement.classList.add(\"tabulator-frozen-rows-holder\");\n\t\t\n\t\tfragment.appendChild(document.createElement(\"br\"));\n\t\tfragment.appendChild(this.topElement);\n\n\t\t// this.table.columnManager.element.append(this.topElement);\n\t\tthis.table.columnManager.getContentsElement().insertBefore(fragment, this.table.columnManager.headersElement.nextSibling);\n\n\t\tthis.subscribe(\"row-deleting\", this.detachRow.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\n\t\tthis.registerDisplayHandler(this.getRows.bind(this), 10);\n\n\t\tif(this.table.options.frozenRows){\n\t\t\tthis.subscribe(\"data-processed\", this.initializeRows.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t}\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\tinitializeRows(){\n\t\tthis.table.rowManager.getRows().forEach((row) => {\n\t\t\tthis.initializeRow(row);\n\t\t});\n\t}\n\n\tinitializeRow(row){\n\t\tvar frozenRows = this.table.options.frozenRows,\n\t\trowType = typeof frozenRows;\n\n\t\tif(rowType === \"number\"){\n\t\t\tif(row.getPosition() && (row.getPosition() + this.rows.length) <= frozenRows){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(rowType === \"function\"){\n\t\t\tif(frozenRows.call(this.table, row.getComponent())){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(Array.isArray(frozenRows)){\n\t\t\tif(frozenRows.includes(row.data[this.options(\"frozenRowsField\")])){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowFrozen(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\treturn index > -1;\n\t}\n\n\tisFrozen(){\n\t\treturn !!this.rows.length;\n\t}\n\n\tvisibleRows(viewable, rows){\n\t\tthis.rows.forEach((row) => {\n\t\t\trows.push(row);\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\t//filter frozen rows out of display data\n\tgetRows(rows){\n\t\tvar output = rows.slice(0);\n\n\t\tthis.rows.forEach(function(row){\n\t\t\tvar index = output.indexOf(row);\n\n\t\t\tif(index > -1){\n\t\t\t\toutput.splice(index, 1);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tfreezeRow(row){\n\t\tif(!row.modules.frozen){\n\t\t\trow.modules.frozen = true;\n\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\trow.initialize();\n\t\t\trow.normalizeHeight();\n\t\t\n\t\t\tthis.rows.push(row);\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.styleRows();\n\n\t\t}else {\n\t\t\tconsole.warn(\"Freeze Error - Row is already frozen\");\n\t\t}\n\t}\n\n\tunfreezeRow(row){\n\t\tif(row.modules.frozen){\n\n\t\t\trow.modules.frozen = false;\n\n\t\t\tthis.detachRow(row);\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tif(this.rows.length){\n\t\t\t\tthis.styleRows();\n\t\t\t}\n\n\t\t}else {\n\t\t\tconsole.warn(\"Freeze Error - Row is already unfrozen\");\n\t\t}\n\t}\n\n\tdetachRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t}\n\n\tstyleRows(row){\n\t\tthis.rows.forEach((row, i) => {\n\t\t\tthis.table.rowManager.styleRow(row, i);\n\t\t});\n\t}\n}\n\n//public group object\nclass GroupComponent {\n\tconstructor (group){\n\t\tthis._group = group;\n\t\tthis.type = \"GroupComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else {\n\t\t\t\t\treturn target._group.groupManager.table.componentFunctionBinder.handle(\"group\", target._group, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKey(){\n\t\treturn this._group.key;\n\t}\n\n\tgetField(){\n\t\treturn this._group.field;\n\t}\n\n\tgetElement(){\n\t\treturn this._group.element;\n\t}\n\n\tgetRows(){\n\t\treturn this._group.getRows(true);\n\t}\n\n\tgetSubGroups(){\n\t\treturn this._group.getSubGroups(true);\n\t}\n\n\tgetParentGroup(){\n\t\treturn this._group.parent ? this._group.parent.getComponent() : false;\n\t}\n\n\tisVisible(){\n\t\treturn this._group.visible;\n\t}\n\n\tshow(){\n\t\tthis._group.show();\n\t}\n\n\thide(){\n\t\tthis._group.hide();\n\t}\n\n\ttoggle(){\n\t\tthis._group.toggleVisibility();\n\t}\n\n\tscrollTo(position, ifVisible){\n\t\treturn this._group.groupManager.table.rowManager.scrollToRow(this._group, position, ifVisible);\n\t}\n\n\t_getSelf(){\n\t\treturn this._group;\n\t}\n\n\tgetTable(){\n\t\treturn this._group.groupManager.table;\n\t}\n}\n\n//Group functions\nclass Group{\n\t\n\tconstructor(groupManager, parent, level, key, field, generator, oldGroup){\n\t\tthis.groupManager = groupManager;\n\t\tthis.parent = parent;\n\t\tthis.key = key;\n\t\tthis.level = level;\n\t\tthis.field = field;\n\t\tthis.hasSubGroups = level < (groupManager.groupIDLookups.length - 1);\n\t\tthis.addRow = this.hasSubGroups ? this._addRowToGroup : this._addRow;\n\t\tthis.type = \"group\"; //type of element\n\t\tthis.old = oldGroup;\n\t\tthis.rows = [];\n\t\tthis.groups = [];\n\t\tthis.groupList = [];\n\t\tthis.generator = generator;\n\t\tthis.element = false;\n\t\tthis.elementContents = false;\n\t\tthis.height = 0;\n\t\tthis.outerHeight = 0;\n\t\tthis.initialized = false;\n\t\tthis.calcs = {};\n\t\tthis.initialized = false;\n\t\tthis.modules = {};\n\t\tthis.arrowElement = false;\n\t\t\n\t\tthis.visible = oldGroup ? oldGroup.visible : (typeof groupManager.startOpen[level] !== \"undefined\" ? groupManager.startOpen[level] : groupManager.startOpen[0]);\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.createElements();\n\t\tthis.addBindings();\n\t\t\n\t\tthis.createValueGroups();\n\t}\n\t\n\twipe(elementsOnly){\n\t\tif(!elementsOnly){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\tgroup.wipe();\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tif(row.modules){\n\t\t\t\t\t\tdelete row.modules.group;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.arrowElement = false;\n\t\tthis.elementContents = false;\n\t}\n\t\n\tcreateElements(){\n\t\tvar arrow = document.createElement(\"div\");\n\t\tarrow.classList.add(\"tabulator-arrow\");\n\t\t\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-row\");\n\t\tthis.element.classList.add(\"tabulator-group\");\n\t\tthis.element.classList.add(\"tabulator-group-level-\" + this.level);\n\t\tthis.element.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tthis.arrowElement = document.createElement(\"div\");\n\t\tthis.arrowElement.classList.add(\"tabulator-group-toggle\");\n\t\tthis.arrowElement.appendChild(arrow);\n\t\t\n\t\t//setup movable rows\n\t\tif(this.groupManager.table.options.movableRows !== false && this.groupManager.table.modExists(\"moveRow\")){\n\t\t\tthis.groupManager.table.modules.moveRow.initializeGroupHeader(this);\n\t\t}\n\t}\n\t\n\tcreateValueGroups(){\n\t\tvar level = this.level + 1;\n\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\tthis.groupManager.allowedValues[level].forEach((value) => {\n\t\t\t\tthis._createGroup(value, level);\n\t\t\t});\n\t\t}\n\t}\n\t\n\taddBindings(){\n\t\tvar toggleElement;\n\t\t\n\t\tif(this.groupManager.table.options.groupToggleElement){\n\t\t\ttoggleElement = this.groupManager.table.options.groupToggleElement == \"arrow\" ? this.arrowElement : this.element;\n\t\t\t\n\t\t\ttoggleElement.addEventListener(\"click\", (e) => {\n\t\t\t\tif(this.groupManager.table.options.groupToggleElement === \"arrow\"){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t}\n\n\t\t\t\t//allow click event to propagate before toggling visibility\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.toggleVisibility();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\t\n\t_createGroup(groupID, level){\n\t\tvar groupKey = level + \"_\" + groupID;\n\t\tvar group = new Group(this.groupManager, this, level, groupID,  this.groupManager.groupIDLookups[level].field, this.groupManager.headerGenerator[level] || this.groupManager.headerGenerator[0], this.old ? this.old.groups[groupKey] : false);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\t_addRowToGroup(row){\n\t\t\n\t\tvar level = this.level + 1;\n\t\t\n\t\tif(this.hasSubGroups){\n\t\t\tvar groupID = this.groupManager.groupIDLookups[level].func(row.getData()),\n\t\t\tgroupKey = level + \"_\" + groupID;\n\t\t\t\n\t\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\t\tif(this.groups[groupKey]){\n\t\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(!this.groups[groupKey]){\n\t\t\t\t\tthis._createGroup(groupID, level);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_addRow(row){\n\t\tthis.rows.push(row);\n\t\trow.modules.group = this;\n\t}\n\t\n\tinsertRow(row, to, after){\n\t\tvar data = this.conformRowData({});\n\t\t\n\t\trow.updateData(data);\n\t\t\n\t\tvar toIndex = this.rows.indexOf(to);\n\t\t\n\t\tif(toIndex > -1){\n\t\t\tif(after){\n\t\t\t\tthis.rows.splice(toIndex+1, 0, row);\n\t\t\t}else {\n\t\t\t\tthis.rows.splice(toIndex, 0, row);\n\t\t\t}\n\t\t}else {\n\t\t\tif(after){\n\t\t\t\tthis.rows.push(row);\n\t\t\t}else {\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\trow.modules.group = this;\n\t\t\n\t\t// this.generateGroupHeaderContents();\n\t\t\n\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t}\n\t\t\n\t\tthis.groupManager.updateGroupRows(true);\n\t}\n\t\n\tscrollHeader(left){\n\t\tif(this.arrowElement){\n\t\t\tthis.arrowElement.style.marginLeft = left;\n\t\t\t\n\t\t\tthis.groupList.forEach(function(child){\n\t\t\t\tchild.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tgetRowIndex(row){}\n\t\n\t//update row data to match grouping constraints\n\tconformRowData(data){\n\t\tif(this.field){\n\t\t\tdata[this.field] = this.key;\n\t\t}else {\n\t\t\tconsole.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\");\n\t\t}\n\t\t\n\t\tif(this.parent){\n\t\t\tdata = this.parent.conformRowData(data);\n\t\t}\n\t\t\n\t\treturn data;\n\t}\n\t\n\tremoveRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\tvar el = row.getElement();\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t\t\n\t\tif(!this.groupManager.table.options.groupValues && !this.rows.length){\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t}else {\n\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t}\t\t\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else {\n\t\t\t\n\t\t\tif(el.parentNode){\n\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupManager.blockRedraw){\n\t\t\t\tthis.generateGroupHeaderContents();\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupList.length){\n\t\t\t\tif(this.parent){\n\t\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t\t}else {\n\t\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetHeadersAndRows(){\n\t\tvar output = [];\n\t\t\n\t\toutput.push(this);\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\t\n\t\tif(this.calcs.top){\n\t\t\tthis.calcs.top.detachElement();\n\t\t\tthis.calcs.top.deleteCells();\n\t\t}\n\t\t\n\t\tif(this.calcs.bottom){\n\t\t\tthis.calcs.bottom.detachElement();\n\t\t\tthis.calcs.bottom.deleteCells();\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\tif(this.visible){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput = output.concat(this.rows);\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" &&  this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\n\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(!this.groupList.length && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\")){\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetData(visible, transform){\n\t\tvar output = [];\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(!visible || (visible && this.visible)){\n\t\t\tthis.rows.forEach((row) => {\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRowCount(){\n\t\tvar count = 0;\n\t\t\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tcount += group.getRowCount();\n\t\t\t});\n\t\t}else {\n\t\t\tcount = this.rows.length;\n\t\t}\n\t\treturn count;\n\t}\n\n\t\n\ttoggleVisibility(){\n\t\tif(this.visible){\n\t\t\tthis.hide();\n\t\t}else {\n\t\t\tthis.show();\n\t\t}\n\t}\n\t\n\thide(){\n\t\tthis.visible = false;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\t\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\trow.detachElement();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else {\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), false);\n\t}\n\t\n\tshow(){\n\t\tthis.visible = true;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tvar prev = this.generateElement();\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\t\trow.initialize();\n\t\t\t\t\t\tprev = rowEl;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\trow.initialize();\n\t\t\t\t\tprev = rowEl;\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}else {\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), true);\n\t}\n\t\n\t_visSet(){\n\t\tvar data = [];\n\t\t\n\t\tif(typeof this.visible == \"function\"){\n\t\t\t\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\tdata.push(row.getData());\n\t\t\t});\n\t\t\t\n\t\t\tthis.visible = this.visible(this.key, this.getRowCount(), data, this.getComponent());\n\t\t}\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\t\n\t\t\t\tif(result){\n\t\t\t\t\tmatch = result;\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tif(this.rows.find(function(item){\n\t\t\t\treturn item === row;\n\t\t\t})){\n\t\t\t\tmatch = this;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetSubGroups(component){\n\t\tvar output = [];\n\t\t\n\t\tthis.groupList.forEach(function(child){\n\t\t\toutput.push(component ? child.getComponent() : child);\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRows(component, includeChildren){\n\t\tvar output = [];\n\t\t\n\t\tif(includeChildren && this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getRows(component, includeChildren));\n\t\t\t});\n\t\t}else {\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\toutput.push(component ? row.getComponent() : row);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgenerateGroupHeaderContents(){\n\t\tvar data = [];\n\t\t\n\t\tvar rows = this.getRows(false, true);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\tthis.elementContents = this.generator(this.key, this.getRowCount(), data, this.getComponent());\n\t\t\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\n\t\tif(typeof this.elementContents === \"string\"){\n\t\t\tthis.element.innerHTML = this.elementContents;\n\t\t}else {\n\t\t\tthis.element.appendChild(this.elementContents);\n\t\t}\n\t\t\n\t\tthis.element.insertBefore(this.arrowElement, this.element.firstChild);\n\t}\n\t\n\tgetPath(path = []) {\n\t\tpath.unshift(this.key);\n\t\tif(this.parent) {\n\t\t\tthis.parent.getPath(path);\n\t\t}\n\t\treturn path;\n\t}\n\t\n\t////////////// Standard Row Functions //////////////\n\t\n\tgetElement(){\n\t\treturn this.elementContents ? this.element : this.generateElement();\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.addBindings = false;\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(this.visible){\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t}else {\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tfor(var i = 0; i < this.element.childNodes.length; ++i){\n\t\t\tthis.element.childNodes[i].parentNode.removeChild(this.element.childNodes[i]);\n\t\t}\n\t\t\n\t\tthis.generateGroupHeaderContents();\n\t\t\n\t\t// this.addBindings();\n\t\t\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(){\n\t\tthis.setHeight(this.element.clientHeight);\n\t}\n\t\n\tinitialize(force){\n\t\tif(!this.initialized || force){\n\t\t\tthis.normalizeHeight();\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\treinitialize(){\n\t\tthis.initialized = false;\n\t\tthis.height = 0;\n\t\t\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.initialize(true);\n\t\t}\n\t}\n\t\n\tsetHeight(height){\n\t\tif(this.height != height){\n\t\t\tthis.height = height;\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\tgetGroup(){\n\t\treturn this;\n\t}\n\t\n\treinitializeHeight(){}\n\t\n\tcalcHeight(){}\n\t\n\tsetCellHeight(){}\n\t\n\tclearCellHeight(){}\n\t\n\tdeinitializeHeight(){}\n\n\trendered(){}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new GroupComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n\nclass GroupRows extends Module{\n\n\tstatic moduleName = \"groupRows\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.groupIDLookups = false; //enable table grouping and set field to group by\n\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\tthis.groupList = []; //ordered list of groups\n\t\tthis.allowedValues = false;\n\t\tthis.groups = {}; //hold row groups\n\t\t\n\t\tthis.displayHandler = this.getRows.bind(this);\n\n\t\tthis.blockRedraw = false;\n\t\t\n\t\t//register table options\n\t\tthis.registerTableOption(\"groupBy\", false); //enable table grouping and set field to group by\n\t\tthis.registerTableOption(\"groupStartOpen\", true); //starting state of group\n\t\tthis.registerTableOption(\"groupValues\", false);\n\t\tthis.registerTableOption(\"groupUpdateOnCellEdit\", false);\n\t\tthis.registerTableOption(\"groupHeader\", false); //header generation function\n\t\tthis.registerTableOption(\"groupHeaderPrint\", null);\n\t\tthis.registerTableOption(\"groupHeaderClipboard\", null);\n\t\tthis.registerTableOption(\"groupHeaderHtmlOutput\", null);\n\t\tthis.registerTableOption(\"groupHeaderDownload\", null);\n\t\tthis.registerTableOption(\"groupToggleElement\", \"arrow\");\n\t\tthis.registerTableOption(\"groupClosedShowCalcs\", false);\n\t\t\n\t\t//register table functions\n\t\tthis.registerTableFunction(\"setGroupBy\", this.setGroupBy.bind(this));\n\t\tthis.registerTableFunction(\"setGroupValues\", this.setGroupValues.bind(this));\n\t\tthis.registerTableFunction(\"setGroupStartOpen\", this.setGroupStartOpen.bind(this));\n\t\tthis.registerTableFunction(\"setGroupHeader\", this.setGroupHeader.bind(this));\n\t\tthis.registerTableFunction(\"getGroups\", this.userGetGroups.bind(this));\n\t\tthis.registerTableFunction(\"getGroupedData\", this.userGetGroupedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"getGroup\", this.rowGetGroup.bind(this));\n\t}\n\t\n\t//initialize group configuration\n\tinitialize(){\n\t\tthis.subscribe(\"table-destroy\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wipe\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wiped\", this._restore_redrawing.bind(this));\n\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.groupUpdateOnCellEdit){\n\t\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.reassignRowToGroup.bind(this), 0);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-built\", this.configureGroupSetup.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleting.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHeaders.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.wipe.bind(this));\n\t\t\tthis.subscribe(\"rows-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-moving\", this.rowMoving.bind(this));\n\t\t\tthis.subscribe(\"row-adding-index\", this.rowAddingIndex.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"rows-sample\", this.rowSample.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"render-virtual-fill\", this.virtualRenderFill.bind(this));\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.displayHandler, 20);\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t_blockRedrawing(){\n\t\tthis.blockRedraw = true;\n\t}\n\n\t_restore_redrawing(){\n\t\tthis.blockRedraw = false;\n\t}\n\n\tconfigureGroupSetup(){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar groupBy = this.table.options.groupBy,\n\t\t\tstartOpen = this.table.options.groupStartOpen,\n\t\t\tgroupHeader = this.table.options.groupHeader;\n\t\t\t\n\t\t\tthis.allowedValues = this.table.options.groupValues;\n\t\t\t\n\t\t\tif(Array.isArray(groupBy) && Array.isArray(groupHeader) && groupBy.length > groupHeader.length){\n\t\t\t\tconsole.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\t\t\n\t\t\tthis.langBind(\"groups|item\", (langValue, lang) => {\n\t\t\t\tthis.headerGenerator[0] = (value, count, data) => { //header layout function\n\t\t\t\t\treturn (typeof value === \"undefined\" ? \"\" : value) + \"<span>(\" + count + \" \" + ((count === 1) ? langValue : lang.groups.items) + \")</span>\";\n\t\t\t\t};\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupIDLookups = [];\n\t\t\t\n\t\t\tif(groupBy){\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"table\" && this.table.options.columnCalcs != \"both\"){\n\t\t\t\t\tthis.table.modules.columnCalcs.removeCalcs();\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\t\n\t\t\t\t\tvar cols = this.table.columnManager.getRealColumns();\n\t\t\t\t\t\n\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\tif(col.definition.topCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeTopRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(col.definition.bottomCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeBottomRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(!Array.isArray(groupBy)){\n\t\t\t\tgroupBy = [groupBy];\n\t\t\t}\n\t\t\t\n\t\t\tgroupBy.forEach((group, i) => {\n\t\t\t\tvar lookupFunc, column;\n\t\t\t\t\n\t\t\t\tif(typeof group == \"function\"){\n\t\t\t\t\tlookupFunc = group;\n\t\t\t\t}else {\n\t\t\t\t\tcolumn = this.table.columnManager.getColumnByField(group);\n\t\t\t\t\t\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn column.getFieldValue(data);\n\t\t\t\t\t\t};\n\t\t\t\t\t}else {\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn data[group];\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groupIDLookups.push({\n\t\t\t\t\tfield: typeof group === \"function\" ? false : group,\n\t\t\t\t\tfunc:lookupFunc,\n\t\t\t\t\tvalues:this.allowedValues ? this.allowedValues[i] : false,\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tif(startOpen){\n\t\t\t\tif(!Array.isArray(startOpen)){\n\t\t\t\t\tstartOpen = [startOpen];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tstartOpen.forEach((level) => {\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.startOpen = startOpen;\n\t\t\t}\n\t\t\t\n\t\t\tif(groupHeader){\n\t\t\t\tthis.headerGenerator = Array.isArray(groupHeader) ? groupHeader : [groupHeader];\n\t\t\t}\n\t\t}else {\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\trowSample(rows, prevValue){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar group = this.getGroups(false)[0];\n\t\t\t\n\t\t\tprevValue.push(group.getRows(false)[0]);\n\t\t}\n\t\t\n\t\treturn prevValue;\n\t}\n\t\n\tvirtualRenderFill(){\n\t\tvar el = this.table.rowManager.tableElement;\n\t\tvar rows = this.table.rowManager.getVisibleRows();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\trows = rows.filter((row) => {\n\t\t\t\treturn row.type !== \"group\";\n\t\t\t});\n\t\t\t\n\t\t\tel.style.minWidth = !rows.length ? this.table.columnManager.getWidth() + \"px\" : \"\";\n\t\t}else {\n\t\t\treturn rows;\n\t\t}\n\t}\n\t\n\trowAddingIndex(row, index, top){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.assignRowToGroup(row);\n\t\t\t\n\t\t\tvar groupRows = row.modules.group.rows;\n\t\t\t\n\t\t\tif(groupRows.length > 1){\n\t\t\t\tif(!index || (index && groupRows.indexOf(index) == -1)){\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tif(groupRows[0] !== row){\n\t\t\t\t\t\t\tindex = groupRows[0];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(groupRows[groupRows.length -1] !== row){\n\t\t\t\t\t\t\tindex = groupRows[groupRows.length -1];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn index;\n\t\t}\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"group-changed\");\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tsetGroupBy(groups){\n\t\tthis.table.options.groupBy = groups;\n\t\t\n\t\tif(!this.initialized){\n\t\t\tthis.initialize();\n\t\t}\n\t\t\n\t\tthis.configureGroupSetup();\n\n\t\tif(!groups && this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs === true){\n\t\t\tthis.table.modules.columnCalcs.reinitializeCalcs();\n\t\t}\n\t\t\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupValues(groupValues){\n\t\tthis.table.options.groupValues = groupValues;\n\t\tthis.configureGroupSetup();\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupStartOpen(values){\n\t\tthis.table.options.groupStartOpen = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else {\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tsetGroupHeader(values){\n\t\tthis.table.options.groupHeader = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else {\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tuserGetGroups(values){\n\t\treturn this.getGroups(true);\n\t}\n\t\n\t// get grouped table data in the same format as getData()\n\tuserGetGroupedData(){\n\t\treturn this.table.options.groupBy ? this.getGroupedData() : this.getData();\n\t}\n\t\n\t\n\t///////////////////////////////////////\n\t///////// Component Functions /////////\n\t///////////////////////////////////////\n\t\n\trowGetGroup(row){\n\t\treturn row.modules.group ? row.modules.group.getComponent() : false;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\trowMoving(from, to, after){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(!after && to instanceof Group){\n\t\t\t\tto = this.table.rowManager.prevDisplayRow(from) || to;\n\t\t\t}\n\t\t\t\n\t\t\tvar toGroup = to instanceof Group ? to : to.modules.group;\n\t\t\tvar fromGroup = from instanceof Group ? from : from.modules.group;\n\t\t\t\n\t\t\tif(toGroup === fromGroup){\n\t\t\t\tthis.table.rowManager.moveRowInArray(toGroup.rows, from, to, after);\n\t\t\t}else {\n\t\t\t\tif(fromGroup){\n\t\t\t\t\tfromGroup.removeRow(from);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttoGroup.insertRow(from, to, after);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\trowDeleting(row){\n\t\t//remove from group\n\t\tif(this.table.options.groupBy && row.modules.group){\n\t\t\trow.modules.group.removeRow(row);\n\t\t}\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.updateGroupRows(true);\n\t\t}\t\n\t}\n\t\n\tcellUpdated(cell){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.reassignRowToGroup(cell.row);\n\t\t}\n\t}\n\t\n\t//return appropriate rows with group headers\n\tgetRows(rows){\n\t\tif(this.table.options.groupBy && this.groupIDLookups.length){\n\t\t\t\n\t\t\tthis.dispatchExternal(\"dataGrouping\");\n\t\t\t\n\t\t\tthis.generateGroups(rows);\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataGrouped\")){\n\t\t\t\tthis.dispatchExternal(\"dataGrouped\", this.getGroups(true));\n\t\t\t}\n\t\t\t\n\t\t\treturn this.updateGroupRows();\n\t\t\t\n\t\t}else {\n\t\t\treturn rows.slice(0);\n\t\t}\n\t}\n\t\n\tgetGroups(component){\n\t\tvar groupComponents = [];\n\t\t\n\t\tthis.groupList.forEach(function(group){\n\t\t\tgroupComponents.push(component ? group.getComponent() : group);\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\tgetChildGroups(group){\n\t\tvar groupComponents = [];\n\t\t\n\t\tif(!group){\n\t\t\tgroup = this;\n\t\t}\n\t\t\n\t\tgroup.groupList.forEach((child) => {\n\t\t\tif(child.groupList.length){\n\t\t\t\tgroupComponents = groupComponents.concat(this.getChildGroups(child));\n\t\t\t}else {\n\t\t\t\tgroupComponents.push(child);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\twipe(){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tgroup.wipe();\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\tpullGroupListData(groupList) {\n\t\tvar groupListData = [];\n\t\t\n\t\tgroupList.forEach((group) => {\n\t\t\tvar groupHeader = {};\n\t\t\tgroupHeader.level = 0;\n\t\t\tgroupHeader.rowCount = 0;\n\t\t\tgroupHeader.headerContent = \"\";\n\t\t\tvar childData = [];\n\t\t\t\n\t\t\tif (group.hasSubGroups) {\n\t\t\t\tchildData = this.pullGroupListData(group.groupList);\n\t\t\t\t\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.rowCount = childData.length - group.groupList.length; // data length minus number of sub-headers\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, groupHeader.rowCount, group.rows, group);\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\tgroupListData = groupListData.concat(childData);\n\t\t\t}\n\t\t\t\n\t\t\telse {\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, group.rows.length, group.rows, group);\n\t\t\t\tgroupHeader.rowCount = group.getRows().length;\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\t\n\t\t\t\tgroup.getRows().forEach((row) => {\n\t\t\t\t\tgroupListData.push(row.getData(\"data\"));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupListData;\n\t}\n\t\n\tgetGroupedData(){\n\t\t\n\t\treturn this.pullGroupListData(this.groupList);\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\t\n\t\tif(this.options(\"dataTree\")){\n\t\t\trow = this.table.modules.dataTree.getTreeParentRoot(row);\n\t\t}\n\t\t\n\t\tthis.groupList.forEach((group) => {\n\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\n\t\t\tif(result){\n\t\t\t\tmatch = result;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tcountGroups(){\n\t\treturn this.groupList.length;\n\t}\n\t\n\tgenerateGroups(rows){\n\t\tvar oldGroups = this.groups;\n\t\t\n\t\tthis.groups = {};\n\t\tthis.groupList = [];\n\t\t\n\t\tif(this.allowedValues && this.allowedValues[0]){\n\t\t\tthis.allowedValues[0].forEach((value) => {\n\t\t\t\tthis.createGroup(value, 0, oldGroups);\n\t\t\t});\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToExistingGroup(row, oldGroups);\n\t\t\t});\n\t\t}else {\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToGroup(row, oldGroups);\n\t\t\t});\n\t\t}\n\t\t\n\t\tObject.values(oldGroups).forEach((group) => {\n\t\t\tgroup.wipe(true);\n\t\t});\t\n\t}\n\t\n\t\n\tcreateGroup(groupID, level, oldGroups){\n\t\tvar groupKey = level + \"_\" + groupID,\n\t\tgroup;\n\t\t\n\t\toldGroups = oldGroups || [];\n\t\t\n\t\tgroup = new Group(this, false, level, groupID, this.groupIDLookups[0].field, this.headerGenerator[0], oldGroups[groupKey]);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\tassignRowToExistingGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tgroupKey = \"0_\" + groupID;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tthis.groups[groupKey].addRow(row);\n\t\t}\n\t}\n\t\n\tassignRowToGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tnewGroupNeeded = !this.groups[\"0_\" + groupID];\n\t\t\n\t\tif(newGroupNeeded){\n\t\t\tthis.createGroup(groupID, 0, oldGroups);\n\t\t}\n\t\t\n\t\tthis.groups[\"0_\" + groupID].addRow(row);\n\t\t\n\t\treturn !newGroupNeeded;\n\t}\n\t\n\treassignRowToGroup(row){\n\t\tif(row.type === \"row\"){\n\t\t\tvar oldRowGroup = row.modules.group,\n\t\t\toldGroupPath = oldRowGroup.getPath(),\n\t\t\tnewGroupPath = this.getExpectedPath(row),\n\t\t\tsamePath;\n\t\t\t\n\t\t\t// figure out if new group path is the same as old group path\n\t\t\tsamePath = (oldGroupPath.length == newGroupPath.length) && oldGroupPath.every((element, index) => {\n\t\t\t\treturn element === newGroupPath[index];\n\t\t\t});\n\t\t\t\n\t\t\t// refresh if they new path and old path aren't the same (aka the row's groupings have changed)\n\t\t\tif(!samePath) {\n\t\t\t\toldRowGroup.removeRow(row);\n\t\t\t\tthis.assignRowToGroup(row, this.groups);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetExpectedPath(row) {\n\t\tvar groupPath = [], rowData = row.getData();\n\t\t\n\t\tthis.groupIDLookups.forEach((groupId) => {\n\t\t\tgroupPath.push(groupId.func(rowData));\n\t\t});\n\t\t\n\t\treturn groupPath;\n\t}\n\t\n\tupdateGroupRows(force){\n\t\tvar output = [];\n\n\t\tif(!this.blockRedraw){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t});\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tscrollHeaders(left){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleft -= this.table.columnManager.renderer.vDomPadLeft;\n\t\t\t}\n\t\t\t\n\t\t\tleft = left + \"px\";\n\t\t\t\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tgroup.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcheckBasicModeGroupHeaderWidth(){\n\t\tvar element = this.table.rowManager.tableElement,\n\t\tonlyGroupHeaders = true;\n\t\t\n\t\tthis.table.rowManager.getDisplayRows().forEach((row, index) =>{\n\t\t\tthis.table.rowManager.styleRow(row, index);\n\t\t\telement.appendChild(row.getElement());\n\t\t\trow.initialize(true);\n\t\t\t\n\t\t\tif(row.type !== \"group\"){\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else {\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n}\n\nvar defaultUndoers = {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.oldValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\taction.component.deleteActual();\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowDelete: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowMove: function(action){\n\t\tvar after = (action.data.posFrom  - action.data.posTo) > 0;\n\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.getRowFromPosition(action.data.posFrom), after);\n\n\t\tthis.table.rowManager.regenerateRowPositions();\n\t\tthis.table.rowManager.reRenderInPosition();\n\t},\n};\n\nvar defaultRedoers = {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.newValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowDelete:function(action){\n\t\taction.component.deleteActual();\n\n\t\tthis.table.rowManager.checkPlaceholder();\n\t},\n\n\trowMove: function(action){\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.getRowFromPosition(action.data.posTo), action.data.after);\n\t\t\n\t\tthis.table.rowManager.regenerateRowPositions();\n\t\tthis.table.rowManager.reRenderInPosition();\n\t},\n};\n\nvar bindings$1 = {\r\n\tundo:[\"ctrl + 90\", \"meta + 90\"],\r\n\tredo:[\"ctrl + 89\", \"meta + 89\"],\r\n};\n\nvar actions$1 = {\r\n\tundo:function(e){\r\n\t\tvar cell = false;\r\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\r\n\r\n\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\tif(!cell){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.table.modules.history.undo();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tredo:function(e){\r\n\t\tvar cell = false;\r\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\r\n\r\n\t\t\tcell = this.table.modules.edit.currentCell;\r\n\r\n\t\t\tif(!cell){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.table.modules.history.redo();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n};\n\nvar extensions$3 = {\r\n\tkeybindings:{\r\n\t\tbindings:bindings$1,\r\n\t\tactions:actions$1\r\n\t},\r\n};\n\nclass History extends Module{\n\n\tstatic moduleName = \"history\";\n\tstatic moduleExtensions = extensions$3;\n\n\t//load defaults\n\tstatic undoers = defaultUndoers;\n\tstatic redoers = defaultRedoers;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\n\t\tthis.registerTableOption(\"history\", false); //enable edit history\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.history){\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.clearComponentHistory.bind(this));\n\t\t\tthis.subscribe(\"row-delete\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clear.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowAdded.bind(this));\n\t\t\tthis.subscribe(\"row-move\", this.rowMoved.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"undo\", this.undo.bind(this));\n\t\tthis.registerTableFunction(\"redo\", this.redo.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryUndoSize\", this.getHistoryUndoSize.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryRedoSize\", this.getHistoryRedoSize.bind(this));\n\t\tthis.registerTableFunction(\"clearHistory\", this.clear.bind(this));\n\t}\n\n\trowMoved(from, to, after){\n\t\tthis.action(\"rowMove\", from, {posFrom:from.getPosition(), posTo:to.getPosition(), to:to, after:after});\n\t}\n\n\trowAdded(row, data, pos, index){\n\t\tthis.action(\"rowAdd\", row, {data:data, pos:pos, index:index});\n\t}\n\n\trowDeleted(row){\n\t\tvar index, rows;\n\n\t\tif(this.table.options.groupBy){\n\n\t\t\trows = row.getComponent().getGroup()._getSelf().rows;\n\t\t\tindex = rows.indexOf(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = rows[index-1];\n\t\t\t}\n\t\t}else {\n\t\t\tindex = row.table.rowManager.getRowIndex(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = row.table.rowManager.rows[index-1];\n\t\t\t}\n\t\t}\n\n\t\tthis.action(\"rowDelete\", row, {data:row.getData(), pos:!index, index:index});\n\t}\n\n\tcellUpdated(cell){\n\t\tthis.action(\"cellEdit\", cell, {oldValue:cell.oldValue, newValue:cell.value});\n\t}\n\n\tclear(){\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\t}\n\n\taction(type, component, data){\n\t\tthis.history = this.history.slice(0, this.index + 1);\n\n\t\tthis.history.push({\n\t\t\ttype:type,\n\t\t\tcomponent:component,\n\t\t\tdata:data,\n\t\t});\n\n\t\tthis.index ++;\n\t}\n\n\tgetHistoryUndoSize(){\n\t\treturn this.index + 1;\n\t}\n\n\tgetHistoryRedoSize(){\n\t\treturn this.history.length - (this.index + 1);\n\t}\n\n\tclearComponentHistory(component){\n\t\tvar index = this.history.findIndex(function(item){\n\t\t\treturn item.component === component;\n\t\t});\n\n\t\tif(index > -1){\n\t\t\tthis.history.splice(index, 1);\n\t\t\tif(index <= this.index){\n\t\t\t\tthis.index--;\n\t\t\t}\n\n\t\t\tthis.clearComponentHistory(component);\n\t\t}\n\t}\n\n\tundo(){\n\t\tif(this.index > -1){\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.undoers[action.type].call(this, action);\n\n\t\t\tthis.index--;\n\n\t\t\tthis.dispatchExternal(\"historyUndo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else {\n\t\t\tconsole.warn(this.options(\"history\") ? \"History Undo Error - No more history to undo\" : \"History module not enabled\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tredo(){\n\t\tif(this.history.length-1 > this.index){\n\n\t\t\tthis.index++;\n\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.redoers[action.type].call(this, action);\n\n\t\t\tthis.dispatchExternal(\"historyRedo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else {\n\t\t\tconsole.warn(this.options(\"history\") ? \"History Redo Error - No more history to redo\" : \"History module not enabled\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//rebind rows to new element after deletion\n\t_rebindRow(oldRow, newRow){\n\t\tthis.history.forEach(function(action){\n\t\t\tif(action.component instanceof Row){\n\t\t\t\tif(action.component === oldRow){\n\t\t\t\t\taction.component = newRow;\n\t\t\t\t}\n\t\t\t}else if(action.component instanceof Cell){\n\t\t\t\tif(action.component.row === oldRow){\n\t\t\t\t\tvar field = action.component.column.getField();\n\n\t\t\t\t\tif(field){\n\t\t\t\t\t\taction.component = newRow.getCell(field);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass HtmlTableImport extends Module{\n\n\tstatic moduleName = \"htmlTableImport\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.fieldIndex = [];\n\t\tthis.hasIndex = false;\n\t}\n\n\tinitialize(){\n\t\tthis.tableElementCheck();\n\t}\n\n\ttableElementCheck(){\n\t\tif(this.table.originalElement && this.table.originalElement.tagName === \"TABLE\"){\n\t\t\tif(this.table.originalElement.childNodes.length){\n\t\t\t\tthis.parseTable();\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element.\");\n\t\t\t}\n\t\t}\n\t}\n\n\tparseTable(){\n\t\tvar element = this.table.originalElement,\n\t\toptions = this.table.options,\n\t\theaders = element.getElementsByTagName(\"th\"),\n\t\trows = element.getElementsByTagName(\"tbody\")[0],\n\t\tdata = [];\n\n\t\tthis.hasIndex = false;\n\n\t\tthis.dispatchExternal(\"htmlImporting\");\n\n\t\trows = rows ? rows.getElementsByTagName(\"tr\") : [];\n\n\t\t//check for Tabulator inline options\n\t\tthis._extractOptions(element, options);\n\n\t\tif(headers.length){\n\t\t\tthis._extractHeaders(headers, rows);\n\t\t}else {\n\t\t\tthis._generateBlankHeaders(headers, rows);\n\t\t}\n\n\t\t//iterate through table rows and build data set\n\t\tfor(var index = 0; index < rows.length; index++){\n\t\t\tvar row = rows[index],\n\t\t\tcells = row.getElementsByTagName(\"td\"),\n\t\t\titem = {};\n\n\t\t\t//create index if the don't exist in table\n\t\t\tif(!this.hasIndex){\n\t\t\t\titem[options.index] = index;\n\t\t\t}\n\n\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\tvar cell = cells[i];\n\t\t\t\tif(typeof this.fieldIndex[i] !== \"undefined\"){\n\t\t\t\t\titem[this.fieldIndex[i]] = cell.innerHTML;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//add row data to item\n\t\t\tdata.push(item);\n\t\t}\n\n\t\toptions.data = data;\n\n\t\tthis.dispatchExternal(\"htmlImported\");\n\t}\n\n\t//extract tabulator attribute options\n\t_extractOptions(element, options, defaultOptions){\n\t\tvar attributes = element.attributes;\n\t\tvar optionsArr = defaultOptions ? Object.keys(defaultOptions) : Object.keys(options);\n\t\tvar optionsList = {};\n\n\t\toptionsArr.forEach((item) => {\n\t\t\toptionsList[item.toLowerCase()] = item;\n\t\t});\n\n\t\tfor(var index in attributes){\n\t\t\tvar attrib = attributes[index];\n\t\t\tvar name;\n\n\t\t\tif(attrib && typeof attrib == \"object\" && attrib.name && attrib.name.indexOf(\"tabulator-\") === 0){\n\t\t\t\tname = attrib.name.replace(\"tabulator-\", \"\");\n\n\t\t\t\tif(typeof optionsList[name] !== \"undefined\"){\n\t\t\t\t\toptions[optionsList[name]] = this._attribValue(attrib.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//get value of attribute\n\t_attribValue(value){\n\t\tif(value === \"true\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(value === \"false\"){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t//find column if it has already been defined\n\t_findCol(title){\n\t\tvar match = this.table.options.columns.find((column) => {\n\t\t\treturn column.title === title;\n\t\t});\n\n\t\treturn match || false;\n\t}\n\n\t//extract column from headers\n\t_extractHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\texists = false,\n\t\t\tcol = this._findCol(header.textContent),\n\t\t\twidth;\n\n\t\t\tif(col){\n\t\t\t\texists = true;\n\t\t\t}else {\n\t\t\t\tcol = {title:header.textContent.trim()};\n\t\t\t}\n\n\t\t\tif(!col.field) {\n\t\t\t\tcol.field = header.textContent.trim().toLowerCase().replaceAll(\" \", \"_\");\n\t\t\t}\n\n\t\t\twidth = header.getAttribute(\"width\");\n\n\t\t\tif(width && !col.width)\t{\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\t//check for Tabulator inline options\n\t\t\tthis._extractOptions(header, col, this.table.columnManager.optionsList.registeredDefaults);\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tif(col.field == this.table.options.index){\n\t\t\t\tthis.hasIndex = true;\n\t\t\t}\n\n\t\t\tif(!exists){\n\t\t\t\tthis.table.options.columns.push(col);\n\t\t\t}\n\n\t\t}\n\t}\n\n\t//generate blank headers\n\t_generateBlankHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\tcol = {title:\"\", field:\"col\" + index};\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tvar width = header.getAttribute(\"width\");\n\n\t\t\tif(width){\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\tthis.table.options.columns.push(col);\n\t\t}\n\t}\n}\n\nfunction csv(input){\n\tvar data = [],\n\trow = 0, \n\tcol = 0,\n\tinQuote = false;\n    \n\t//Iterate over each character\n\tfor (let index = 0; index < input.length; index++) {\n\t\tlet char = input[index], \n\t\tnextChar = input[index+1];      \n        \n\t\t//Initialize empty row\n\t\tif(!data[row]){\n\t\t\tdata[row] = [];\n\t\t}\n\n\t\t//Initialize empty column\n\t\tif(!data[row][col]){\n\t\t\tdata[row][col] = \"\";\n\t\t}\n        \n\t\t//Handle quotation mark inside string\n\t\tif (char == '\"' && inQuote && nextChar == '\"') { \n\t\t\tdata[row][col] += char; \n\t\t\tindex++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//Begin / End Quote\n\t\tif (char == '\"') { \n\t\t\tinQuote = !inQuote;\n\t\t\tcontinue;\n\t\t}\n        \n\t\t//Next column (if not in quote)\n\t\tif (char == ',' && !inQuote) { \n\t\t\tcol++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CRLF) \n\t\tif (char == '\\r' && nextChar == '\\n' && !inQuote) { \n\t\t\tcol = 0; \n\t\t\trow++; \n\t\t\tindex++; \n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CR or LF) \n\t\tif ((char == '\\r' || char == '\\n') && !inQuote) { \n\t\t\tcol = 0;\n\t\t\trow++;\n\t\t\tcontinue; \n\t\t}\n\n\t\t//Normal Character, append to column\n\t\tdata[row][col] += char;\n\t}\n\n\treturn data;\n}\n\nfunction json(input){\n\ttry {\n\t\treturn JSON.parse(input);\n\t} catch(e) {\n\t\tconsole.warn(\"JSON Import Error - File contents is invalid JSON\", e);\n\t\treturn Promise.reject();\n\t}\n}\n\nfunction array$1 (input){\n\treturn input;\n}\n\nfunction xlsx(input){\r\n\tvar XLSXLib = this.dependencyRegistry.lookup(\"XLSX\"),\r\n\tworkbook2 = XLSXLib.read(input),\r\n\tsheet = workbook2.Sheets[workbook2.SheetNames[0]];\r\n\t\r\n\treturn XLSXLib.utils.sheet_to_json(sheet, {header: 1 });\r\n}\n\nvar defaultImporters = {\n\tcsv:csv,\n\tjson:json,\n\tarray:array$1,\n\txlsx:xlsx,\n};\n\nclass Import extends Module{\n\t\n\tstatic moduleName = \"import\";\n\t\n\t//load defaults\n\tstatic importers = defaultImporters;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.registerTableOption(\"importFormat\");\n\t\tthis.registerTableOption(\"importReader\", \"text\");\n\t\tthis.registerTableOption(\"importHeaderTransform\");\n\t\tthis.registerTableOption(\"importValueTransform\");\n\t\tthis.registerTableOption(\"importDataValidator\");\n\t\tthis.registerTableOption(\"importFileValidator\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.registerTableFunction(\"import\", this.importFromFile.bind(this));\n\t\t\n\t\tif(this.table.options.importFormat){\n\t\t\tthis.subscribe(\"data-loading\", this.loadDataCheck.bind(this), 10);\n\t\t\tthis.subscribe(\"data-load\", this.loadData.bind(this), 10);\n\t\t}\n\t}\n\t\n\tloadDataCheck(data){\n\t\treturn this.table.options.importFormat && (typeof data === \"string\" || (Array.isArray(data) && data.length && Array.isArray(data)));\n\t}\n\t\n\tloadData(data, params, config, silent, previousData){\n\t\treturn this.importData(this.lookupImporter(), data)\n\t\t\t.then(this.structureData.bind(this))\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import data\");\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t}\n\t\n\tlookupImporter(importFormat){\n\t\tvar importer;\n\t\t\n\t\tif(!importFormat){\n\t\t\timportFormat = this.table.options.importFormat;\n\t\t}\n\t\t\n\t\tif(typeof importFormat === \"string\"){\n\t\t\timporter = Import.importers[importFormat];\n\t\t}else {\n\t\t\timporter = importFormat;\n\t\t}\n\t\t\n\t\tif(!importer){\n\t\t\tconsole.error(\"Import Error - Importer not found:\", importFormat);\n\t\t}\n\t\t\n\t\treturn importer;\n\t}\n\t\n\timportFromFile(importFormat, extension, importReader){\n\t\tvar importer = this.lookupImporter(importFormat);\n\t\t\n\t\tif(importer){\n\t\t\treturn this.pickFile(extension, importReader)\n\t\t\t\t.then(this.importData.bind(this, importer))\n\t\t\t\t.then(this.structureData.bind(this))\n\t\t\t\t.then(this.mutateData.bind(this))\n\t\t\t\t.then(this.validateData.bind(this))\n\t\t\t\t.then(this.setData.bind(this))\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tthis.dispatch(\"import-error\", err);\n\t\t\t\t\tthis.dispatchExternal(\"importError\", err);\n\t\t\t\t\t\n\t\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import file\");\n\t\t\t\t\t\n\t\t\t\t\tthis.table.dataLoader.alertError();\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.table.dataLoader.clearAlert();\n\t\t\t\t\t}, 3000);\n\t\t\t\t\t\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\tpickFile(extensions, importReader){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.type = \"file\";\n\t\t\tinput.accept = extensions;\n\t\t\t\n\t\t\tinput.addEventListener(\"change\", (e) => {\n\t\t\t\tvar file = input.files[0],\n\t\t\t\treader = new FileReader(),\n\t\t\t\tvalid = this.validateFile(file);\n\n\t\t\t\tif(valid === true){\n\t\t\t\t\n\t\t\t\t\tthis.dispatch(\"import-importing\", input.files);\n\t\t\t\t\tthis.dispatchExternal(\"importImporting\", input.files);\n\t\t\t\t\n\t\t\t\t\tswitch(importReader || this.table.options.importReader){\n\t\t\t\t\t\tcase \"buffer\":\n\t\t\t\t\t\t\treader.readAsArrayBuffer(file);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"binary\":\n\t\t\t\t\t\t\treader.readAsBinaryString(file);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"url\":\n\t\t\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"text\":\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treader.readAsText(file);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treader.onload = (e) => {\n\t\t\t\t\t\tresolve(reader.result);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\treader.onerror = (e) => {\n\t\t\t\t\t\tconsole.warn(\"File Load Error - Unable to read file\");\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t};\n\t\t\t\t}else {\n\t\t\t\t\treject(valid);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatch(\"import-choose\");\n\t\t\tthis.dispatchExternal(\"importChoose\");\n\t\t\tinput.click();\n\t\t});\n\t}\n\t\n\timportData(importer, fileContents){\n\t\tvar data;\n\t\t\n\t\tthis.table.dataLoader.alertLoader();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tdata = importer.call(this.table, fileContents);\n\t\t\t\t\n\t\t\t\tif(data instanceof Promise){\n\t\t\t\t\tresolve(data);\n\t\t\t\t}else {\n\t\t\t\t\tdata ? resolve(data) : reject();\n\t\t\t\t}\n\t\t\t}, 10);\n\t\t});\n\t}\n\t\n\tstructureData(parsedData){\n\t\tvar data = [];\n\t\t\n\t\tif(Array.isArray(parsedData) && parsedData.length && Array.isArray(parsedData[0])){\n\t\t\tif(this.table.options.autoColumns){\n\t\t\t\tdata = this.structureArrayToObject(parsedData);\n\t\t\t}else {\n\t\t\t\tdata = this.structureArrayToColumns(parsedData);\n\t\t\t}\n\t\t\t\n\t\t\treturn data;\n\t\t}else {\n\t\t\treturn parsedData;\n\t\t}\n\t}\n\t\n\tmutateData(data){\n\t\tvar output = [];\n\t\t\n\t\tif(Array.isArray(data)){\n\t\t\tdata.forEach((row) => {\n\t\t\t\toutput.push(this.table.modules.mutator.transformRow(row, \"import\"));\n\t\t\t});\n\t\t}else {\n\t\t\toutput = data;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\ttransformHeader(headers){\n\t\tvar output = [];\n\t\t\n\t\tif(this.table.options.importHeaderTransform){\n\t\t\theaders.forEach((item) => {\n\t\t\t\toutput.push(this.table.options.importHeaderTransform.call(this.table, item, headers));\n\t\t\t});\n\t\t}else {\n\t\t\treturn headers;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\ttransformData(row){\n\t\tvar output = [];\n\n\t\tif(this.table.options.importValueTransform){\n\t\t\trow.forEach((item) => {\n\t\t\t\toutput.push(this.table.options.importValueTransform.call(this.table, item, row));\n\t\t\t});\n\t\t}else {\n\t\t\treturn row;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tstructureArrayToObject(parsedData){\n\t\tvar columns = this.transformHeader(parsedData.shift());\t\n\t\t\n\t\tvar data = parsedData.map((values) => {\n\t\t\tvar row = {};\n\n\t\t\tvalues = this.transformData(values);\n\t\t\t\n\t\t\tcolumns.forEach((key, i) => {\n\t\t\t\trow[key] = values[i];\n\t\t\t});\n\t\t\t\n\t\t\treturn row;\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tstructureArrayToColumns(parsedData){\n\t\tvar data = [],\n\t\tfirstRow = this.transformHeader(parsedData[0]),\n\t\tcolumns = this.table.getColumns();\n\t\t\n\t\t//remove first row if it is the column names\n\t\tif(columns[0] && firstRow[0]){\n\t\t\tif(columns[0].getDefinition().title === firstRow[0]){\n\t\t\t\tparsedData.shift();\n\t\t\t}\n\t\t}\n\t\t\n\t\t//convert row arrays to objects\n\t\tparsedData.forEach((rowData) => {\n\t\t\tvar row = {};\n\n\t\t\trowData = this.transformData(rowData);\n\t\t\t\n\t\t\trowData.forEach((value, index) => {\n\t\t\t\tvar column = columns[index];\n\t\t\t\t\n\t\t\t\tif(column){\n\t\t\t\t\trow[column.getField()] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tdata.push(row);\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\n\tvalidateFile(file){\n\t\tif(this.table.options.importFileValidator){\n\t\t\treturn this.table.options.importFileValidator.call(this.table, file);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tvalidateData(data){\n\t\tvar result;\n\n\t\tif(this.table.options.importDataValidator){\n\t\t\tresult = this.table.options.importDataValidator.call(this.table, data);\n\n\t\t\tif(result === true){\n\t\t\t\treturn data;\n\t\t\t}else {\n\t\t\t\treturn Promise.reject(result);\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\t\n\tsetData(data){\n\t\tthis.dispatch(\"import-imported\", data);\n\t\tthis.dispatchExternal(\"importImported\", data);\n\t\t\n\t\tthis.table.dataLoader.clearAlert();\n\t\t\n\t\treturn this.table.setData(data);\n\t}\n}\n\nclass Interaction extends Module{\n\n\tstatic moduleName = \"interaction\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.eventMap = {\n\t\t\t//row events\n\t\t\trowClick:\"row-click\",\n\t\t\trowDblClick:\"row-dblclick\",\n\t\t\trowContext:\"row-contextmenu\",\n\t\t\trowMouseEnter:\"row-mouseenter\",\n\t\t\trowMouseLeave:\"row-mouseleave\",\n\t\t\trowMouseOver:\"row-mouseover\",\n\t\t\trowMouseOut:\"row-mouseout\",\n\t\t\trowMouseMove:\"row-mousemove\",\n\t\t\trowMouseDown:\"row-mousedown\",\n\t\t\trowMouseUp:\"row-mouseup\",\n\t\t\trowTap:\"row\",\n\t\t\trowDblTap:\"row\",\n\t\t\trowTapHold:\"row\",\n\n\t\t\t//cell events\n\t\t\tcellClick:\"cell-click\",\n\t\t\tcellDblClick:\"cell-dblclick\",\n\t\t\tcellContext:\"cell-contextmenu\",\n\t\t\tcellMouseEnter:\"cell-mouseenter\",\n\t\t\tcellMouseLeave:\"cell-mouseleave\",\n\t\t\tcellMouseOver:\"cell-mouseover\",\n\t\t\tcellMouseOut:\"cell-mouseout\",\n\t\t\tcellMouseMove:\"cell-mousemove\",\n\t\t\tcellMouseDown:\"cell-mousedown\",\n\t\t\tcellMouseUp:\"cell-mouseup\",\n\t\t\tcellTap:\"cell\",\n\t\t\tcellDblTap:\"cell\",\n\t\t\tcellTapHold:\"cell\",\n\n\t\t\t//column header events\n\t\t\theaderClick:\"column-click\",\n\t\t\theaderDblClick:\"column-dblclick\",\n\t\t\theaderContext:\"column-contextmenu\",\n\t\t\theaderMouseEnter:\"column-mouseenter\",\n\t\t\theaderMouseLeave:\"column-mouseleave\",\n\t\t\theaderMouseOver:\"column-mouseover\",\n\t\t\theaderMouseOut:\"column-mouseout\",\n\t\t\theaderMouseMove:\"column-mousemove\",\n\t\t\theaderMouseDown:\"column-mousedown\",\n\t\t\theaderMouseUp:\"column-mouseup\",\n\t\t\theaderTap:\"column\",\n\t\t\theaderDblTap:\"column\",\n\t\t\theaderTapHold:\"column\",\n\n\t\t\t//group header\n\t\t\tgroupClick:\"group-click\",\n\t\t\tgroupDblClick:\"group-dblclick\",\n\t\t\tgroupContext:\"group-contextmenu\",\n\t\t\tgroupMouseEnter:\"group-mouseenter\",\n\t\t\tgroupMouseLeave:\"group-mouseleave\",\n\t\t\tgroupMouseOver:\"group-mouseover\",\n\t\t\tgroupMouseOut:\"group-mouseout\",\n\t\t\tgroupMouseMove:\"group-mousemove\",\n\t\t\tgroupMouseDown:\"group-mousedown\",\n\t\t\tgroupMouseUp:\"group-mouseup\",\n\t\t\tgroupTap:\"group\",\n\t\t\tgroupDblTap:\"group\",\n\t\t\tgroupTapHold:\"group\",\n\t\t};\n\n\t\tthis.subscribers = {};\n\n\t\tthis.touchSubscribers = {};\n\n\t\tthis.columnSubscribers = {};\n\n\t\tthis.touchWatchers = {\n\t\t\trow:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcell:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcolumn:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tgroup:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t}\n\t\t};\n\n\t\tthis.registerColumnOption(\"headerClick\");\n\t\tthis.registerColumnOption(\"headerDblClick\");\n\t\tthis.registerColumnOption(\"headerContext\");\n\t\tthis.registerColumnOption(\"headerMouseEnter\");\n\t\tthis.registerColumnOption(\"headerMouseLeave\");\n\t\tthis.registerColumnOption(\"headerMouseOver\");\n\t\tthis.registerColumnOption(\"headerMouseOut\");\n\t\tthis.registerColumnOption(\"headerMouseMove\");\n\t\tthis.registerColumnOption(\"headerMouseDown\");\n\t\tthis.registerColumnOption(\"headerMouseUp\");\n\t\tthis.registerColumnOption(\"headerTap\");\n\t\tthis.registerColumnOption(\"headerDblTap\");\n\t\tthis.registerColumnOption(\"headerTapHold\");\n\n\t\tthis.registerColumnOption(\"cellClick\");\n\t\tthis.registerColumnOption(\"cellDblClick\");\n\t\tthis.registerColumnOption(\"cellContext\");\n\t\tthis.registerColumnOption(\"cellMouseEnter\");\n\t\tthis.registerColumnOption(\"cellMouseLeave\");\n\t\tthis.registerColumnOption(\"cellMouseOver\");\n\t\tthis.registerColumnOption(\"cellMouseOut\");\n\t\tthis.registerColumnOption(\"cellMouseMove\");\n\t\tthis.registerColumnOption(\"cellMouseDown\");\n\t\tthis.registerColumnOption(\"cellMouseUp\");\n\t\tthis.registerColumnOption(\"cellTap\");\n\t\tthis.registerColumnOption(\"cellDblTap\");\n\t\tthis.registerColumnOption(\"cellTapHold\");\n\n\t}\n\n\tinitialize(){\n\t\tthis.initializeExternalEvents();\n\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"cell-dblclick\", this.cellContentsSelectionFixer.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.clearTouchWatchers.bind(this));\n\t\tthis.subscribe(\"scroll-vertical\", this.clearTouchWatchers.bind(this));\n\t}\n\n\tclearTouchWatchers(){\n\t\tvar types = Object.values(this.touchWatchers);\n\n\t\ttypes.forEach((type) => {\n\t\t\tfor(let key in type){\n\t\t\t\ttype[key] = null;\n\t\t\t}\n\t\t});\n\t}\n\t\t\n\tcellContentsSelectionFixer(e, cell){\n\t\tvar range;\n\n\t\tif(this.table.modExists(\"edit\")){\n\t\t\tif (this.table.modules.edit.currentCell === cell){\n\t\t\t\treturn; //prevent instant selection of editor content\n\t\t\t}\n\t\t}\n\n\t\te.preventDefault();\n\n\t\ttry{\n\t\t\tif (document.selection) { // IE\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToElementText(cell.getElement());\n\t\t\t\trange.select();\n\t\t\t} else if (window.getSelection) {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNode(cell.getElement());\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t}\n\t\t}catch(e){}\n\t}\n\n\tinitializeExternalEvents(){\n\t\tfor(let key in this.eventMap){\n\t\t\tthis.subscriptionChangeExternal(key, this.subscriptionChanged.bind(this, key));\n\t\t}\n\t}\n\n\tsubscriptionChanged(key, added){\n\t\tif(added){\n\t\t\tif(!this.subscribers[key]){\n\t\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\t\tthis.subscribers[key] = this.handle.bind(this, key);\n\t\t\t\t\tthis.subscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t}else {\n\t\t\t\t\tthis.subscribeTouchEvents(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\tif(this.subscribers[key] && !this.columnSubscribers[key]  && !this.subscribedExternal(key)){\n\t\t\t\t\tthis.unsubscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t\tdelete this.subscribers[key];\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.unsubscribeTouchEvents(key);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tsubscribeTouchEvents(key){\n\t\tvar type = this.eventMap[key];\n\n\t\tif(!this.touchSubscribers[type + \"-touchstart\"]){\n\t\t\tthis.touchSubscribers[type + \"-touchstart\"] = this.handleTouch.bind(this, type, \"start\");\n\t\t\tthis.touchSubscribers[type + \"-touchend\"] = this.handleTouch.bind(this, type, \"end\");\n\n\t\t\tthis.subscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\tthis.subscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\t\t}\n\n\t\tthis.subscribers[key] = true;\n\t}\n\n\tunsubscribeTouchEvents(key){\n\t\tvar noTouch = true,\n\t\ttype = this.eventMap[key];\n\n\t\tif(this.subscribers[key] && !this.subscribedExternal(key)){\n\t\t\tdelete this.subscribers[key];\n\n\t\t\tfor(let i in this.eventMap){\n\t\t\t\tif(this.eventMap[i] === type){\n\t\t\t\t\tif(this.subscribers[i]){\n\t\t\t\t\t\tnoTouch = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(noTouch){\n\t\t\t\tthis.unsubscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\t\tthis.unsubscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchstart\"];\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchend\"];\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\n\t\tfor(let key in this.eventMap){\n\t\t\tif(def[key]){\n\t\t\t\tthis.subscriptionChanged(key, true);\n\n\t\t\t\tif(!this.columnSubscribers[key]){\n\t\t\t\t\tthis.columnSubscribers[key] = [];\n\t\t\t\t}\n\n\t\t\t\tthis.columnSubscribers[key].push(column);\n\t\t\t}\n\t\t}\n\t}\n\n\thandle(action, e, component){\n\t\tthis.dispatchEvent(action, e, component);\n\t}\n\n\thandleTouch(type, action, e, component){\n\t\tvar watchers = this.touchWatchers[type];\n\n\t\tif(type === \"column\"){\n\t\t\ttype = \"header\";\n\t\t}\n\n\t\tswitch(action){\n\t\t\tcase \"start\":\n\t\t\t\twatchers.tap = true;\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\n\t\t\t\twatchers.tapHold = setTimeout(() => {\n\t\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\t\twatchers.tapHold = null;\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"TapHold\", e,  component);\n\t\t\t\t}, 1000);\n\t\t\t\tbreak;\n\n\t\t\tcase \"end\":\n\t\t\t\tif(watchers.tap){\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tthis.dispatchEvent(type + \"Tap\", e,  component);\n\t\t\t\t}\n\n\t\t\t\tif(watchers.tapDbl){\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"DblTap\", e,  component);\n\t\t\t\t}else {\n\t\t\t\t\twatchers.tapDbl = setTimeout(() => {\n\t\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\t\twatchers.tapDbl = null;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\twatchers.tapHold = null;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tdispatchEvent(action, e, component){\n\t\tvar componentObj = component.getComponent(),\n\t\tcallback;\n\n\t\tif(this.columnSubscribers[action]){\n\n\t\t\tif(component instanceof Cell){\n\t\t\t\tcallback = component.column.definition[action];\n\t\t\t}else if(component instanceof Column){\n\t\t\t\tcallback = component.definition[action];\n\t\t\t}\n\n\t\t\tif(callback){\n\t\t\t\tcallback(e, componentObj);\n\t\t\t}\n\t\t}\n\n\t\tthis.dispatchExternal(action, e, componentObj);\n\t}\n}\n\nvar defaultBindings = {\n\tnavPrev:\"shift + 9\",\n\tnavNext:9,\n\tnavUp:38,\n\tnavDown:40,\n\tnavLeft:37,\n\tnavRight:39,\n\tscrollPageUp:33,\n\tscrollPageDown:34,\n\tscrollToStart:36,\n\tscrollToEnd:35,\n};\n\nvar defaultActions = {\n\tkeyBlock:function(e){\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t},\n\n\tscrollPageUp:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop - rowManager.element.clientHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos >= 0){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else {\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\n\tscrollPageDown:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop + rowManager.element.clientHeight,\n\t\tscrollMax = rowManager.element.scrollHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos <= scrollMax){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else {\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\n\t},\n\n\tscrollToStart:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\n\tscrollToEnd:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\n\tnavPrev:function(e){\n\t\tthis.dispatch(\"keybinding-nav-prev\", e);\n\t},\n\n\tnavNext:function(e){\n\t\tthis.dispatch(\"keybinding-nav-next\", e);\n\t},\n\n\tnavLeft:function(e){\n\t\tthis.dispatch(\"keybinding-nav-left\", e);\n\t},\n\n\tnavRight:function(e){\n\t\tthis.dispatch(\"keybinding-nav-right\", e);\n\t},\n\n\tnavUp:function(e){\n\t\tthis.dispatch(\"keybinding-nav-up\", e);\n\t},\n\n\tnavDown:function(e){\n\t\tthis.dispatch(\"keybinding-nav-down\", e);\n\t},\n};\n\nclass Keybindings extends Module{\n\n\tstatic moduleName = \"keybindings\";\n\n\t//load defaults\n\tstatic bindings = defaultBindings;\n\tstatic actions = defaultActions;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.watchKeys = null;\n\t\tthis.pressedKeys = null;\n\t\tthis.keyupBinding = false;\n\t\tthis.keydownBinding = false;\n\n\t\tthis.registerTableOption(\"keybindings\", {}); //array for keybindings\n\t\tthis.registerTableOption(\"tabEndNewRow\", false); //create new row when tab to end of table\n\t}\n\n\tinitialize(){\n\t\tvar bindings = this.table.options.keybindings,\n\t\tmergedBindings = {};\n\n\t\tthis.watchKeys = {};\n\t\tthis.pressedKeys = [];\n\n\t\tif(bindings !== false){\n\t\t\tObject.assign(mergedBindings, Keybindings.bindings);\n\t\t\tObject.assign(mergedBindings, bindings);\n\n\t\t\tthis.mapBindings(mergedBindings);\n\t\t\tthis.bindEvents();\n\t\t}\n\n\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t}\n\n\tmapBindings(bindings){\n\t\tfor(let key in bindings){\n\t\t\tif(Keybindings.actions[key]){\n\t\t\t\tif(bindings[key]){\n\t\t\t\t\tif(typeof bindings[key] !== \"object\"){\n\t\t\t\t\t\tbindings[key] = [bindings[key]];\n\t\t\t\t\t}\n\n\t\t\t\t\tbindings[key].forEach((binding) => {\n\t\t\t\t\t\tvar bindingList = Array.isArray(binding) ?  binding : [binding];\n\t\t\t\t\t\t\n\t\t\t\t\t\tbindingList.forEach((item) => {\n\t\t\t\t\t\t\tthis.mapBinding(key, item);\n\t\t\t\t\t\t});\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Key Binding Error - no such action:\", key);\n\t\t\t}\n\t\t}\n\t}\n\n\tmapBinding(action, symbolsList){\n\t\tvar binding = {\n\t\t\taction: Keybindings.actions[action],\n\t\t\tkeys: [],\n\t\t\tctrl: false,\n\t\t\tshift: false,\n\t\t\tmeta: false,\n\t\t};\n\n\t\tvar symbols = symbolsList.toString().toLowerCase().split(\" \").join(\"\").split(\"+\");\n\n\t\tsymbols.forEach((symbol) => {\n\t\t\tswitch(symbol){\n\t\t\t\tcase \"ctrl\":\n\t\t\t\t\tbinding.ctrl = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"shift\":\n\t\t\t\t\tbinding.shift = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"meta\":\n\t\t\t\t\tbinding.meta = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tsymbol = isNaN(symbol) ? symbol.toUpperCase().charCodeAt(0) : parseInt(symbol);\n\t\t\t\t\tbinding.keys.push(symbol);\n\n\t\t\t\t\tif(!this.watchKeys[symbol]){\n\t\t\t\t\t\tthis.watchKeys[symbol] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.watchKeys[symbol].push(binding);\n\t\t\t}\n\t\t});\n\t}\n\n\tbindEvents(){\n\t\tvar self = this;\n\n\t\tthis.keyupBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tself.pressedKeys.push(code);\n\n\t\t\t\tbindings.forEach(function(binding){\n\t\t\t\t\tself.checkBinding(e, binding);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis.keydownBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tvar index = self.pressedKeys.indexOf(code);\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tself.pressedKeys.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.table.element.addEventListener(\"keydown\", this.keyupBinding);\n\n\t\tthis.table.element.addEventListener(\"keyup\", this.keydownBinding);\n\t}\n\n\tclearBindings(){\n\t\tif(this.keyupBinding){\n\t\t\tthis.table.element.removeEventListener(\"keydown\", this.keyupBinding);\n\t\t}\n\n\t\tif(this.keydownBinding){\n\t\t\tthis.table.element.removeEventListener(\"keyup\", this.keydownBinding);\n\t\t}\n\t}\n\n\tcheckBinding(e, binding){\n\t\tvar match = true;\n\n\t\tif(e.ctrlKey == binding.ctrl && e.shiftKey == binding.shift && e.metaKey == binding.meta){\n\t\t\tbinding.keys.forEach((key) => {\n\t\t\t\tvar index = this.pressedKeys.indexOf(key);\n\n\t\t\t\tif(index == -1){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tbinding.action.call(this, e);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nclass Menu extends Module{\n\n\tstatic moduleName = \"menu\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.menuContainer = null;\n\t\tthis.nestedMenuBlock = false;\n\t\t\n\t\tthis.currentComponent = null;\n\t\tthis.rootPopup = null;\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\t// this.registerTableOption(\"menuContainer\", undefined); //deprecated\n\t\t\n\t\tthis.registerTableOption(\"rowContextMenu\", false);\n\t\tthis.registerTableOption(\"rowClickMenu\", false);\n\t\tthis.registerTableOption(\"rowDblClickMenu\", false);\n\t\tthis.registerTableOption(\"groupContextMenu\", false);\n\t\tthis.registerTableOption(\"groupClickMenu\", false);\n\t\tthis.registerTableOption(\"groupDblClickMenu\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextMenu\");\n\t\tthis.registerColumnOption(\"headerClickMenu\");\n\t\tthis.registerColumnOption(\"headerDblClickMenu\");\n\t\tthis.registerColumnOption(\"headerMenu\");\n\t\tthis.registerColumnOption(\"headerMenuIcon\");\n\t\tthis.registerColumnOption(\"contextMenu\");\n\t\tthis.registerColumnOption(\"clickMenu\");\n\t\tthis.registerColumnOption(\"dblClickMenu\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\t// if(!this.deprecationCheck(\"menuContainer\", \"popupContainer\")){\n\t\t// \tthis.table.options.popupContainer = this.table.options.menuContainer;\n\t\t// }\n\t}\t\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextMenu){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickMenu){\n\t\t\tthis.subscribe(\"row-click\", this.loadMenuEvent.bind(this, this.table.options.rowClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowDblClickMenu){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadMenuEvent.bind(this, this.table.options.rowDblClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextMenu){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickMenu){\n\t\t\tthis.subscribe(\"group-click\", this.loadMenuEvent.bind(this, this.table.options.groupClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupDblClickMenu){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadMenuEvent.bind(this, this.table.options.groupDblClickMenu));\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar\tdef = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextMenu && !this.columnSubscribers.headerContextMenu){\n\t\t\tthis.columnSubscribers.headerContextMenu = this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextMenu);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickMenu && !this.columnSubscribers.headerClickMenu){\n\t\t\tthis.columnSubscribers.headerClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerClickMenu\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerDblClickMenu && !this.columnSubscribers.headerDblClickMenu){\n\t\t\tthis.columnSubscribers.headerDblClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerDblClickMenu\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerMenu){\n\t\t\tthis.initializeColumnHeaderMenu(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextMenu && !this.columnSubscribers.contextMenu){\n\t\t\tthis.columnSubscribers.contextMenu = this.loadMenuTableCellEvent.bind(this, \"contextMenu\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextMenu);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadMenuTableCellEvent.bind(this, \"contextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.clickMenu && !this.columnSubscribers.clickMenu){\n\t\t\tthis.columnSubscribers.clickMenu = this.loadMenuTableCellEvent.bind(this, \"clickMenu\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickMenu);\n\t\t}\n\t\t\n\t\tif(def.dblClickMenu && !this.columnSubscribers.dblClickMenu){\n\t\t\tthis.columnSubscribers.dblClickMenu = this.loadMenuTableCellEvent.bind(this, \"dblClickMenu\");\n\t\t\tthis.subscribe(\"cell-dblclick\", this.columnSubscribers.dblClickMenu);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderMenu(column){\n\t\tvar icon = column.definition.headerMenuIcon,\n\t\theaderMenuEl;\n\t\t\n\t\theaderMenuEl = document.createElement(\"span\");\n\t\theaderMenuEl.classList.add(\"tabulator-header-popup-button\");\n\t\t\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderMenuEl.appendChild(icon);\n\t\t\t}else {\n\t\t\t\theaderMenuEl.innerHTML = icon;\n\t\t\t}\n\t\t}else {\n\t\t\theaderMenuEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderMenuEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadMenuEvent(column.definition.headerMenu, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerMenuEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadMenuTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadMenuEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadMenuTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadMenuEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadMenuEvent(menu, e, component){\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tmenu = typeof menu == \"function\" ? menu.call(this.table, e, component.getComponent()) : menu;\n\t\t\n\t\tthis.loadMenu(e, component, menu);\n\t}\n\t\n\tloadMenu(e, component, menu, parentEl, parentPopup){\n\t\tvar touch = !(e instanceof MouseEvent),\t\t\n\t\tmenuEl = document.createElement(\"div\"),\n\t\tpopup;\n\t\t\n\t\tmenuEl.classList.add(\"tabulator-menu\");\n\t\t\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\t//abort if no menu set\n\t\tif(!menu || !menu.length){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!parentEl){\n\t\t\tif(this.nestedMenuBlock){\n\t\t\t\t//abort if child menu already open\n\t\t\t\tif(this.rootPopup){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.nestedMenuBlock = setTimeout(() => {\n\t\t\t\t\tthis.nestedMenuBlock = false;\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\t\n\t\t\t}\n\t\t\t\n\t\t\tthis.rootPopup = popup = this.popup(menuEl);\n\t\t\t\n\t\t}else {\n\t\t\tpopup = parentPopup.child(menuEl);\n\t\t}\n\t\t\n\t\tmenu.forEach((item) => {\n\t\t\tvar itemEl = document.createElement(\"div\"),\n\t\t\tlabel = item.label,\n\t\t\tdisabled = item.disabled;\n\t\t\t\n\t\t\tif(item.separator){\n\t\t\t\titemEl.classList.add(\"tabulator-menu-separator\");\n\t\t\t}else {\n\t\t\t\titemEl.classList.add(\"tabulator-menu-item\");\n\t\t\t\t\n\t\t\t\tif(typeof label == \"function\"){\n\t\t\t\t\tlabel = label.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(label instanceof Node){\n\t\t\t\t\titemEl.appendChild(label);\n\t\t\t\t}else {\n\t\t\t\t\titemEl.innerHTML = label;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(typeof disabled == \"function\"){\n\t\t\t\t\tdisabled = disabled.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(disabled){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-disabled\");\n\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tthis.loadMenu(e, component, item.menu, itemEl, popup);\n\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(item.action){\n\t\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\t\titem.action(e, component.getComponent());\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-submenu\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tmenuEl.appendChild(itemEl);\n\t\t});\n\t\t\n\t\tmenuEl.addEventListener(\"click\", (e) => {\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\n\t\t\t}\n\t\t});\n\t\t\n\t\tpopup.show(parentEl || e);\n\t\t\n\t\tif(popup === this.rootPopup){\n\t\t\tthis.rootPopup.hideOnBlur(() => {\n\t\t\t\tthis.rootPopup = null;\n\t\t\t\t\n\t\t\t\tif(this.currentComponent){\n\t\t\t\t\tthis.dispatch(\"menu-closed\", menu, popup);\n\t\t\t\t\tthis.dispatchExternal(\"menuClosed\", this.currentComponent.getComponent());\n\t\t\t\t\tthis.currentComponent = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.currentComponent = component;\n\t\t\t\n\t\t\tthis.dispatch(\"menu-opened\", menu, popup);\n\t\t\tthis.dispatchExternal(\"menuOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nclass MoveColumns extends Module{\n\n\tstatic moduleName = \"moveColumn\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating column header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 250; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving column\n\t\tthis.toCol = false; //destination column\n\t\tthis.toColAfter = false; //position of moving column relative to the destination column\n\t\tthis.startX = 0; //starting position within header element\n\t\tthis.autoScrollMargin = 40; //auto scroll on edge when within margin\n\t\tthis.autoScrollStep = 5; //auto scroll distance in pixels\n\t\tthis.autoScrollTimeout = false; //auto scroll timeout\n\t\tthis.touchMove = false;\n\t\t\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\t\n\t\tthis.registerTableOption(\"movableColumns\", false); //enable movable columns\n\t}\n\t\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.classList.add(\"tabulator-col-placeholder\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.movableColumns){\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"alert-show\", this.abortMove.bind(this));\n\t\t}\n\t}\n\n\tabortMove(){\n\t\tclearTimeout(this.checkTimeout);\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\tcolEl;\n\n\t\tif(!column.modules.frozen && !column.isGroup && !column.isRowHeader){\n\t\t\tcolEl = column.getElement();\n\t\t\t\n\t\t\tconfig.mousemove = function(e){\n\t\t\t\tif(column.parent === self.moving.parent){\n\t\t\t\t\tif((((self.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(colEl).left) + self.table.columnManager.contentsElement.scrollLeft) > (column.getWidth() / 2)){\n\t\t\t\t\t\tif(self.toCol !== column || !self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl.nextSibling);\n\t\t\t\t\t\t\tself.moveColumn(column, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(self.toCol !== column || self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl);\n\t\t\t\t\t\t\tself.moveColumn(column, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(self);\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tself.touchMove = false;\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, column);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tself.bindTouchEvents(column);\n\t\t}\n\t\t\n\t\tcolumn.modules.moveColumn = config;\n\t}\n\t\n\tbindTouchEvents(column){\n\t\tvar colEl = column.getElement(),\n\t\tstartXMove = false, //shifting center position of the cell\n\t\tnextCol, prevCol, nextColWidth, prevColWidth, nextColWidthLast, prevColWidthLast;\n\t\t\n\t\tcolEl.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextCol = column.nextColumn();\n\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth()/2 : 0;\n\t\t\t\tprevCol = column.prevColumn();\n\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth()/2 : 0;\n\t\t\t\tnextColWidthLast = 0;\n\t\t\t\tprevColWidthLast = 0;\n\t\t\t\tstartXMove = false;\n\t\t\t\t\n\t\t\t\tthis.startMove(e, column);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchmove\", (e) => {\n\t\t\tvar diff, moveToCol;\n\t\t\t\n\t\t\tif(this.moving){\n\t\t\t\tthis.moveHover(e);\n\t\t\t\t\n\t\t\t\tif(!startXMove){\n\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdiff = e.touches[0].pageX - startXMove;\n\t\t\t\t\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextCol && diff - nextColWidthLast > nextColWidth){\n\t\t\t\t\t\tmoveToCol = nextCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tif(prevCol && -diff - prevColWidthLast >  prevColWidth){\n\t\t\t\t\t\tmoveToCol = prevCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement());\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(moveToCol){\n\t\t\t\t\tnextCol = moveToCol.nextColumn();\n\t\t\t\t\tnextColWidthLast = nextColWidth;\n\t\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\n\t\t\t\t\tprevCol = moveToCol.prevColumn();\n\t\t\t\t\tprevColWidthLast = prevColWidth;\n\t\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tstartMove(e, column){\n\t\tvar element = column.getElement(),\n\t\theaderElement = this.table.columnManager.getContentsElement(),\n\t\theadersElement = this.table.columnManager.getHeadersElement();\n\t\t\n\t\t//Prevent moving columns when range selection is active\n\t\tif(this.table.modules.selectRange && this.table.modules.selectRange.columnSelection){\n\t\t\tif(this.table.modules.selectRange.mousedown && this.table.modules.selectRange.selecting === \"column\"){\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.moving = column;\n\t\tthis.startX = (this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(element).left;\n\t\t\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = column.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = column.getHeight() + \"px\";\n\t\t\n\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\telement.parentNode.removeChild(element);\n\t\t\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\t\t\n\t\theaderElement.appendChild(this.hoverElement);\n\t\t\n\t\tthis.hoverElement.style.left = \"0\";\n\t\tthis.hoverElement.style.bottom = (headerElement.clientHeight - headersElement.offsetHeight) + \"px\";\n\t\t\n\t\tif(!this.touchMove){\n\t\t\tthis._bindMouseMove();\n\t\t\t\n\t\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\t\t}\n\t\t\n\t\tthis.moveHover(e);\n\n\t\tthis.dispatch(\"column-moving\", e, this.moving);\n\t}\n\t\n\t_bindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().addEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_unbindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().removeEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmoveColumn(column, after){\n\t\tvar movingCells = this.moving.getCells();\n\t\t\n\t\tthis.toCol = column;\n\t\tthis.toColAfter = after;\n\t\t\n\t\tif(after){\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl.nextSibling);\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tendMove(e){\n\t\tif(e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\t\t\t\n\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\t\t\t\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(this.toCol){\n\t\t\t\tthis.table.columnManager.moveColumnActual(this.moving, this.toCol, this.toColAfter);\n\t\t\t}\n\n\t\t\tthis.moving = false;\n\t\t\tthis.toCol = false;\n\t\t\tthis.toColAfter = false;\n\t\t\t\n\t\t\tif(!this.touchMove){\n\t\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tmoveHover(e){\n\t\tvar columnHolder = this.table.columnManager.getContentsElement(),\n\t\tscrollLeft = columnHolder.scrollLeft,\n\t\txPos = ((this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(columnHolder).left) + scrollLeft,\n\t\tscrollPos;\n\t\t\n\t\tthis.hoverElement.style.left = (xPos - this.startX) + \"px\";\n\t\t\n\t\tif(xPos - scrollLeft < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.max(0,scrollLeft-5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(scrollLeft + columnHolder.clientWidth - xPos < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.min(columnHolder.clientWidth, scrollLeft+5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nvar defaultSenders = {\r\n\tdelete:function(fromRow, toRow, toTable){\r\n\t\tfromRow.delete();\r\n\t}\r\n};\n\nvar defaultReceivers = {\r\n\tinsert:function(fromRow, toRow, fromTable){\r\n\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\r\n\t\treturn true;\r\n\t},\r\n\r\n\tadd:function(fromRow, toRow, fromTable){\r\n\t\tthis.table.addRow(fromRow.getData());\r\n\t\treturn true;\r\n\t},\r\n\r\n\tupdate:function(fromRow, toRow, fromTable){\r\n\t\tif(toRow){\r\n\t\t\ttoRow.update(fromRow.getData());\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\treplace:function(fromRow, toRow, fromTable){\r\n\t\tif(toRow){\r\n\t\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\r\n\t\t\ttoRow.delete();\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n};\n\nclass MoveRows extends Module{\n\n\tstatic moduleName = \"moveRow\";\n\n\t//load defaults\n\tstatic senders = defaultSenders;\n\tstatic receivers = defaultReceivers;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating row header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 150; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving row\n\t\tthis.toRow = false; //destination row\n\t\tthis.toRowAfter = false; //position of moving row relative to the destination row\n\t\tthis.hasHandle = false; //row has handle instead of fully movable row\n\t\tthis.startY = 0; //starting Y position within header element\n\t\tthis.startX = 0; //starting X position within header element\n\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\tthis.tableRowDropEvent = false;\n\n\t\tthis.touchMove = false;\n\n\t\tthis.connection = false;\n\t\tthis.connectionSelectorsTables = false;\n\t\tthis.connectionSelectorsElements = false;\n\t\tthis.connectionElements = [];\n\t\tthis.connections = [];\n\n\t\tthis.connectedTable = false;\n\t\tthis.connectedRow = false;\n\n\t\tthis.registerTableOption(\"movableRows\", false); //enable movable rows\n\t\tthis.registerTableOption(\"movableRowsConnectedTables\", false); //tables for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsConnectedElements\", false); //other elements for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsSender\", false);\n\t\tthis.registerTableOption(\"movableRowsReceiver\", \"insert\");\n\n\t\tthis.registerColumnOption(\"rowHandle\");\n\t}\n\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.classList.add(\"tabulator-row-placeholder\");\n\n\t\treturn el;\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.movableRows){\n\t\t\tthis.connectionSelectorsTables = this.table.options.movableRowsConnectedTables;\n\t\t\tthis.connectionSelectorsElements = this.table.options.movableRowsConnectedElements;\n\n\t\t\tthis.connection = this.connectionSelectorsTables || this.connectionSelectorsElements;\n\n\t\t\tthis.subscribe(\"cell-init\", this.initializeCell.bind(this));\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeGroupHeader(group){\n\t\tvar self = this,\n\t\tconfig = {};\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, group);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl;\n\n\t\t\tif(((e.pageY - Helpers.elOffset(group.element).top) + self.table.rowManager.element.scrollTop) > (group.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== group || !self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(group, true);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(self.toRow !== group || self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\tif(rowEl.previousSibling){\n\t\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\t\tself.moveRow(group, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\t\tgroup.modules.moveRow = config;\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\trowEl;\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, row);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(((e.pageY - Helpers.elOffset(rowEl).top) + self.table.rowManager.element.scrollTop) > (row.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== row || !self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(row, true);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(self.toRow !== row || self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\tself.moveRow(row, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\n\t\tif(!this.hasHandle){\n\n\t\t\trowEl = row.getElement();\n\n\t\t\trowEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trowEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(row, row.getElement());\n\t\t}\n\n\t\trow.modules.moveRow = config;\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tthis.hasHandle = true;\n\t\t}\n\t}\n\n\tinitializeCell(cell){\n\t\tif(cell.column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tvar self = this,\n\t\t\tcellEl = cell.getElement(true);\n\n\t\t\tcellEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, cell.row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcellEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(cell.row, cellEl);\n\t\t}\n\t}\n\n\tbindTouchEvents(row, element){\n\t\tvar startYMove = false, //shifting center position of the cell\n\t\tnextRow, prevRow, nextRowHeight, prevRowHeight, nextRowHeightLast, prevRowHeightLast;\n\n\t\telement.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextRow = row.nextRow();\n\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight()/2 : 0;\n\t\t\t\tprevRow = row.prevRow();\n\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight()/2 : 0;\n\t\t\t\tnextRowHeightLast = 0;\n\t\t\t\tprevRowHeightLast = 0;\n\t\t\t\tstartYMove = false;\n\n\t\t\t\tthis.startMove(e, row);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\tthis.moving, this.toRow, this.toRowAfter;\n\t\telement.addEventListener(\"touchmove\", (e) => {\n\n\t\t\tvar diff, moveToRow;\n\n\t\t\tif(this.moving){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tthis.moveHover(e);\n\n\t\t\t\tif(!startYMove){\n\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t}\n\n\t\t\t\tdiff = e.touches[0].pageY - startYMove;\n\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextRow && diff - nextRowHeightLast > nextRowHeight){\n\t\t\t\t\t\tmoveToRow = nextRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tif(prevRow && -diff - prevRowHeightLast >  prevRowHeight){\n\t\t\t\t\t\tmoveToRow = prevRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement());\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(moveToRow){\n\t\t\t\t\tnextRow = moveToRow.nextRow();\n\t\t\t\t\tnextRowHeightLast = nextRowHeight;\n\t\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\n\t\t\t\t\tprevRow = moveToRow.prevRow();\n\t\t\t\t\tprevRowHeightLast = prevRowHeight;\n\t\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\telement.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t\tthis.touchMove = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t_bindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().addEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\t_unbindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().removeEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\tstartMove(e, row){\n\t\tvar element = row.getElement();\n\n\t\tthis.setStartPosition(e, row);\n\n\t\tthis.moving = row;\n\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = row.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = row.getHeight() + \"px\";\n\n\t\tif(!this.connection){\n\t\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\t\telement.parentNode.removeChild(element);\n\t\t}else {\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-sending\");\n\t\t\tthis.connectToTables(row);\n\t\t}\n\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\n\t\tif(this.connection){\n\t\t\tdocument.body.appendChild(this.hoverElement);\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\t\t\tthis.hoverElement.style.width = this.table.element.clientWidth + \"px\";\n\t\t\tthis.hoverElement.style.whiteSpace = \"nowrap\";\n\t\t\tthis.hoverElement.style.overflow = \"hidden\";\n\t\t\tthis.hoverElement.style.pointerEvents = \"none\";\n\t\t}else {\n\t\t\tthis.table.rowManager.getTableElement().appendChild(this.hoverElement);\n\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\n\t\t\tthis._bindMouseMove();\n\t\t}\n\n\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\n\t\tthis.dispatchExternal(\"rowMoving\", row.getComponent());\n\n\t\tthis.moveHover(e);\n\t}\n\n\tsetStartPosition(e, row){\n\t\tvar pageX = this.touchMove ? e.touches[0].pageX : e.pageX,\n\t\tpageY = this.touchMove ? e.touches[0].pageY : e.pageY,\n\t\telement, position;\n\n\t\telement = row.getElement();\n\t\tif(this.connection){\n\t\t\tposition = element.getBoundingClientRect();\n\n\t\t\tthis.startX = position.left - pageX + window.pageXOffset;\n\t\t\tthis.startY = position.top - pageY + window.pageYOffset;\n\t\t}else {\n\t\t\tthis.startY = (pageY - element.getBoundingClientRect().top);\n\t\t}\n\t}\n\n\tendMove(e){\n\t\tif(!e || e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\n\t\t\tif(!this.connection){\n\t\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\t}\n\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tif(this.toRow){\n\t\t\t\tthis.table.rowManager.moveRow(this.moving, this.toRow, this.toRowAfter);\n\t\t\t}else {\n\t\t\t\tthis.dispatchExternal(\"rowMoveCancelled\", this.moving.getComponent());\n\t\t\t}\n\n\t\t\tthis.moving = false;\n\t\t\tthis.toRow = false;\n\t\t\tthis.toRowAfter = false;\n\n\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\n\t\t\tif(this.connection){\n\t\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-sending\");\n\t\t\t\tthis.disconnectFromTables();\n\t\t\t}\n\t\t}\n\t}\n\n\tmoveRow(row, after){\n\t\tthis.toRow = row;\n\t\tthis.toRowAfter = after;\n\t}\n\n\tmoveHover(e){\n\t\tif(this.connection){\n\t\t\tthis.moveHoverConnections.call(this, e);\n\t\t}else {\n\t\t\tthis.moveHoverTable.call(this, e);\n\t\t}\n\t}\n\n\tmoveHoverTable(e){\n\t\tvar rowHolder = this.table.rowManager.getElement(),\n\t\tscrollTop = rowHolder.scrollTop,\n\t\tyPos = ((this.touchMove ? e.touches[0].pageY : e.pageY) - rowHolder.getBoundingClientRect().top) + scrollTop;\n\t\t\n\t\tthis.hoverElement.style.top = Math.min(yPos - this.startY, this.table.rowManager.element.scrollHeight - this.hoverElement.offsetHeight) + \"px\";\n\t}\n\n\tmoveHoverConnections(e){\n\t\tthis.hoverElement.style.left = (this.startX + (this.touchMove ? e.touches[0].pageX : e.pageX)) + \"px\";\n\t\tthis.hoverElement.style.top = (this.startY + (this.touchMove ? e.touches[0].pageY : e.pageY)) + \"px\";\n\t}\n\n\telementRowDrop(e, element, row){\n\t\tthis.dispatchExternal(\"movableRowsElementDrop\", e, element, row ? row.getComponent() : false);\n\t}\n\n\t//establish connection with other tables\n\tconnectToTables(row){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStart\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"connect\", {\n\t\t\t\trow:row,\n\t\t\t});\n\t\t}\n\n\t\tif(this.connectionSelectorsElements){\n\n\t\t\tthis.connectionElements = [];\n\n\t\t\tif(!Array.isArray(this.connectionSelectorsElements)){\n\t\t\t\tthis.connectionSelectorsElements = [this.connectionSelectorsElements];\n\t\t\t}\n\n\t\t\tthis.connectionSelectorsElements.forEach((query) => {\n\t\t\t\tif(typeof query === \"string\"){\n\t\t\t\t\tthis.connectionElements = this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(query)));\n\t\t\t\t}else {\n\t\t\t\t\tthis.connectionElements.push(query);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.connectionElements.forEach((element) => {\n\t\t\t\tvar dropEvent = (e) => {\n\t\t\t\t\tthis.elementRowDrop(e, element, this.moving);\n\t\t\t\t};\n\n\t\t\t\telement.addEventListener(\"mouseup\", dropEvent);\n\t\t\t\telement.tabulatorElementDropEvent = dropEvent;\n\n\t\t\t\telement.classList.add(\"tabulator-movingrow-receiving\");\n\t\t\t});\n\t\t}\n\t}\n\n\t//disconnect from other tables\n\tdisconnectFromTables(){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStop\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"disconnect\");\n\t\t}\n\n\t\tthis.connectionElements.forEach((element) => {\n\t\t\telement.classList.remove(\"tabulator-movingrow-receiving\");\n\t\t\telement.removeEventListener(\"mouseup\", element.tabulatorElementDropEvent);\n\t\t\tdelete element.tabulatorElementDropEvent;\n\t\t});\n\t}\n\n\t//accept incomming connection\n\tconnect(table, row){\n\t\tif(!this.connectedTable){\n\t\t\tthis.connectedTable = table;\n\t\t\tthis.connectedRow = row;\n\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().addEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.tableRowDropEvent = this.tableRowDrop.bind(this);\n\n\t\t\tthis.table.element.addEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStart\", row, table);\n\n\t\t\treturn true;\n\t\t}else {\n\t\t\tconsole.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\", this.connectedTable);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//close incoming connection\n\tdisconnect(table){\n\t\tif(table === this.connectedTable){\n\t\t\tthis.connectedTable = false;\n\t\t\tthis.connectedRow = false;\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) =>{\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().removeEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.element.removeEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStop\", table);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Row Error - trying to disconnect from non connected table\");\n\t\t}\n\t}\n\n\tdropComplete(table, row, success){\n\t\tvar sender = false;\n\n\t\tif(success){\n\n\t\t\tswitch(typeof this.table.options.movableRowsSender){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tsender = MoveRows.senders[this.table.options.movableRowsSender];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tsender = this.table.options.movableRowsSender;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(sender){\n\t\t\t\tsender.call(this, this.moving ? this.moving.getComponent() : undefined, row ? row.getComponent() : undefined, table);\n\t\t\t}else {\n\t\t\t\tif(this.table.options.movableRowsSender){\n\t\t\t\t\tconsole.warn(\"Mover Row Error - no matching sender found:\", this.table.options.movableRowsSender);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"movableRowsSent\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"movableRowsSentFailed\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}\n\n\t\tthis.endMove();\n\t}\n\n\ttableRowDrop(e, row){\n\t\tvar receiver = false,\n\t\tsuccess = false;\n\n\t\te.stopImmediatePropagation();\n\n\t\tswitch(typeof this.table.options.movableRowsReceiver){\n\t\t\tcase \"string\":\n\t\t\t\treceiver = MoveRows.receivers[this.table.options.movableRowsReceiver];\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\treceiver = this.table.options.movableRowsReceiver;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(receiver){\n\t\t\tsuccess = receiver.call(this, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else {\n\t\t\tconsole.warn(\"Mover Row Error - no matching receiver found:\", this.table.options.movableRowsReceiver);\n\t\t}\n\n\t\tif(success){\n\t\t\tthis.dispatchExternal(\"movableRowsReceived\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"movableRowsReceivedFailed\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}\n\n\t\tthis.commsSend(this.connectedTable, \"moveRow\", \"dropcomplete\", {\n\t\t\trow:row,\n\t\t\tsuccess:success,\n\t\t});\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"connect\":\n\t\t\t\treturn this.connect(table, data.row);\n\n\t\t\tcase \"disconnect\":\n\t\t\t\treturn this.disconnect(table);\n\n\t\t\tcase \"dropcomplete\":\n\t\t\t\treturn this.dropComplete(table, data.row, data.success);\n\t\t}\n\t}\n}\n\nvar defaultMutators = {};\n\nclass Mutator extends Module{\n\n\tstatic moduleName = \"mutator\";\n\n\t//load defaults\n\tstatic mutators = defaultMutators;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"edit\", \"clipboard\", \"import\"]; //list of mutation types\n\t\tthis.enabled = true;\n\n\t\tthis.registerColumnOption(\"mutator\");\n\t\tthis.registerColumnOption(\"mutatorParams\");\n\t\tthis.registerColumnOption(\"mutatorData\");\n\t\tthis.registerColumnOption(\"mutatorDataParams\");\n\t\tthis.registerColumnOption(\"mutatorEdit\");\n\t\tthis.registerColumnOption(\"mutatorEditParams\");\n\t\tthis.registerColumnOption(\"mutatorClipboard\");\n\t\tthis.registerColumnOption(\"mutatorClipboardParams\");\n\t\tthis.registerColumnOption(\"mutatorImport\");\n\t\tthis.registerColumnOption(\"mutatorImportParams\");\n\t\tthis.registerColumnOption(\"mutateLink\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"cell-value-changing\", this.transformCell.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.mutateLink.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-init-before\", this.rowDataChanged.bind(this));\n\t\tthis.subscribe(\"row-data-changing\", this.rowDataChanged.bind(this));\n\t}\n\n\trowDataChanged(row, tempData, updatedData){\n\t\treturn this.transformRow(tempData, \"data\", updatedData);\n\t}\n\n\t//initialize column mutator\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\tmutator;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\tmutator = this.lookupMutator(column.definition[key]);\n\n\t\t\t\tif(mutator){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\tmutator:mutator,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.mutate = config;\n\t\t}\n\t}\n\n\tlookupMutator(value){\n\t\tvar mutator = false;\n\n\t\t//set column mutator\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Mutator.mutators[value]){\n\t\t\t\t\tmutator = Mutator.mutators[value];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Mutator Error - No such mutator found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tmutator = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn mutator;\n\t}\n\n\t//apply mutator to row\n\ttransformRow(data, type, updatedData){\n\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\tvalue;\n\n\t\t// console.log(\"key\", key)\n\n\t\tif(this.enabled){\n\n\t\t\tthis.table.columnManager.traverse((column) => {\n\t\t\t\tvar mutator, params, component;\n\n\t\t\t\tif(column.modules.mutate){\n\t\t\t\t\tmutator = column.modules.mutate[key] || column.modules.mutate.mutator || false;\n\n\t\t\t\t\tif(mutator){\n\t\t\t\t\t\tvalue = column.getFieldValue(typeof updatedData !== \"undefined\" ? updatedData : data);\n\n\t\t\t\t\t\tif((type == \"data\" && !updatedData)|| typeof value !== \"undefined\"){\n\t\t\t\t\t\t\tcomponent = column.getComponent();\n\t\t\t\t\t\t\tparams = typeof mutator.params === \"function\" ? mutator.params(value, data, type, component) : mutator.params;\n\t\t\t\t\t\t\tcolumn.setFieldValue(data, mutator.mutator(value, data, type, params, component));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//apply mutator to new cell value\n\ttransformCell(cell, value){\n\t\tif(cell.column.modules.mutate){\n\t\t\tvar mutator = cell.column.modules.mutate.mutatorEdit || cell.column.modules.mutate.mutator || false,\n\t\t\ttempData = {};\n\n\t\t\tif(mutator){\n\t\t\t\ttempData = Object.assign(tempData, cell.row.getData());\n\t\t\t\tcell.column.setFieldValue(tempData, value);\n\t\t\t\treturn mutator.mutator(value, tempData, \"edit\", mutator.params, cell.getComponent());\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tmutateLink(cell){\n\t\tvar links = cell.column.definition.mutateLink;\n\n\t\tif(links){\n\t\t\tif(!Array.isArray(links)){\n\t\t\t\tlinks = [links];\n\t\t\t}\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\tvar linkCell = cell.row.getCell(link);\n\n\t\t\t\tif(linkCell){\n\t\t\t\t\tlinkCell.setValue(linkCell.getValue(), true, true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tenable(){\n\t\tthis.enabled = true;\n\t}\n\n\tdisable(){\n\t\tthis.enabled = false;\n\t}\n}\n\nfunction rows(pageSize, currentRow, currentPage, totalRows, totalPages){\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|rows\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\n\tif(totalRows){\n\t\tvalueEl.innerHTML = \" \" + currentRow + \"-\" + Math.min((currentRow + pageSize - 1), totalRows) + \" \";\n\t\t\n\t\ttotalEl.innerHTML = \" \" + totalRows + \" \";\n\t\t\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(ofEl);\n\t\tel.appendChild(totalEl);\n\t\tel.appendChild(rowsEl);\n\t}else {\n\t\tvalueEl.innerHTML = \" 0 \";\n\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(rowsEl);\n\t}\n\t\n\treturn el;\n}\n\nfunction pages(pageSize, currentRow, currentPage, totalRows, totalPages){\n\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\t\n\tvalueEl.innerHTML = \" \" + currentPage + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\t\n\ttotalEl.innerHTML = \" \" + totalPages + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|pages\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\t\n\tel.appendChild(showingEl);\n\tel.appendChild(valueEl);\n\tel.appendChild(ofEl);\n\tel.appendChild(totalEl);\n\tel.appendChild(rowsEl);\n\t\n\treturn el;\n}\n\nvar defaultPageCounters = {\n\trows:rows,\n\tpages:pages,\n};\n\nclass Page extends Module{\n\n\tstatic moduleName = \"page\";\n\n\t//load defaults\n\tstatic pageCounters = defaultPageCounters;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.mode = \"local\";\n\t\tthis.progressiveLoad = false;\n\t\t\n\t\tthis.element = null;\n\t\tthis.pageCounterElement = null;\n\t\tthis.pageCounter = null;\n\t\t\n\t\tthis.size = 0;\n\t\tthis.page = 1;\n\t\tthis.count = 5;\n\t\tthis.max = 1;\n\n\t\tthis.remoteRowCountEstimate = null;\n\t\t\n\t\tthis.initialLoad = true;\n\t\tthis.dataChanging = false; //flag to check if data is being changed by this module\n\t\t\n\t\tthis.pageSizes = [];\n\t\t\n\t\tthis.registerTableOption(\"pagination\", false); //set pagination type\n\t\tthis.registerTableOption(\"paginationMode\", \"local\"); //local or remote pagination\n\t\tthis.registerTableOption(\"paginationSize\", false); //set number of rows to a page\n\t\tthis.registerTableOption(\"paginationInitialPage\", 1); //initial page to show on load\n\t\tthis.registerTableOption(\"paginationCounter\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationCounterElement\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationButtonCount\", 5);  // set count of page button\n\t\tthis.registerTableOption(\"paginationSizeSelector\", false); //add pagination size selector element\n\t\tthis.registerTableOption(\"paginationElement\", false); //element to hold pagination numbers\n\t\t// this.registerTableOption(\"paginationDataSent\", {}); //pagination data sent to the server\n\t\t// this.registerTableOption(\"paginationDataReceived\", {}); //pagination data received from the server\n\t\tthis.registerTableOption(\"paginationAddRow\", \"page\"); //add rows on table or page\n\t\tthis.registerTableOption(\"paginationOutOfRange\", false); //reset the current page when the last page < this.page, values: false|function|any value accepted by setPage()\n\t\t\n\t\tthis.registerTableOption(\"progressiveLoad\", false); //progressive loading\n\t\tthis.registerTableOption(\"progressiveLoadDelay\", 0); //delay between requests\n\t\tthis.registerTableOption(\"progressiveLoadScrollMargin\", 0); //margin before scroll begins\n\t\t\n\t\tthis.registerTableFunction(\"setMaxPage\", this.setMaxPage.bind(this));\n\t\tthis.registerTableFunction(\"setPage\", this.setPage.bind(this));\n\t\tthis.registerTableFunction(\"setPageToRow\", this.userSetPageToRow.bind(this));\n\t\tthis.registerTableFunction(\"setPageSize\", this.userSetPageSize.bind(this));\n\t\tthis.registerTableFunction(\"getPageSize\", this.getPageSize.bind(this));\n\t\tthis.registerTableFunction(\"previousPage\", this.previousPage.bind(this));\n\t\tthis.registerTableFunction(\"nextPage\", this.nextPage.bind(this));\n\t\tthis.registerTableFunction(\"getPage\", this.getPage.bind(this));\n\t\tthis.registerTableFunction(\"getPageMax\", this.getPageMax.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"pageTo\", this.setPageToRow.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"footer-redraw\", this.footerRedraw.bind(this));\n\n\t\t\tif(this.table.options.paginationAddRow == \"page\"){\n\t\t\t\tthis.subscribe(\"row-adding-position\", this.rowAddingPosition.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.paginationMode === \"remote\"){\n\t\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad){\n\t\t\t\tconsole.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.restOnRenderBefore.bind(this), 40);\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 50);\n\t\t\t\n\t\t\tthis.createElements();\n\t\t\tthis.initializePageCounter();\n\t\t\tthis.initializePaginator();\n\t\t}else if(this.table.options.progressiveLoad){\n\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\t\n\t\t\tthis.initializeProgressive(this.table.options.progressiveLoad);\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad === \"scroll\"){\n\t\t\t\tthis.subscribe(\"scroll-vertical\", this.scrollVertical.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowAddingPosition(row, top){\n\t\tvar rowManager = this.table.rowManager,\n\t\tdisplayRows = rowManager.getDisplayRows(),\n\t\tindex;\n\t\t\n\t\tif(top){\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[0];\n\t\t\t}else {\n\t\t\t\tif(rowManager.activeRows.length){\n\t\t\t\t\tindex = rowManager.activeRows[rowManager.activeRows.length-1];\n\t\t\t\t\ttop = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[displayRows.length - 1];\n\t\t\t\ttop = displayRows.length < this.size ? false : true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn {index, top};\n\t}\n\t\n\tcalculatePageSizes(){\n\t\tvar testElRow, testElCell;\n\t\t\n\t\tif(this.table.options.paginationSize){\n\t\t\tthis.size = this.table.options.paginationSize;\n\t\t}else {\n\t\t\ttestElRow = document.createElement(\"div\");\n\t\t\ttestElRow.classList.add(\"tabulator-row\");\n\t\t\ttestElRow.style.visibility = \"hidden\";\n\t\t\t\n\t\t\ttestElCell = document.createElement(\"div\");\n\t\t\ttestElCell.classList.add(\"tabulator-cell\");\n\t\t\ttestElCell.innerHTML = \"Page Row Test\";\n\t\t\t\n\t\t\ttestElRow.appendChild(testElCell);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().appendChild(testElRow);\n\t\t\t\n\t\t\tthis.size = Math.floor(this.table.rowManager.getElement().clientHeight / testElRow.offsetHeight);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().removeChild(testElRow);\n\t\t}\n\n\t\tthis.dispatchExternal(\"pageSizeChanged\", this.size);\n\t\t\n\t\tthis.generatePageSizeSelectList();\n\t}\n\t\n\tinitialLoadComplete(){\n\t\tthis.initialLoad = false;\n\t}\n\t\n\tremotePageParams(data, config, silent, params){\n\t\tif(!this.initialLoad){\n\t\t\tif((this.progressiveLoad && !silent) || (!this.progressiveLoad && !this.dataChanging)){\n\t\t\t\tthis.reset(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//configure request params\n\t\tparams.page = this.page;\n\t\t\n\t\t//set page size if defined\n\t\tif(this.size){\n\t\t\tparams.size = this.size;\n\t\t}\n\t\t\n\t\treturn params;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tuserSetPageToRow(row){\n\t\tif(this.table.options.pagination){\n\t\t\trow = this.table.rowManager.findRow(row);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\treturn this.setPageToRow(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Promise.reject();\n\t}\n\t\n\tuserSetPageSize(size){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.setPageSize(size);\n\t\t\treturn this.setPage(1);\n\t\t}else {\n\t\t\treturn false;\n\t\t}\n\t}\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tscrollVertical(top, dir){\n\t\tvar element, diff, margin;\n\t\tif(!dir && !this.table.dataLoader.loading){\n\t\t\telement = this.table.rowManager.getElement();\n\t\t\tdiff = element.scrollHeight - element.clientHeight - top;\n\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (element.clientHeight * 2);\n\t\t\t\n\t\t\tif(diff < margin){\n\t\t\t\tthis.nextPage()\n\t\t\t\t\t.catch(() => {}); //consume the exception thrown when on the last page\n\t\t\t}\n\t\t}\n\t}\n\t\n\trestOnRenderBefore(rows, renderInPosition){\n\t\tif(!renderInPosition){\n\t\t\tif(this.mode === \"local\"){\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(){\n\t\tthis.refreshData(true, \"all\");\n\t}\n\t\n\tcreateElements(){\n\t\tvar button;\n\t\t\n\t\tthis.element = document.createElement(\"span\");\n\t\tthis.element.classList.add(\"tabulator-paginator\");\n\t\t\n\t\tthis.pagesElement = document.createElement(\"span\");\n\t\tthis.pagesElement.classList.add(\"tabulator-pages\");\n\t\t\n\t\tbutton = document.createElement(\"button\");\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\tbutton.setAttribute(\"aria-label\", \"\");\n\t\tbutton.setAttribute(\"title\", \"\");\n\t\t\n\t\tthis.firstBut = button.cloneNode(true);\n\t\tthis.firstBut.setAttribute(\"data-page\", \"first\");\n\t\t\n\t\tthis.prevBut = button.cloneNode(true);\n\t\tthis.prevBut.setAttribute(\"data-page\", \"prev\");\n\t\t\n\t\tthis.nextBut = button.cloneNode(true);\n\t\tthis.nextBut.setAttribute(\"data-page\", \"next\");\n\t\t\n\t\tthis.lastBut = button.cloneNode(true);\n\t\tthis.lastBut.setAttribute(\"data-page\", \"last\");\n\t\t\n\t\tif(this.table.options.paginationSizeSelector){\n\t\t\tthis.pageSizeSelect = document.createElement(\"select\");\n\t\t\tthis.pageSizeSelect.classList.add(\"tabulator-page-size\");\n\t\t}\n\t}\n\t\n\tgeneratePageSizeSelectList(){\n\t\tvar pageSizes = [];\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t\n\t\t\tif(Array.isArray(this.table.options.paginationSizeSelector)){\n\t\t\t\tpageSizes = this.table.options.paginationSizeSelector;\n\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes.unshift(this.size);\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes = [];\n\t\t\t\t\t\n\t\t\t\t\tfor (let i = 1; i < 5; i++){\n\t\t\t\t\t\tpageSizes.push(this.size * i);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t}else {\n\t\t\t\t\tpageSizes = this.pageSizes;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\twhile(this.pageSizeSelect.firstChild) this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);\n\t\t\t\n\t\t\tpageSizes.forEach((item) => {\n\t\t\t\tvar itemEl = document.createElement(\"option\");\n\t\t\t\titemEl.value = item;\n\t\t\t\t\n\t\t\t\tif(item === true){\n\t\t\t\t\tthis.langBind(\"pagination|all\", function(value){\n\t\t\t\t\t\titemEl.innerHTML = value;\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\titemEl.innerHTML = item;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.appendChild(itemEl);\n\t\t\t});\n\t\t\t\n\t\t\tthis.pageSizeSelect.value = this.size;\n\t\t}\n\t}\n\t\n\tinitializePageCounter(){\n\t\tvar counter = this.table.options.paginationCounter,\n\t\tpageCounter = null;\n\t\t\n\t\tif(counter){\n\t\t\tif(typeof counter === \"function\"){\n\t\t\t\tpageCounter = counter;\n\t\t\t}else {\n\t\t\t\tpageCounter = Page.pageCounters[counter];\n\t\t\t}\n\t\t\t\n\t\t\tif(pageCounter){\n\t\t\t\tthis.pageCounter = pageCounter;\n\t\t\t\t\n\t\t\t\tthis.pageCounterElement = document.createElement(\"span\");\n\t\t\t\tthis.pageCounterElement.classList.add(\"tabulator-page-counter\");\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Pagination Error - No such page counter found: \", counter);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup pagination\n\tinitializePaginator(hidden){\n\t\tvar pageSelectLabel, paginationCounterHolder;\n\t\t\n\t\tif(!hidden){\n\t\t\t//build pagination element\n\t\t\t\n\t\t\t//bind localizations\n\t\t\tthis.langBind(\"pagination|first\", (value) => {\n\t\t\t\tthis.firstBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|first_title\", (value) => {\n\t\t\t\tthis.firstBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.firstBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev\", (value) => {\n\t\t\t\tthis.prevBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev_title\", (value) => {\n\t\t\t\tthis.prevBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.prevBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next\", (value) => {\n\t\t\t\tthis.nextBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next_title\", (value) => {\n\t\t\t\tthis.nextBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.nextBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last\", (value) => {\n\t\t\t\tthis.lastBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last_title\", (value) => {\n\t\t\t\tthis.lastBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.lastBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\t//click bindings\n\t\t\tthis.firstBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(1);\n\t\t\t});\n\t\t\t\n\t\t\tthis.prevBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.previousPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.nextBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.nextPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.lastBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(this.max);\n\t\t\t});\n\t\t\t\n\t\t\tif(this.table.options.paginationElement){\n\t\t\t\tthis.element = this.table.options.paginationElement;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.pageSizeSelect){\n\t\t\t\tpageSelectLabel = document.createElement(\"label\");\n\t\t\t\t\n\t\t\t\tthis.langBind(\"pagination|page_size\", (value) => {\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"aria-label\", value);\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"title\", value);\n\t\t\t\t\tpageSelectLabel.innerHTML = value;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.element.appendChild(pageSelectLabel);\n\t\t\t\tthis.element.appendChild(this.pageSizeSelect);\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.addEventListener(\"change\", (e) => {\n\t\t\t\t\tthis.setPageSize(this.pageSizeSelect.value == \"true\" ? true : this.pageSizeSelect.value);\n\t\t\t\t\tthis.setPage(1);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//append to DOM\n\t\t\tthis.element.appendChild(this.firstBut);\n\t\t\tthis.element.appendChild(this.prevBut);\n\t\t\tthis.element.appendChild(this.pagesElement);\n\t\t\tthis.element.appendChild(this.nextBut);\n\t\t\tthis.element.appendChild(this.lastBut);\n\t\t\t\n\t\t\tif(!this.table.options.paginationElement){\n\t\t\t\tif(this.table.options.paginationCounter){\n\n\t\t\t\t\tif(this.table.options.paginationCounterElement){\n\t\t\t\t\t\tif(this.table.options.paginationCounterElement instanceof HTMLElement){\n\t\t\t\t\t\t\tthis.table.options.paginationCounterElement.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t}else if(typeof this.table.options.paginationCounterElement === \"string\"){\n\t\t\t\t\t\t\tpaginationCounterHolder = document.querySelector(this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(paginationCounterHolder){\n\t\t\t\t\t\t\t\tpaginationCounterHolder.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tconsole.warn(\"Pagination Error - Unable to find element matching paginationCounterElement selector:\", this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.footerAppend(this.pageCounterElement);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.footerAppend(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.page = this.table.options.paginationInitialPage;\n\t\t\tthis.count = this.table.options.paginationButtonCount;\n\t\t}\n\t\t\n\t\t//set default values\n\t\tthis.mode = this.table.options.paginationMode;\n\t}\n\t\n\tinitializeProgressive(mode){\n\t\tthis.initializePaginator(true);\n\t\tthis.mode = \"progressive_\" + mode;\n\t\tthis.progressiveLoad = true;\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"page-changed\");\n\t}\n\t\n\t//calculate maximum page from number of rows\n\tsetMaxRows(rowCount){\n\t\tif(!rowCount){\n\t\t\tthis.max = 1;\n\t\t}else {\n\t\t\tthis.max = this.size === true ?  1 : Math.ceil(rowCount/this.size);\n\t\t}\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t}\n\t}\n\t\n\t//reset to first page without triggering action\n\treset(force){\n\t\tif(!this.initialLoad){\n\t\t\tif(this.mode == \"local\" || force){\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.trackChanges();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//set the maximum page\n\tsetMaxPage(max){\n\t\t\n\t\tmax = parseInt(max);\n\t\t\n\t\tthis.max = max || 1;\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t\tthis.trigger();\n\t\t}\n\t}\n\t\n\t//set current page number\n\tsetPage(page){\n\t\tswitch(page){\n\t\t\tcase \"first\":\n\t\t\t\treturn this.setPage(1);\n\t\n\t\t\tcase \"prev\":\n\t\t\t\treturn this.previousPage();\n\t\t\t\n\t\t\tcase \"next\":\n\t\t\t\treturn this.nextPage();\n\t\t\t\n\t\t\tcase \"last\":\n\t\t\t\treturn this.setPage(this.max);\n\t\t}\n\t\t\n\t\tpage = parseInt(page);\n\t\t\n\t\tif((page > 0 && page <= this.max) || this.mode !== \"local\"){\n\t\t\tthis.page = page;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t}else {\n\t\t\tconsole.warn(\"Pagination Error - Requested page is out of range of 1 - \" + this.max + \":\", page);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageToRow(row){\n\t\tvar rows = this.displayRows(-1);\n\t\tvar index = rows.indexOf(row);\n\t\n\t\tif(index > -1){\n\t\t\tvar page = this.size === true ? 1 : Math.ceil((index + 1) / this.size);\n\t\t\t\n\t\t\treturn this.setPage(page);\n\t\t}else {\n\t\t\tconsole.warn(\"Pagination Error - Requested row is not visible\");\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageSize(size){\n\t\tif(size !== true){\n\t\t\tsize = parseInt(size);\n\t\t}\n\n\t\tif(size > 0){\n\t\t\tthis.size = size;\n\t\t\tthis.dispatchExternal(\"pageSizeChanged\", size);\n\t\t}\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t// this.pageSizeSelect.value = size;\n\t\t\tthis.generatePageSizeSelectList();\n\t\t}\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\t_setPageCounter(totalRows, size, currentRow){\n\t\tvar content;\n\t\t\n\t\tif(this.pageCounter){\n\n\t\t\tif(this.mode === \"remote\"){\n\t\t\t\tsize = this.size;\n\t\t\t\tcurrentRow = ((this.page - 1) * this.size) + 1;\n\t\t\t\ttotalRows = this.remoteRowCountEstimate;\n\t\t\t}\n\n\t\t\tcontent = this.pageCounter.call(this, size, currentRow, this.page, totalRows, this.max);\n\t\t\t\n\t\t\tswitch(typeof content){\n\t\t\t\tcase \"object\":\n\t\t\t\t\tif(content instanceof Node){\n\t\t\t\t\t\n\t\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\t\twhile(this.pageCounterElement.firstChild) this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.pageCounterElement.appendChild(content);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\t\n\t\t\t\t\t\tif(content != null){\n\t\t\t\t\t\t\tconsole.warn(\"Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:\", content);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"undefined\":\n\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.pageCounterElement.innerHTML = content;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup the pagination buttons\n\t_setPageButtons(){\n\t\tlet leftSize = Math.floor((this.count-1) / 2);\n\t\tlet rightSize = Math.ceil((this.count-1) / 2);\n\t\tlet min = this.max - this.page + leftSize + 1 < this.count ? this.max-this.count+1: Math.max(this.page-leftSize,1);\n\t\tlet max = this.page <= rightSize? Math.min(this.count, this.max) :Math.min(this.page+rightSize, this.max);\n\t\t\n\t\twhile(this.pagesElement.firstChild) this.pagesElement.removeChild(this.pagesElement.firstChild);\n\t\t\n\t\tif(this.page == 1){\n\t\t\tthis.firstBut.disabled = true;\n\t\t\tthis.prevBut.disabled = true;\n\t\t}else {\n\t\t\tthis.firstBut.disabled = false;\n\t\t\tthis.prevBut.disabled = false;\n\t\t}\n\t\t\n\t\tif(this.page == this.max){\n\t\t\tthis.lastBut.disabled = true;\n\t\t\tthis.nextBut.disabled = true;\n\t\t}else {\n\t\t\tthis.lastBut.disabled = false;\n\t\t\tthis.nextBut.disabled = false;\n\t\t}\n\t\t\n\t\tfor(let i = min; i <= max; i++){\n\t\t\tif(i>0 && i <= this.max){\n\t\t\t\tthis.pagesElement.appendChild(this._generatePageButton(i));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.footerRedraw();\n\t}\n\t\n\t_generatePageButton(page){\n\t\tvar button = document.createElement(\"button\");\n\t\t\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tif(page == this.page){\n\t\t\tbutton.classList.add(\"active\");\n\t\t}\n\t\t\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\t\n\t\tthis.langBind(\"pagination|page_title\", (value) => {\n\t\t\tbutton.setAttribute(\"aria-label\", value + \" \" + page);\n\t\t\tbutton.setAttribute(\"title\", value + \" \" + page);\n\t\t});\n\t\t\n\t\tbutton.setAttribute(\"data-page\", page);\n\t\tbutton.textContent = page;\n\t\t\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\tthis.setPage(page);\n\t\t});\n\t\t\n\t\treturn button;\n\t}\n\t\n\t//previous page\n\tpreviousPage(){\n\t\tif(this.page > 1){\n\t\t\tthis.page--;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else {\n\t\t\tconsole.warn(\"Pagination Error - Previous page would be less than page 1:\", 0);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//next page\n\tnextPage(){\n\t\tif(this.page < this.max){\n\t\t\tthis.page++;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else {\n\t\t\tif(!this.progressiveLoad){\n\t\t\t\tconsole.warn(\"Pagination Error - Next page would be greater than maximum page of \" + this.max + \":\", this.max + 1);\n\t\t\t}\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//return current page number\n\tgetPage(){\n\t\treturn this.page;\n\t}\n\t\n\t//return max page number\n\tgetPageMax(){\n\t\treturn this.max;\n\t}\n\t\n\tgetPageSize(size){\n\t\treturn this.size;\n\t}\n\t\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\t\n\t//return appropriate rows for current page\n\tgetRows(data){\n\t\tvar actualRowPageSize = 0,\n\t\toutput, start, end, actualStartRow;\n\n\t\tvar actualRows = data.filter((row) => {\n\t\t\treturn row.type === \"row\";\n\t\t});\n\t\t\n\t\tif(this.mode == \"local\"){\n\t\t\toutput = [];\n\t\t\t\n\t\t\tthis.setMaxRows(data.length);\n\t\t\t\n\t\t\tif(this.size === true){\n\t\t\t\tstart = 0;\n\t\t\t\tend = data.length;\n\t\t\t}else {\n\t\t\t\tstart = this.size * (this.page - 1);\n\t\t\t\tend = start + parseInt(this.size);\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageButtons();\n\t\t\t\n\t\t\tfor(let i = start; i < end; i++){\n\t\t\t\tlet row = data[i];\n\n\t\t\t\tif(row){\n\t\t\t\t\toutput.push(row);\n\n\t\t\t\t\tif(row.type === \"row\"){\n\t\t\t\t\t\tif(!actualStartRow){\n\t\t\t\t\t\t\tactualStartRow = row;\n\t\t\t\t\t\t}\t\n\n\t\t\t\t\t\tactualRowPageSize++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageCounter(actualRows.length, actualRowPageSize, actualStartRow ? (actualRows.indexOf(actualStartRow) + 1) : 0);\n\t\t\t\n\t\t\treturn output;\n\t\t}else {\n\t\t\tthis._setPageButtons();\n\t\t\tthis._setPageCounter(actualRows.length);\n\t\t\t\n\t\t\treturn data.slice(0);\n\t\t}\n\t}\n\t\n\ttrigger(){\n\t\tvar left;\n\t\t\n\t\tswitch(this.mode){\n\t\t\tcase \"local\":\n\t\t\t\tleft = this.table.rowManager.scrollLeft;\n\t\t\t\n\t\t\t\tthis.refreshData();\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\", this.getPage());\n\t\t\t\n\t\t\t\treturn Promise.resolve();\n\t\t\t\n\t\t\tcase \"remote\":\n\t\t\t\tthis.dataChanging = true;\n\t\t\t\treturn this.reloadData(null)\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis.dataChanging = false;\n\t\t\t\t\t});\n\t\t\t\n\t\t\tcase \"progressive_load\":\n\t\t\tcase \"progressive_scroll\":\n\t\t\t\treturn this.reloadData(null, true);\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tconsole.warn(\"Pagination Error - no such pagination mode:\", this.mode);\n\t\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t_parseRemoteData(data){\n\t\tvar margin, paginationOutOfRange;\n\t\t\n\t\tif(typeof data.last_page === \"undefined\"){\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").last_page || \"last_page\") + \"' property\");\n\t\t}\n\t\t\n\t\tif(data.data){\n\t\t\tthis.max = parseInt(data.last_page) || 1;\n\n\t\t\tthis.remoteRowCountEstimate = typeof data.last_row !== \"undefined\" ? data.last_row : (data.last_page * this.size - (this.page == data.last_page ? (this.size - data.data.length) : 0));\n\t\t\t\n\t\t\tif(this.progressiveLoad){\n\t\t\t\tswitch(this.mode){\n\t\t\t\t\tcase \"progressive_load\":\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page == 1){\n\t\t\t\t\t\t\tthis.table.rowManager.setData(data.data, false, this.page == 1);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.table.rowManager.addRows(data.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t}, this.table.options.progressiveLoadDelay);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"progressive_scroll\":\n\t\t\t\t\t\tdata = this.page === 1 ? data.data : this.table.rowManager.getData().concat(data.data);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.table.rowManager.setData(data, this.page !== 1, this.page == 1);\n\t\t\t\t\t\n\t\t\t\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (this.table.rowManager.element.clientHeight * 2);\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.rowManager.element.scrollHeight <= (this.table.rowManager.element.clientHeight + margin)){\n\t\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn false;\n\t\t\t}else {\n\n\t\t\t\tif(this.page > this.max){\n\t\t\t\t\tconsole.warn( \"Remote Pagination Error - Server returned last page value lower than the current page\" );\n\n\t\t\t\t\tpaginationOutOfRange = this.options('paginationOutOfRange');\n\n\t\t\t\t\tif(paginationOutOfRange){\n\t\t\t\t\t\treturn this.setPage(typeof paginationOutOfRange === 'function' ? paginationOutOfRange.call(this, this.page, this.max) :\tpaginationOutOfRange);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// left = this.table.rowManager.scrollLeft;\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\",  this.getPage());\n\t\t\t\t// this.table.rowManager.scrollHorizontal(left);\n\t\t\t\t// this.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t\t\n\t\t}else {\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").data || \"data\") + \"' property\");\n\t\t}\n\t\t\n\t\treturn data.data;\n\t}\n\t\n\t//handle the footer element being redrawn\n\tfooterRedraw(){\n\t\tvar footer = this.table.footerManager.containerElement;\n\n\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\tthis.pagesElement.style.display = 'none';\n\t\t}else {\n\t\t\tthis.pagesElement.style.display = '';\n\t\t\t\n\t\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\t\tthis.pagesElement.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n}\n\n// read persistance information from storage\nvar defaultReaders = {\n\tlocal:function(id, type){\n\t\tvar data = localStorage.getItem(id + \"-\" + type);\n\n\t\treturn data ? JSON.parse(data) : false;\n\t},\n\tcookie:function(id, type){\n\t\tvar cookie = document.cookie,\n\t\tkey = id + \"-\" + type,\n\t\tcookiePos = cookie.indexOf(key + \"=\"),\n\t\tend, data;\n\n\t\t//if cookie exists, decode and load column data into tabulator\n\t\tif(cookiePos > -1){\n\t\t\tcookie = cookie.slice(cookiePos);\n\n\t\t\tend = cookie.indexOf(\";\");\n\n\t\t\tif(end > -1){\n\t\t\t\tcookie = cookie.slice(0, end);\n\t\t\t}\n\n\t\t\tdata = cookie.replace(key + \"=\", \"\");\n\t\t}\n\n\t\treturn data ? JSON.parse(data) : false;\n\t}\n};\n\n//write persistence information to storage\nvar defaultWriters = {\n\tlocal:function(id, type, data){\n\t\tlocalStorage.setItem(id + \"-\" + type, JSON.stringify(data));\n\t},\n\tcookie:function(id, type, data){\n\t\tvar expireDate = new Date();\n\n\t\texpireDate.setDate(expireDate.getDate() + 10000);\n\n\t\tdocument.cookie = id + \"-\" + type + \"=\" + JSON.stringify(data) + \"; expires=\" + expireDate.toUTCString();\n\t}\n};\n\nclass Persistence extends Module{\n\n\tstatic moduleName = \"persistence\";\n\n\tstatic moduleInitOrder = -10;\n\n\t//load defaults\n\tstatic readers = defaultReaders;\n\tstatic writers = defaultWriters;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = \"\";\n\t\tthis.id = \"\";\n\t\t// this.persistProps = [\"field\", \"width\", \"visible\"];\n\t\tthis.defWatcherBlock = false;\n\t\tthis.config = {};\n\t\tthis.readFunc = false;\n\t\tthis.writeFunc = false;\n\n\t\tthis.registerTableOption(\"persistence\", false);\n\t\tthis.registerTableOption(\"persistenceID\", \"\"); //key for persistent storage\n\t\tthis.registerTableOption(\"persistenceMode\", true); //mode for storing persistence information\n\t\tthis.registerTableOption(\"persistenceReaderFunc\", false); //function for handling persistence data reading\n\t\tthis.registerTableOption(\"persistenceWriterFunc\", false); //function for handling persistence data writing\n\t}\n\n\t// Test for whether localStorage is available for use.\n\tlocalStorageTest() {\n\t\tvar  testKey =  \"_tabulator_test\";\n\n\t\ttry {\n\t\t\twindow.localStorage.setItem( testKey, testKey);\n\t\t\twindow.localStorage.removeItem( testKey );\n\t\t\treturn true;\n\t\t} catch(e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//setup parameters\n\tinitialize(){\n\t\tif(this.table.options.persistence){\n\t\t\t//determine persistent layout storage type\n\t\t\tvar mode = this.table.options.persistenceMode,\n\t\t\tid = this.table.options.persistenceID,\n\t\t\tretrievedData;\n\n\t\t\tthis.mode = mode !== true ?  mode : (this.localStorageTest() ? \"local\" : \"cookie\");\n\n\t\t\tif(this.table.options.persistenceReaderFunc){\n\t\t\t\tif(typeof this.table.options.persistenceReaderFunc === \"function\"){\n\t\t\t\t\tthis.readFunc = this.table.options.persistenceReaderFunc;\n\t\t\t\t}else {\n\t\t\t\t\tif(Persistence.readers[this.table.options.persistenceReaderFunc]){\n\t\t\t\t\t\tthis.readFunc = Persistence.readers[this.table.options.persistenceReaderFunc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.table.options.persistenceReaderFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(Persistence.readers[this.mode]){\n\t\t\t\t\tthis.readFunc = Persistence.readers[this.mode];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.table.options.persistenceWriterFunc){\n\t\t\t\tif(typeof this.table.options.persistenceWriterFunc === \"function\"){\n\t\t\t\t\tthis.writeFunc = this.table.options.persistenceWriterFunc;\n\t\t\t\t}else {\n\t\t\t\t\tif(Persistence.writers[this.table.options.persistenceWriterFunc]){\n\t\t\t\t\t\tthis.writeFunc = Persistence.writers[this.table.options.persistenceWriterFunc];\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid reader set\", this.table.options.persistenceWriterFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(Persistence.writers[this.mode]){\n\t\t\t\t\tthis.writeFunc = Persistence.writers[this.mode];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid writer set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//set storage tag\n\t\t\tthis.id = \"tabulator-\" + (id || (this.table.element.getAttribute(\"id\") || \"\"));\n\n\t\t\tthis.config = {\n\t\t\t\tsort:this.table.options.persistence === true || this.table.options.persistence.sort,\n\t\t\t\tfilter:this.table.options.persistence === true || this.table.options.persistence.filter,\n\t\t\t\theaderFilter:this.table.options.persistence === true || this.table.options.persistence.headerFilter,\n\t\t\t\tgroup:this.table.options.persistence === true || this.table.options.persistence.group,\n\t\t\t\tpage:this.table.options.persistence === true || this.table.options.persistence.page,\n\t\t\t\tcolumns:this.table.options.persistence === true ? [\"title\", \"width\", \"visible\"] : this.table.options.persistence.columns,\n\t\t\t};\n\n\t\t\t//load pagination data if needed\n\t\t\tif(this.config.page){\n\t\t\t\tretrievedData = this.retrieveData(\"page\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.paginationSize !== \"undefined\" && (this.config.page === true || this.config.page.size)){\n\t\t\t\t\t\tthis.table.options.paginationSize = retrievedData.paginationSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof retrievedData.paginationInitialPage !== \"undefined\" && (this.config.page === true || this.config.page.page)){\n\t\t\t\t\t\tthis.table.options.paginationInitialPage = retrievedData.paginationInitialPage;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//load group data if needed\n\t\t\tif(this.config.group){\n\t\t\t\tretrievedData = this.retrieveData(\"group\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.groupBy !== \"undefined\" && (this.config.group === true || this.config.group.groupBy)){\n\t\t\t\t\t\tthis.table.options.groupBy = retrievedData.groupBy;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupStartOpen !== \"undefined\" && (this.config.group === true || this.config.group.groupStartOpen)){\n\t\t\t\t\t\tthis.table.options.groupStartOpen = retrievedData.groupStartOpen;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupHeader !== \"undefined\" && (this.config.group === true || this.config.group.groupHeader)){\n\t\t\t\t\t\tthis.table.options.groupHeader = retrievedData.groupHeader;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.config.columns){\n\t\t\t\tthis.table.options.columns = this.load(\"columns\", this.table.options.columns);\n\t\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\t\tthis.subscribe(\"column-show\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-hide\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-moved\", this.save.bind(this, \"columns\"));\n\t\t\t}\n\n\t\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this), 0);\n\n\t\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"filter\"));\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"headerFilter\"));\n\t\t\tthis.subscribe(\"sort-changed\", this.eventSave.bind(this, \"sort\"));\n\t\t\tthis.subscribe(\"group-changed\", this.eventSave.bind(this, \"group\"));\n\t\t\tthis.subscribe(\"page-changed\", this.eventSave.bind(this, \"page\"));\n\t\t\tthis.subscribe(\"column-resized\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"column-width\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"layout-refreshed\", this.eventSave.bind(this, \"columns\"));\n\t\t}\n\n\t\tthis.registerTableFunction(\"getColumnLayout\", this.getColumnLayout.bind(this));\n\t\tthis.registerTableFunction(\"setColumnLayout\", this.setColumnLayout.bind(this));\n\t}\n\n\teventSave(type){\n\t\tif(this.config[type]){\n\t\t\tthis.save(type);\n\t\t}\n\t}\n\n\ttableBuilt(){\n\t\tvar sorters, filters, headerFilters;\n\n\t\tif(this.config.sort){\n\t\t\tsorters = this.load(\"sort\");\n\n\t\t\tif(!sorters === false){\n\t\t\t\tthis.table.options.initialSort = sorters;\n\t\t\t}\n\t\t}\n\n\t\tif(this.config.filter){\n\t\t\tfilters = this.load(\"filter\");\n\n\t\t\tif(!filters === false){\n\t\t\t\tthis.table.options.initialFilter = filters;\n\t\t\t}\n\t\t}\n\t\tif(this.config.headerFilter){\n\t\t\theaderFilters = this.load(\"headerFilter\");\n\n\t\t\tif(!headerFilters === false){\n\t\t\t\tthis.table.options.initialHeaderFilter = headerFilters;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\ttableRedraw(force){\n\t\tif(force && this.config.columns){\n\t\t\tthis.save(\"columns\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tgetColumnLayout(){\n\t\treturn this.parseColumns(this.table.columnManager.getColumns());\n\t}\n\n\tsetColumnLayout(layout){\n\t\tthis.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns, layout, true));\n\t\treturn true;\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumn(column){\n\t\tvar def, keys;\n\n\t\tif(this.config.columns){\n\t\t\tthis.defWatcherBlock = true;\n\n\t\t\tdef = column.getDefinition();\n\n\t\t\tkeys = this.config.columns === true ? Object.keys(def) : this.config.columns;\n\n\t\t\tkeys.forEach((key)=>{\n\t\t\t\tvar props = Object.getOwnPropertyDescriptor(def, key);\n\t\t\t\tvar value = def[key];\n\n\t\t\t\tif(props){\n\t\t\t\t\tObject.defineProperty(def, key, {\n\t\t\t\t\t\tset: (newValue) => {\n\t\t\t\t\t\t\tvalue = newValue;\n\n\t\t\t\t\t\t\tif(!this.defWatcherBlock){\n\t\t\t\t\t\t\t\tthis.save(\"columns\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(props.set){\n\t\t\t\t\t\t\t\tprops.set(newValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget:() => {\n\t\t\t\t\t\t\tif(props.get){\n\t\t\t\t\t\t\t\tprops.get();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.defWatcherBlock = false;\n\t\t}\n\t}\n\n\t//load saved definitions\n\tload(type, current){\n\t\tvar data = this.retrieveData(type);\n\n\t\tif(current){\n\t\t\tdata = data ? this.mergeDefinition(current, data) : current;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//retrieve data from memory\n\tretrieveData(type){\n\t\treturn this.readFunc ? this.readFunc(this.id, type) : false;\n\t}\n\n\t//merge old and new column definitions\n\tmergeDefinition(oldCols, newCols, mergeAllNew){\n\t\tvar output = [];\n\n\t\tnewCols = newCols || [];\n\n\t\tnewCols.forEach((column, to) => {\n\t\t\tvar from = this._findColumn(oldCols, column),\n\t\t\tkeys;\n\n\t\t\tif(from){\n\t\t\t\tif(mergeAllNew){\n\t\t\t\t\tkeys = Object.keys(column);\n\t\t\t\t}else if(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(from);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t}else {\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tif(key !== \"columns\" && typeof column[key] !== \"undefined\"){\n\t\t\t\t\t\tfrom[key] = column[key];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(from.columns){\n\t\t\t\t\tfrom.columns = this.mergeDefinition(from.columns, column.columns);\n\t\t\t\t}\n\n\t\t\t\toutput.push(from);\n\t\t\t}\n\t\t});\n\n\t\toldCols.forEach((column, i) => {\n\t\t\tvar from = this._findColumn(newCols, column);\n\n\t\t\tif (!from) {\n\t\t\t\tif(output.length>i){\n\t\t\t\t\toutput.splice(i, 0, column);\n\t\t\t\t}else {\n\t\t\t\t\toutput.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//find matching columns\n\t_findColumn(columns, subject){\n\t\tvar type = subject.columns ? \"group\" : (subject.field ? \"field\" : \"object\");\n\n\t\treturn columns.find(function(col){\n\t\t\tswitch(type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn col.title === subject.title && col.columns.length === subject.columns.length;\n\n\t\t\t\tcase \"field\":\n\t\t\t\t\treturn col.field === subject.field;\n\n\t\t\t\tcase \"object\":\n\t\t\t\t\treturn col === subject;\n\t\t\t}\n\t\t});\n\t}\n\n\t//save data\n\tsave(type){\n\t\tvar data = {};\n\n\t\tswitch(type){\n\t\t\tcase \"columns\":\n\t\t\t\tdata = this.parseColumns(this.table.columnManager.getColumns());\n\t\t\t\tbreak;\n\n\t\t\tcase \"filter\":\n\t\t\t\tdata = this.table.modules.filter.getFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"headerFilter\":\n\t\t\t\tdata = this.table.modules.filter.getHeaderFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"sort\":\n\t\t\t\tdata = this.validateSorters(this.table.modules.sort.getSort());\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tdata = this.getGroupConfig();\n\t\t\t\tbreak;\n\n\t\t\tcase \"page\":\n\t\t\t\tdata = this.getPageConfig();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(this.writeFunc){\n\t\t\tthis.writeFunc(this.id, type, data);\n\t\t}\n\n\t}\n\n\t//ensure sorters contain no function data\n\tvalidateSorters(data){\n\t\tdata.forEach(function(item){\n\t\t\titem.column = item.field;\n\t\t\tdelete item.field;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tgetGroupConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.group){\n\t\t\tif(this.config.group === true || this.config.group.groupBy){\n\t\t\t\tdata.groupBy = this.table.options.groupBy;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupStartOpen){\n\t\t\t\tdata.groupStartOpen = this.table.options.groupStartOpen;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupHeader){\n\t\t\t\tdata.groupHeader = this.table.options.groupHeader;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tgetPageConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.page){\n\t\t\tif(this.config.page === true || this.config.page.size){\n\t\t\t\tdata.paginationSize = this.table.modules.page.getPageSize();\n\t\t\t}\n\n\t\t\tif(this.config.page === true || this.config.page.page){\n\t\t\t\tdata.paginationInitialPage = this.table.modules.page.getPage();\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\n\t//parse columns for data to store\n\tparseColumns(columns){\n\t\tvar definitions = [],\n\t\texcludedKeys = [\"headerContextMenu\", \"headerMenu\", \"contextMenu\", \"clickMenu\"];\n\n\t\tcolumns.forEach((column) => {\n\t\t\tvar defStore = {},\n\t\t\tcolDef = column.getDefinition(),\n\t\t\tkeys;\n\n\t\t\tif(column.isGroup){\n\t\t\t\tdefStore.title = colDef.title;\n\t\t\t\tdefStore.columns = this.parseColumns(column.getColumns());\n\t\t\t}else {\n\t\t\t\tdefStore.field = column.getField();\n\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(colDef);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t\tkeys.push(\"visible\");\n\t\t\t\t}else {\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tswitch(key){\n\t\t\t\t\t\tcase \"width\":\n\t\t\t\t\t\t\tdefStore.width = column.getWidth();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"visible\":\n\t\t\t\t\t\t\tdefStore.visible = column.visible;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif(typeof colDef[key] !== \"function\" && excludedKeys.indexOf(key) === -1){\n\t\t\t\t\t\t\t\tdefStore[key] = colDef[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdefinitions.push(defStore);\n\t\t});\n\n\t\treturn definitions;\n\t}\n}\n\nclass Popup extends Module{\n\t\n\tstatic moduleName = \"popup\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"rowContextPopup\", false);\n\t\tthis.registerTableOption(\"rowClickPopup\", false);\n\t\tthis.registerTableOption(\"rowDblClickPopup\", false);\n\t\tthis.registerTableOption(\"groupContextPopup\", false);\n\t\tthis.registerTableOption(\"groupClickPopup\", false);\n\t\tthis.registerTableOption(\"groupDblClickPopup\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextPopup\");\n\t\tthis.registerColumnOption(\"headerClickPopup\");\n\t\tthis.registerColumnOption(\"headerDblClickPopup\");\n\t\tthis.registerColumnOption(\"headerPopup\");\n\t\tthis.registerColumnOption(\"headerPopupIcon\");\n\t\tthis.registerColumnOption(\"contextPopup\");\n\t\tthis.registerColumnOption(\"clickPopup\");\n\t\tthis.registerColumnOption(\"dblClickPopup\");\n\n\t\tthis.registerComponentFunction(\"cell\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"group\", \"popup\", this._componentPopupCall.bind(this));\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\t_componentPopupCall(component, contents, position){\n\t\tthis.loadPopupEvent(contents, null, component, position);\n\t}\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextPopup){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickPopup){\n\t\t\tthis.subscribe(\"row-click\", this.loadPopupEvent.bind(this, this.table.options.rowClickPopup));\n\t\t}\n\n\t\tif(this.table.options.rowDblClickPopup){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadPopupEvent.bind(this, this.table.options.rowDblClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextPopup){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickPopup){\n\t\t\tthis.subscribe(\"group-click\", this.loadPopupEvent.bind(this, this.table.options.groupClickPopup));\n\t\t}\n\n\t\tif(this.table.options.groupDblClickPopup){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadPopupEvent.bind(this, this.table.options.groupDblClickPopup));\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextPopup && !this.columnSubscribers.headerContextPopup){\n\t\t\tthis.columnSubscribers.headerContextPopup = this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextPopup);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickPopup && !this.columnSubscribers.headerClickPopup){\n\t\t\tthis.columnSubscribers.headerClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerClickPopup\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickPopup);\n\t\t\n\t\t\n\t\t}if(def.headerDblClickPopup && !this.columnSubscribers.headerDblClickPopup){\n\t\t\tthis.columnSubscribers.headerDblClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerDblClickPopup\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickPopup);\n\t\t}\n\t\t\n\t\tif(def.headerPopup){\n\t\t\tthis.initializeColumnHeaderPopup(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextPopup && !this.columnSubscribers.contextPopup){\n\t\t\tthis.columnSubscribers.contextPopup = this.loadPopupTableCellEvent.bind(this, \"contextPopup\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextPopup);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadPopupTableCellEvent.bind(this, \"contextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.clickPopup && !this.columnSubscribers.clickPopup){\n\t\t\tthis.columnSubscribers.clickPopup = this.loadPopupTableCellEvent.bind(this, \"clickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickPopup);\n\t\t}\n\n\t\tif(def.dblClickPopup && !this.columnSubscribers.dblClickPopup){\n\t\t\tthis.columnSubscribers.dblClickPopup = this.loadPopupTableCellEvent.bind(this, \"dblClickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.dblClickPopup);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderPopup(column){\n\t\tvar icon = column.definition.headerPopupIcon,\n\t\theaderPopupEl;\n\t\t\n\t\theaderPopupEl = document.createElement(\"span\");\n\t\theaderPopupEl.classList.add(\"tabulator-header-popup-button\");\n\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderPopupEl.appendChild(icon);\n\t\t\t}else {\n\t\t\t\theaderPopupEl.innerHTML = icon;\n\t\t\t}\n\t\t}else {\n\t\t\theaderPopupEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderPopupEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadPopupEvent(column.definition.headerPopup, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerPopupEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadPopupTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadPopupEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadPopupTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadPopupEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadPopupEvent(contents, e, component, position){\n\t\tvar renderedCallback;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tcontents = typeof contents == \"function\" ? contents.call(this.table, e, component.getComponent(),  onRendered) : contents;\n\t\t\n\t\tthis.loadPopup(e, component, contents, renderedCallback, position);\n\t}\n\t\n\tloadPopup(e, component, contents, renderedCallback, position){\n\t\tvar touch = !(e instanceof MouseEvent),\n\t\tcontentsEl, popup;\n\t\t\n\t\tif(contents instanceof HTMLElement){\n\t\t\tcontentsEl = contents;\n\t\t}else {\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\tcontentsEl.innerHTML = contents;\n\t\t}\n\t\t\n\t\tcontentsEl.classList.add(\"tabulator-popup\");\n\n\t\tcontentsEl.addEventListener(\"click\", (e) =>{\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\tpopup = this.popup(contentsEl);\n\n\t\tif(typeof renderedCallback === \"function\"){\n\t\t\tpopup.renderCallback(renderedCallback);\n\t\t}\n\n\t\tif(e){\n\t\t\tpopup.show(e);\n\t\t}else {\n\t\t\tpopup.show(component.getElement(), position || \"center\");\n\t\t}\n\n\t\t\n\t\tpopup.hideOnBlur(() => {\n\t\t\tthis.dispatchExternal(\"popupClosed\", component.getComponent());\n\t\t});\n\n\t\tthis.dispatchExternal(\"popupOpened\", component.getComponent());\n\t}\n}\n\nclass Print extends Module{\n\n\tstatic moduleName = \"print\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.element = false;\n\t\tthis.manualBlock = false;\n\t\tthis.beforeprintEventHandler = null;\n\t\tthis.afterprintEventHandler = null;\n\n\t\tthis.registerTableOption(\"printAsHtml\", false); //enable print as html\n\t\tthis.registerTableOption(\"printFormatter\", false); //printing page formatter\n\t\tthis.registerTableOption(\"printHeader\", false); //page header contents\n\t\tthis.registerTableOption(\"printFooter\", false); //page footer contents\n\t\tthis.registerTableOption(\"printStyled\", true); //enable print as html styling\n\t\tthis.registerTableOption(\"printRowRange\", \"visible\"); //restrict print to visible rows only\n\t\tthis.registerTableOption(\"printConfig\", {}); //print config options\n\n\t\tthis.registerColumnOption(\"print\");\n\t\tthis.registerColumnOption(\"titlePrint\");\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\tthis.beforeprintEventHandler = this.replaceTable.bind(this);\n\t\t\tthis.afterprintEventHandler = this.cleanup.bind(this);\n\n\t\t\twindow.addEventListener(\"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.addEventListener(\"afterprint\", this.afterprintEventHandler);\n\t\t\tthis.subscribe(\"table-destroy\", this.destroy.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"print\", this.printFullscreen.bind(this));\n\t}\n\n\tdestroy(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\twindow.removeEventListener( \"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.removeEventListener( \"afterprint\", this.afterprintEventHandler );\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\treplaceTable(){\n\t\tif(!this.manualBlock){\n\t\t\tthis.element = document.createElement(\"div\");\n\t\t\tthis.element.classList.add(\"tabulator-print-table\");\n\n\t\t\tthis.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig, this.table.options.printStyled, this.table.options.printRowRange, \"print\"));\n\n\t\t\tthis.table.element.style.display = \"none\";\n\n\t\t\tthis.table.element.parentNode.insertBefore(this.element, this.table.element);\n\t\t}\n\t}\n\n\tcleanup(){\n\t\tdocument.body.classList.remove(\"tabulator-print-fullscreen-hide\");\n\n\t\tif(this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\tthis.table.element.style.display = \"\";\n\t\t}\n\t}\n\n\tprintFullscreen(visible, style, config){\n\t\tvar scrollX = window.scrollX,\n\t\tscrollY = window.scrollY,\n\t\theaderEl = document.createElement(\"div\"),\n\t\tfooterEl = document.createElement(\"div\"),\n\t\ttableEl = this.table.modules.export.generateTable(typeof config != \"undefined\" ? config : this.table.options.printConfig, typeof style != \"undefined\" ? style : this.table.options.printStyled, visible || this.table.options.printRowRange, \"print\"),\n\t\theaderContent, footerContent;\n\n\t\tthis.manualBlock = true;\n\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-print-fullscreen\");\n\n\t\tif(this.table.options.printHeader){\n\t\t\theaderEl.classList.add(\"tabulator-print-header\");\n\n\t\t\theaderContent = typeof this.table.options.printHeader == \"function\" ? this.table.options.printHeader.call(this.table) : this.table.options.printHeader;\n\n\t\t\tif(typeof headerContent == \"string\"){\n\t\t\t\theaderEl.innerHTML = headerContent;\n\t\t\t}else {\n\t\t\t\theaderEl.appendChild(headerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(headerEl);\n\t\t}\n\n\t\tthis.element.appendChild(tableEl);\n\n\t\tif(this.table.options.printFooter){\n\t\t\tfooterEl.classList.add(\"tabulator-print-footer\");\n\n\t\t\tfooterContent = typeof this.table.options.printFooter == \"function\" ? this.table.options.printFooter.call(this.table) : this.table.options.printFooter;\n\n\n\t\t\tif(typeof footerContent == \"string\"){\n\t\t\t\tfooterEl.innerHTML = footerContent;\n\t\t\t}else {\n\t\t\t\tfooterEl.appendChild(footerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(footerEl);\n\t\t}\n\n\t\tdocument.body.classList.add(\"tabulator-print-fullscreen-hide\");\n\t\tdocument.body.appendChild(this.element);\n\n\t\tif(this.table.options.printFormatter){\n\t\t\tthis.table.options.printFormatter(this.element, tableEl);\n\t\t}\n\n\t\twindow.print();\n\n\t\tthis.cleanup();\n\n\t\twindow.scrollTo(scrollX, scrollY);\n\n\t\tthis.manualBlock = false;\n\t}\n}\n\nclass ReactiveData extends Module{\n\n\tstatic moduleName = \"reactiveData\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.data = false;\n\t\tthis.blocked = false; //block reactivity while performing update\n\t\tthis.origFuncs = {}; // hold original data array functions to allow replacement after data is done with\n\t\tthis.currentVersion = 0;\n\t\t\n\t\tthis.registerTableOption(\"reactiveData\", false); //enable data reactivity\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.reactiveData){\n\t\t\tthis.subscribe(\"cell-value-save-before\", this.block.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"cell-value-save-after\", this.unblock.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"row-data-save-before\", this.block.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-save-after\", this.unblock.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-init-after\", this.watchRow.bind(this));\n\t\t\tthis.subscribe(\"data-processing\", this.watchData.bind(this));\n\t\t\tthis.subscribe(\"table-destroy\", this.unwatchData.bind(this));\n\t\t}\n\t}\n\t\n\twatchData(data){\n\t\tvar self = this,\n\t\tversion;\n\t\t\n\t\tthis.currentVersion ++;\n\t\t\n\t\tversion = this.currentVersion;\n\t\t\n\t\tthis.unwatchData();\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\t//override array push function\n\t\tthis.origFuncs.push = data.push;\n\t\t\n\t\tObject.defineProperty(this.data, \"push\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\t\n\t\t\t\t\tself.block(\"data-push\");\n\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, false);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.push.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-push\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array unshift function\n\t\tthis.origFuncs.unshift = data.unshift;\n\t\t\n\t\tObject.defineProperty(this.data, \"unshift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-unshift\");\n\t\t\t\t\t\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, true);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.unshift.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-unshift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array shift function\n\t\tthis.origFuncs.shift = data.shift;\n\t\t\n\t\tObject.defineProperty(this.data, \"shift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-shift\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[0]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.shift.call(data);\n\n\t\t\t\t\tself.unblock(\"data-shift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array pop function\n\t\tthis.origFuncs.pop = data.pop;\n\t\t\n\t\tObject.defineProperty(this.data, \"pop\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-pop\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[self.data.length - 1]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.pop.call(data);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-pop\");\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array splice function\n\t\tthis.origFuncs.splice = data.splice;\n\t\t\n\t\tObject.defineProperty(this.data, \"splice\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tstart = args[0] < 0 ? data.length + args[0] : args[0],\n\t\t\t\tend = args[1],\n\t\t\t\tnewRows = args[2] ? args.slice(2) : false,\n\t\t\t\tstartRow, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-splice\");\n\t\t\t\t\t//add new rows\n\t\t\t\t\tif(newRows){\n\t\t\t\t\t\tstartRow = data[start] ? self.table.rowManager.getRowFromDataObject(data[start]) : false;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(startRow){\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, startRow, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tnewRows = newRows.slice().reverse();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, false, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//delete removed rows\n\t\t\t\t\tif(end !== 0){\n\t\t\t\t\t\tvar oldRows = data.slice(start, typeof args[1] === \"undefined\" ? args[1] : start + end);\n\t\t\t\t\t\t\n\t\t\t\t\t\toldRows.forEach((rowData, i) => {\n\t\t\t\t\t\t\tvar row = self.table.rowManager.getRowFromDataObject(rowData);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\t\trow.deleteActual(i !== oldRows.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(newRows || end !== 0){\n\t\t\t\t\t\tself.table.rowManager.reRenderInPosition();\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.splice.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-splice\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result ;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchData(){\n\t\tif(this.data !== false){\n\t\t\tfor(var key in this.origFuncs){\n\t\t\t\tObject.defineProperty(this.data, key, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable:true,\n\t\t\t\t\twritable:true,\n\t\t\t\t\tvalue: this.origFuncs.key,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\twatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tthis.watchKey(row, data, key);\n\t\t}\n\t\t\n\t\tif(this.table.options.dataTree){\n\t\t\tthis.watchTreeChildren(row);\n\t\t}\n\t}\n\t\n\twatchTreeChildren (row){\n\t\tvar self = this,\n\t\tchildField = row.getData()[this.table.options.dataTreeChildField],\n\t\torigFuncs = {};\n\t\t\n\t\tif(childField){\n\t\t\t\n\t\t\torigFuncs.push = childField.push;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"push\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-push\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result = origFuncs.push.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-push\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.unshift = childField.unshift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"unshift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-unshift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.unshift.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-unshift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.shift = childField.shift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"shift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-shift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.shift.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-shift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.pop = childField.pop;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"pop\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-pop\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.pop.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-pop\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.splice = childField.splice;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"splice\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-splice\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.splice.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-splice\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\trebuildTree(row){\n\t\tthis.table.modules.dataTree.initializeRow(row);\n\t\tthis.table.modules.dataTree.layoutRow(row);\n\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n\t}\n\t\n\twatchKey(row, data, key){\n\t\tvar self = this,\n\t\tprops = Object.getOwnPropertyDescriptor(data, key),\n\t\tvalue = data[key],\n\t\tversion = this.currentVersion;\n\t\t\n\t\tObject.defineProperty(data, key, {\n\t\t\tset: (newValue) => {\n\t\t\t\tvalue = newValue;\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"key\");\n\t\t\t\t\t\n\t\t\t\t\tvar update = {};\n\t\t\t\t\tupdate[key] = newValue;\n\t\t\t\t\trow.updateData(update);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"key\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(props.set){\n\t\t\t\t\tprops.set(newValue);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget:() => {\n\t\t\t\t\n\t\t\t\tif(props.get){\n\t\t\t\t\tprops.get();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn value;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tObject.defineProperty(data, key, {\n\t\t\t\tvalue:data[key],\n\t\t\t});\n\t\t}\n\t}\n\t\n\tblock(key){\n\t\tif(!this.blocked){\n\t\t\tthis.blocked = key;\n\t\t}\n\t}\n\t\n\tunblock(key){\n\t\tif(this.blocked === key){\n\t\t\tthis.blocked = false;\n\t\t}\n\t}\n}\n\nclass ResizeColumns extends Module{\n\n\tstatic moduleName = \"resizeColumns\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.startColumn = false;\n\t\tthis.startX = false;\n\t\tthis.startWidth = false;\n\t\tthis.latestX = false;\n\t\tthis.handle = null;\n\t\tthis.initialNextColumn = null;\n\t\tthis.nextColumn = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.registerColumnOption(\"resizable\", true);\n\t\tthis.registerTableOption(\"resizableColumnFit\", false);\n\t\tthis.registerTableOption(\"resizableColumnGuide\", false);\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"column-rendered\", this.layoutColumnHeader.bind(this));\n\t}\n\t\n\tinitializeEventWatchers(){\n\t\tif(!this.initialized){\n\t\t\t\n\t\t\tthis.subscribe(\"cell-rendered\", this.layoutCellHandles.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.deInitializeComponent.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"cell-height\", this.resizeHandle.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.columnLayoutUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-hide\", this.deInitializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.columnLayoutUpdated.bind(this));\n\t\t\tthis.subscribe(\"column-width\", this.columnWidthUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-delete\", this.deInitializeComponent.bind(this));\n\t\t\tthis.subscribe(\"column-height\", this.resizeHandle.bind(this));\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t\n\tlayoutCellHandles(cell){\n\t\tif(cell.row.type === \"row\"){\n\t\t\tthis.deInitializeComponent(cell);\n\t\t\tthis.initializeColumn(\"cell\", cell, cell.column, cell.element);\n\t\t}\n\t}\n\t\n\tlayoutColumnHeader(column){\n\t\tif(column.definition.resizable){\n\t\t\tthis.initializeEventWatchers();\n\t\t\tthis.deInitializeComponent(column);\n\t\t\tthis.initializeColumn(\"header\", column, column, column.element);\n\t\t}\n\t}\n\t\n\tcolumnLayoutUpdated(column){\n\t\tvar prev = column.prevColumn();\n\t\t\n\t\tthis.reinitializeColumn(column);\n\t\t\n\t\tif(prev){\n\t\t\tthis.reinitializeColumn(prev);\n\t\t}\n\t}\n\t\n\tcolumnWidthUpdated(column){\n\t\tif(column.modules.frozen){\n\t\t\tif(this.table.modules.frozenColumns.leftColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}else if(this.table.modules.frozenColumns.rightColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tfrozenColumnOffset(column){\n\t\tvar offset = false;\n\n\t\tif(column.modules.frozen){\n\t\t\toffset = column.modules.frozen.marginValue; \n\n\t\t\tif(column.modules.frozen.position === \"left\"){\n\t\t\t\toffset += column.getWidth() - 3;\n\t\t\t}else {\n\t\t\t\tif(offset){\n\t\t\t\t\toffset -= 3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn offset !== false ? offset + \"px\" : false;\n\t}\n\t\n\treinitializeColumn(column){\n\t\tvar frozenOffset = this.frozenColumnOffset(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(cell.modules.resize && cell.modules.resize.handleEl){\n\t\t\t\tif(frozenOffset){\n\t\t\t\t\tcell.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t\t\tcell.modules.resize.handleEl.style[\"z-index\"] = 11;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.element.after(cell.modules.resize.handleEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(column.modules.resize && column.modules.resize.handleEl){\n\t\t\tif(frozenOffset){\n\t\t\t\tcolumn.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.element.after(column.modules.resize.handleEl);\n\t\t}\n\t}\n\t\n\tinitializeColumn(type, component, column, element){\n\t\tvar self = this,\n\t\tvariableHeight = false,\n\t\tmode = column.definition.resizable,\n\t\tconfig = {},\n\t\tnearestColumn = column.getLastColumn();\n\t\t\n\t\t//set column resize mode\n\t\tif(type === \"header\"){\n\t\t\tvariableHeight = column.definition.formatter == \"textarea\" || column.definition.variableHeight;\n\t\t\tconfig = {variableHeight:variableHeight};\n\t\t}\n\t\t\n\t\tif((mode === true || mode == type) && this._checkResizability(nearestColumn)){\n\t\t\t\n\t\t\tvar handle = document.createElement('span');\n\t\t\thandle.className = \"tabulator-col-resize-handle\";\n\t\t\t\n\t\t\thandle.addEventListener(\"click\", function(e){\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t\n\t\t\tvar handleDown = function(e){\n\t\t\t\tself.startColumn = column;\n\t\t\t\tself.initialNextColumn = self.nextColumn = nearestColumn.nextColumn();\n\t\t\t\tself._mouseDown(e, nearestColumn, handle);\n\t\t\t};\n\t\t\t\n\t\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\t\t\t\n\t\t\t//resize column on  double click\n\t\t\thandle.addEventListener(\"dblclick\", (e) => {\n\t\t\t\tvar oldWidth = nearestColumn.getWidth();\n\t\t\t\t\n\t\t\t\te.stopPropagation();\n\t\t\t\tnearestColumn.reinitializeWidth(true);\n\t\t\t\t\n\t\t\t\tif(oldWidth !== nearestColumn.getWidth()){\n\t\t\t\t\tself.dispatch(\"column-resized\", nearestColumn);\n\t\t\t\t\tself.dispatchExternal(\"columnResized\", nearestColumn.getComponent());\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(column.modules.frozen){\n\t\t\t\thandle.style.position = \"sticky\";\n\t\t\t\thandle.style[column.modules.frozen.position] = this.frozenColumnOffset(column);\n\t\t\t}\n\t\t\t\n\t\t\tconfig.handleEl = handle;\n\t\t\t\n\t\t\tif(element.parentNode && column.visible){\n\t\t\t\telement.after(handle);\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tcomponent.modules.resize = config;\n\t}\n\t\n\tdeInitializeColumn(column){\n\t\tthis.deInitializeComponent(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tthis.deInitializeComponent(cell);\n\t\t});\n\t}\n\t\n\tdeInitializeComponent(component){\n\t\tvar handleEl;\n\t\t\n\t\tif(component.modules.resize){\n\t\t\thandleEl = component.modules.resize.handleEl;\n\t\t\t\n\t\t\tif(handleEl && handleEl.parentElement){\n\t\t\t\thandleEl.parentElement.removeChild(handleEl);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tresizeHandle(component, height){\n\t\tif(component.modules.resize && component.modules.resize.handleEl){\n\t\t\tcomponent.modules.resize.handleEl.style.height = height;\n\t\t}\n\t}\n\t\n\tresize(e, column){\n\t\tvar x = typeof e.clientX === \"undefined\" ? e.touches[0].clientX : e.clientX,\n\t\tstartDiff = x - this.startX,\n\t\tmoveDiff = x - this.latestX,\n\t\tblockedBefore, blockedAfter;\n\n\t\tthis.latestX = x;\n\n\t\tif(this.table.rtl){\n\t\t\tstartDiff = -startDiff;\n\t\t\tmoveDiff = -moveDiff;\n\t\t}\n\n\t\tblockedBefore = column.width == column.minWidth || column.width == column.maxWidth;\n\n\t\tcolumn.setWidth(this.startWidth + startDiff);\n\n\t\tblockedAfter = column.width == column.minWidth || column.width == column.maxWidth;\n\n\t\tif(moveDiff < 0){\n\t\t\tthis.nextColumn = this.initialNextColumn;\n\t\t}\n\n\t\tif(this.table.options.resizableColumnFit && this.nextColumn && !(blockedBefore && blockedAfter)){\n\t\t\tlet colWidth = this.nextColumn.getWidth();\n\n\t\t\tif(moveDiff > 0){\n\t\t\t\tif(colWidth <= this.nextColumn.minWidth){\n\t\t\t\t\tthis.nextColumn = this.nextColumn.nextColumn();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.nextColumn){\n\t\t\t\tthis.nextColumn.setWidth(this.nextColumn.getWidth() - moveDiff);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.columnManager.rerenderColumns(true);\n\n\t\tif(!this.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\tcolumn.checkCellHeights();\n\t\t}\n\t}\n\n\tcalcGuidePosition(e, column, handle) {\n\t\tvar mouseX = typeof e.clientX === \"undefined\" ? e.touches[0].clientX : e.clientX,\n\t\thandleX = handle.getBoundingClientRect().x - this.table.element.getBoundingClientRect().x,\n\t\ttableX = this.table.element.getBoundingClientRect().x,\n\t\tcolumnX = column.element.getBoundingClientRect().left - tableX,\n\t\tmouseDiff = mouseX - this.startX,\n\t\tpos = Math.max(handleX + mouseDiff, columnX + column.minWidth);\n\n\t\tif(column.maxWidth){\n\t\t\tpos = Math.min(pos, columnX + column.maxWidth);\n\t\t}\n\n\t\treturn pos;\n\t}\n\n\t_checkResizability(column){\n\t\treturn column.definition.resizable;\n\t}\n\t\n\t_mouseDown(e, column, handle){\n\t\tvar self = this,\n\t\tguideEl;\n\n\t\tthis.dispatchExternal(\"columnResizing\", column.getComponent());\n\n\t\tif(self.table.options.resizableColumnGuide){\n\t\t\tguideEl = document.createElement(\"span\");\n\t\t\tguideEl.classList.add('tabulator-col-resize-guide');\n\t\t\tself.table.element.appendChild(guideEl);\n\t\t\tsetTimeout(() => {\n\t\t\t\tguideEl.style.left = self.calcGuidePosition(e, column, handle) + \"px\";\n\t\t\t});\n\t\t}\n\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\t\tfunction mouseMove(e){\n\t\t\tif(self.table.options.resizableColumnGuide){\n\t\t\t\tguideEl.style.left = self.calcGuidePosition(e, column, handle) + \"px\";\n\t\t\t}else {\n\t\t\t\tself.resize(e, column);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction mouseUp(e){\n\t\t\tif(self.table.options.resizableColumnGuide){\n\t\t\t\tself.resize(e, column);\n\t\t\t\tguideEl.remove();\n\t\t\t}\n\t\t\t\n\t\t\t//block editor from taking action while resizing is taking place\n\t\t\tif(self.startColumn.modules.edit){\n\t\t\t\tself.startColumn.modules.edit.blocked = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseUp);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\t\t\t\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\t\t\t\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(self.startWidth !== column.getWidth()){\n\t\t\t\tself.table.columnManager.verticalAlignHeaders();\n\n\t\t\t\tself.dispatch(\"column-resized\", column);\n\t\t\t\tself.dispatchExternal(\"columnResized\", column.getComponent());\n\t\t\t}\n\t\t}\n\t\t\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\t\t\n\t\t//block editor from taking action while resizing is taking place\n\t\tif(self.startColumn.modules.edit){\n\t\t\tself.startColumn.modules.edit.blocked = true;\n\t\t}\n\t\t\n\t\tself.startX = typeof e.clientX === \"undefined\" ? e.touches[0].clientX : e.clientX;\n\t\tself.latestX = self.startX;\n\t\tself.startWidth = column.getWidth();\n\t\t\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nclass ResizeRows extends Module{\n\n\tstatic moduleName = \"resizeRows\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.startColumn = false;\n\t\tthis.startY = false;\n\t\tthis.startHeight = false;\n\t\tthis.handle = null;\n\t\tthis.prevHandle = null;\n\n\t\tthis.registerTableOption(\"resizableRows\", false); //resizable rows\n\t\tthis.registerTableOption(\"resizableRowGuide\", false);\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.resizableRows){\n\t\t\tthis.subscribe(\"row-layout-after\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\trowEl = row.getElement();\n\n\t\tvar handle = document.createElement('div');\n\t\thandle.className = \"tabulator-row-resize-handle\";\n\n\t\tvar prevHandle = document.createElement('div');\n\t\tprevHandle.className = \"tabulator-row-resize-handle prev\";\n\n\t\thandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar handleDown = function(e){\n\t\t\tself.startRow = row;\n\t\t\tself._mouseDown(e, row, handle);\n\t\t};\n\n\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\n\t\tprevHandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar prevHandleDown =  function(e){\n\t\t\tvar prevRow = self.table.rowManager.prevDisplayRow(row);\n\n\t\t\tif(prevRow){\n\t\t\t\tself.startRow = prevRow;\n\t\t\t\tself._mouseDown(e, prevRow, prevHandle);\n\t\t\t}\n\t\t};\n\n\t\tprevHandle.addEventListener(\"mousedown\",prevHandleDown);\n\t\tprevHandle.addEventListener(\"touchstart\",prevHandleDown, {passive: true});\n\n\t\trowEl.appendChild(handle);\n\t\trowEl.appendChild(prevHandle);\n\t}\n\n\tresize(e, row) {\n\t\trow.setHeight(this.startHeight + ((typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY) - this.startY));\n\t}\n\n\tcalcGuidePosition(e, row, handle) {\n\t\tvar mouseY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY,\n\t\thandleY = handle.getBoundingClientRect().y - this.table.element.getBoundingClientRect().y,\n\t\ttableY = this.table.element.getBoundingClientRect().y,\n\t\trowY = row.element.getBoundingClientRect().top - tableY,\n\t\tmouseDiff = mouseY - this.startY;\n\n\t\treturn Math.max(handleY + mouseDiff, rowY);\n\t}\n\n\t_mouseDown(e, row, handle){\n\t\tvar self = this,\n\t\tguideEl;\n\n\t\tself.dispatchExternal(\"rowResizing\", row.getComponent());\n\n\t\tif(self.table.options.resizableRowGuide){\n\t\t\tguideEl = document.createElement(\"span\");\n\t\t\tguideEl.classList.add('tabulator-row-resize-guide');\n\t\t\tself.table.element.appendChild(guideEl);\n\t\t\tsetTimeout(() => {\n\t\t\t\tguideEl.style.top = self.calcGuidePosition(e, row, handle) + \"px\";\n\t\t\t});\n\t\t}\n\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\t\tfunction mouseMove(e){\n\t\t\tif(self.table.options.resizableRowGuide){\n\t\t\t\tguideEl.style.top = self.calcGuidePosition(e, row, handle) + \"px\";\n\t\t\t}else {\n\t\t\t\tself.resize(e, row);\n\t\t\t}\n\t\t}\n\n\t\tfunction mouseUp(e){\n\t\t\tif(self.table.options.resizableRowGuide){\n\t\t\t\tself.resize(e, row);\n\t\t\t\tguideEl.remove();\n\t\t\t}\n\n\t\t\t// //block editor from taking action while resizing is taking place\n\t\t\t// if(self.startColumn.modules.edit){\n\t\t\t// \tself.startColumn.modules.edit.blocked = false;\n\t\t\t// }\n\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseMove);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tself.dispatchExternal(\"rowResized\", row.getComponent());\n\t\t}\n\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\n\t\t//block editor from taking action while resizing is taking place\n\t\t// if(self.startColumn.modules.edit){\n\t\t// \tself.startColumn.modules.edit.blocked = true;\n\t\t// }\n\n\t\tself.startY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY;\n\t\tself.startHeight = row.getHeight();\n\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nclass ResizeTable extends Module{\n\n\tstatic moduleName = \"resizeTable\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.binding = false;\n\t\tthis.visibilityObserver = false;\n\t\tthis.resizeObserver = false;\n\t\tthis.containerObserver = false;\n\t\t\n\t\tthis.tableHeight = 0;\n\t\tthis.tableWidth = 0;\n\t\tthis.containerHeight = 0;\n\t\tthis.containerWidth = 0;\n\t\t\n\t\tthis.autoResize = false;\n\t\t\n\t\tthis.visible = false;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.initialRedraw = false;\n\t\t\n\t\tthis.registerTableOption(\"autoResize\", true); //auto resize table\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.autoResize){\n\t\t\tvar table = this.table,\n\t\t\ttableStyle;\n\t\t\t\n\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\n\t\t\tif(table.element.parentNode){\n\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof IntersectionObserver !== \"undefined\" && typeof ResizeObserver !== \"undefined\" && table.rowManager.getRenderMode() === \"virtual\"){\n\t\t\t\t\n\t\t\t\tthis.initializeVisibilityObserver();\n\t\t\t\t\n\t\t\t\tthis.autoResize = true;\n\t\t\t\t\n\t\t\t\tthis.resizeObserver = new ResizeObserver((entry) => {\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && (!table.modules.edit || (table.modules.edit && !table.modules.edit.currentCell)))){\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.tableHeight != nodeHeight || this.tableWidth != nodeWidth){\n\t\t\t\t\t\t\tthis.tableHeight = nodeHeight;\n\t\t\t\t\t\t\tthis.tableWidth = nodeWidth;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(table.element.parentNode){\n\t\t\t\t\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.resizeObserver.observe(table.element);\n\t\t\t\t\n\t\t\t\ttableStyle = window.getComputedStyle(table.element);\n\t\t\t\t\n\t\t\t\tif(this.table.element.parentNode && !this.table.rowManager.fixedHeight && (tableStyle.getPropertyValue(\"max-height\") || tableStyle.getPropertyValue(\"min-height\"))){\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver = new ResizeObserver((entry) => {\n\t\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && (!table.modules.edit || (table.modules.edit && !table.modules.edit.currentCell)))){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(this.containerHeight != nodeHeight || this.containerWidth != nodeWidth){\n\t\t\t\t\t\t\t\tthis.containerHeight = nodeHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = nodeWidth;\n\t\t\t\t\t\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\t\t\t\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver.observe(this.table.element.parentNode);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.subscribe(\"table-resize\", this.tableResized.bind(this));\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tthis.binding = function(){\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && (!table.modules.edit || (table.modules.edit && !table.modules.edit.currentCell)))){\n\t\t\t\t\t\ttable.columnManager.rerenderColumns(true);\n\t\t\t\t\t\ttable.redraw();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\twindow.addEventListener(\"resize\", this.binding);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t\t}\n\t}\n\t\n\tinitializeVisibilityObserver(){\n\t\tthis.visibilityObserver = new IntersectionObserver((entries) => {\n\t\t\tthis.visible = entries[0].isIntersecting;\n\t\t\t\n\t\t\tif(!this.initialized){\n\t\t\t\tthis.initialized = true;\n\t\t\t\tthis.initialRedraw = !this.visible;\n\t\t\t}else {\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.redrawTable(this.initialRedraw);\n\t\t\t\t\tthis.initialRedraw = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.visibilityObserver.observe(this.table.element);\n\t}\n\t\n\tredrawTable(force){\n\t\tif(this.initialized && this.visible){\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\t\t\tthis.table.redraw(force);\n\t\t}\n\t}\n\t\n\ttableResized(){\n\t\tthis.table.rowManager.redraw();\n\t}\n\t\n\tclearBindings(){\n\t\tif(this.binding){\n\t\t\twindow.removeEventListener(\"resize\", this.binding);\n\t\t}\n\t\t\n\t\tif(this.resizeObserver){\n\t\t\tthis.resizeObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.visibilityObserver){\n\t\t\tthis.visibilityObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.containerObserver){\n\t\t\tthis.containerObserver.unobserve(this.table.element.parentNode);\n\t\t}\n\t}\n}\n\nfunction responsiveCollapse(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"div\"),\n\tconfig = cell.getRow()._row.modules.responsiveLayout;\n\n\tel.classList.add(\"tabulator-responsive-collapse-toggle\");\n\t\n\tel.innerHTML = `<svg class='tabulator-responsive-collapse-toggle-open' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n  <line y1=\"7\" x1=\"12\" y2=\"17\" x2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>\n\n<svg class='tabulator-responsive-collapse-toggle-close' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\"  fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>`;\n\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\n\tfunction toggleList(isOpen){\n\t\tvar collapseEl = config.element;\n\n\t\tconfig.open = isOpen;\n\n\t\tif(collapseEl){\n\n\t\t\tif(config.open){\n\t\t\t\tel.classList.add(\"open\");\n\t\t\t\tcollapseEl.style.display = '';\n\t\t\t}else {\n\t\t\t\tel.classList.remove(\"open\");\n\t\t\t\tcollapseEl.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tel.addEventListener(\"click\", function(e){\n\t\te.stopImmediatePropagation();\n\t\ttoggleList(!config.open);\n\t\tcell.getTable().rowManager.adjustTableSize();\n\t});\n\n\ttoggleList(config.open);\n\n\treturn el;\n}\n\nvar extensions$2 = {\r\n\tformat:{\r\n\t\tformatters:{\r\n\t\t\tresponsiveCollapse:responsiveCollapse,\r\n\t\t}\r\n\t}\r\n};\n\nclass ResponsiveLayout extends Module{\n\n\tstatic moduleName = \"responsiveLayout\";\n\tstatic moduleExtensions = extensions$2;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.columns = [];\n\t\tthis.hiddenColumns = [];\n\t\tthis.mode = \"\";\n\t\tthis.index = 0;\n\t\tthis.collapseFormatter = [];\n\t\tthis.collapseStartOpen = true;\n\t\tthis.collapseHandleColumn = false;\n\n\t\tthis.registerTableOption(\"responsiveLayout\", false); //responsive layout flags\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseStartOpen\", true); //start showing collapsed data\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseUseFormatters\", true); //responsive layout collapse formatter\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseFormatter\", false); //responsive layout collapse formatter\n\n\t\tthis.registerColumnOption(\"responsive\");\n\t}\n\n\t//generate responsive columns list\n\tinitialize(){\n\t\tif(this.table.options.responsiveLayout){\n\t\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"columns-loaded\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-add\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-delete\", this.initializeResponsivity.bind(this));\n\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedraw.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.responsiveLayout === \"collapse\"){\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.generateCollapsedRowContent.bind(this));\n\t\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\t\tthis.subscribe(\"row-layout\", this.layoutRow.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\ttableRedraw(force){\n\t\tif([\"fitColumns\", \"fitDataStretch\"].indexOf(this.layoutMode()) === -1){\n\t\t\tif(!force){\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeResponsivity(){\n\t\tvar columns = [];\n\n\t\tthis.mode = this.table.options.responsiveLayout;\n\t\tthis.collapseFormatter = this.table.options.responsiveLayoutCollapseFormatter || this.formatCollapsedData;\n\t\tthis.collapseStartOpen = this.table.options.responsiveLayoutCollapseStartOpen;\n\t\tthis.hiddenColumns = [];\n\n\t\tif(this.collapseFormatter){\n\t\t\tthis.collapseFormatter = this.collapseFormatter.bind(this.table);\n\t\t}\n\n\t\t//determine level of responsivity for each column\n\t\tthis.table.columnManager.columnsByIndex.forEach((column, i) => {\n\t\t\tif(column.modules.responsive){\n\t\t\t\tif(column.modules.responsive.order && column.modules.responsive.visible){\n\t\t\t\t\tcolumn.modules.responsive.index = i;\n\t\t\t\t\tcolumns.push(column);\n\n\t\t\t\t\tif(!column.visible && this.mode === \"collapse\"){\n\t\t\t\t\t\tthis.hiddenColumns.push(column);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//sort list by responsivity\n\t\tcolumns = columns.reverse();\n\t\tcolumns = columns.sort((a, b) => {\n\t\t\tvar diff = b.modules.responsive.order - a.modules.responsive.order;\n\t\t\treturn diff || (b.modules.responsive.index - a.modules.responsive.index);\n\t\t});\n\n\t\tthis.columns = columns;\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.generateCollapsedContent();\n\t\t}\n\n\t\t//assign collapse column\n\t\tfor (let col of this.table.columnManager.columnsByIndex){\n\t\t\tif(col.definition.formatter == \"responsiveCollapse\"){\n\t\t\t\tthis.collapseHandleColumn = col;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(this.collapseHandleColumn){\n\t\t\tif(this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}else {\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//define layout information\n\tinitializeColumn(column){\n\t\tvar def = column.getDefinition();\n\n\t\tcolumn.modules.responsive = {order: typeof def.responsive === \"undefined\" ? 1 : def.responsive, visible:def.visible === false ? false : true};\n\t}\n\n\tinitializeRow(row){\n\t\tvar el;\n\n\t\tif(row.type !== \"calc\"){\n\t\t\tel = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-responsive-collapse\");\n\n\t\t\trow.modules.responsiveLayout = {\n\t\t\t\telement:el,\n\t\t\t\topen:this.collapseStartOpen,\n\t\t\t};\n\n\t\t\tif(!this.collapseStartOpen){\n\t\t\t\tel.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tlayoutRow(row){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\trowEl.appendChild(row.modules.responsiveLayout.element);\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t}\n\t}\n\n\t//update column visibility\n\tupdateColumnVisibility(column, responsiveToggle){\n\t\tif(!responsiveToggle && column.modules.responsive){\n\t\t\tcolumn.modules.responsive.visible = column.visible;\n\t\t\tthis.initializeResponsivity();\n\t\t}\n\t}\n\n\thideColumn(column){\n\t\tvar colCount = this.hiddenColumns.length;\n\n\t\tcolumn.hide(false, true);\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.hiddenColumns.unshift(column);\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !colCount){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}\n\t\t}\n\t}\n\n\tshowColumn(column){\n\t\tvar index;\n\n\t\tcolumn.show(false, true);\n\t\t//set column width to prevent calculation loops on uninitialized columns\n\t\tcolumn.setWidth(column.getWidth());\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tindex = this.hiddenColumns.indexOf(column);\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.hiddenColumns.splice(index, 1);\n\t\t\t}\n\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//redraw columns to fit space\n\tupdate(){\n\t\tvar working = true;\n\n\t\twhile(working){\n\n\t\t\tlet width = this.table.modules.layout.getMode() == \"fitColumns\" ? this.table.columnManager.getFlexBaseWidth() : this.table.columnManager.getWidth();\n\n\t\t\tlet diff = (this.table.options.headerVisible ? this.table.columnManager.element.clientWidth : this.table.element.clientWidth) - width;\n\n\t\t\tif(diff < 0){\n\t\t\t\t//table is too wide\n\t\t\t\tlet column = this.columns[this.index];\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.hideColumn(column);\n\t\t\t\t\tthis.index ++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else {\n\n\t\t\t\t//table has spare space\n\t\t\t\tlet column = this.columns[this.index -1];\n\n\t\t\t\tif(column){\n\t\t\t\t\tif(diff > 0){\n\t\t\t\t\t\tif(diff >= column.getWidth()){\n\t\t\t\t\t\t\tthis.showColumn(column);\n\t\t\t\t\t\t\tthis.index --;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tworking = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!this.table.rowManager.activeRowsCount){\n\t\t\t\tthis.table.rowManager.renderEmptyScroll();\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedContent(){\n\t\tvar rows = this.table.rowManager.getDisplayRows();\n\n\t\trows.forEach((row) => {\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t});\n\t}\n\n\tgenerateCollapsedRowContent(row){\n\t\tvar el, contents;\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\tel = row.modules.responsiveLayout.element;\n\n\t\t\twhile(el.firstChild) el.removeChild(el.firstChild);\n\n\t\t\tcontents = this.collapseFormatter(this.generateCollapsedRowData(row));\n\t\t\tif(contents){\n\t\t\t\tel.appendChild(contents);\n\t\t\t}\n\t\t\trow.calcHeight(true);\n\t\t}\n\t}\n\n\tgenerateCollapsedRowData(row){\n\t\tvar data = row.getData(),\n\t\toutput = [],\n\t\tmockCellComponent;\n\n\t\tthis.hiddenColumns.forEach((column) => {\n\t\t\tvar value = column.getFieldValue(data);\n\n\t\t\tif(column.definition.title && column.field){\n\t\t\t\tif(column.modules.format && this.table.options.responsiveLayoutCollapseUseFormatters){\n\n\t\t\t\t\tmockCellComponent = {\n\t\t\t\t\t\tvalue:false,\n\t\t\t\t\t\tdata:{},\n\t\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetType:function(){\n\t\t\t\t\t\t\treturn \"cell\";\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\t\treturn document.createElement(\"div\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\t\treturn row.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction onRendered(callback){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: column.modules.format.formatter.call(this.table.modules.format, mockCellComponent, column.modules.format.params, onRendered)\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tformatCollapsedData(data){\n\t\tvar list = document.createElement(\"table\");\n\n\t\tdata.forEach((item) => {\n\t\t\tvar row = document.createElement(\"tr\");\n\t\t\tvar titleData = document.createElement(\"td\");\n\t\t\tvar valueData = document.createElement(\"td\");\n\t\t\tvar node_content;\n\n\t\t\tvar titleHighlight = document.createElement(\"strong\");\n\t\t\ttitleData.appendChild(titleHighlight);\n\t\t\t\n\t\t\tthis.modules.localize.bind(\"columns|\" + item.field, function(text){\n\t\t\t\ttitleHighlight.innerHTML = text || item.title;\n\t\t\t});\n\n\t\t\tif(item.value instanceof Node){\n\t\t\t\tnode_content = document.createElement(\"div\");\n\t\t\t\tnode_content.appendChild(item.value);\n\t\t\t\tvalueData.appendChild(node_content);\n\t\t\t}else {\n\t\t\t\tvalueData.innerHTML = item.value;\n\t\t\t}\n\n\t\t\trow.appendChild(titleData);\n\t\t\trow.appendChild(valueData);\n\t\t\tlist.appendChild(row);\n\t\t});\n\n\t\treturn Object.keys(data).length ? list : \"\";\n\t}\n}\n\nfunction rowSelection(cell, formatterParams, onRendered){\n\tvar checkbox = document.createElement(\"input\");\n\tvar blocked = false;\n\n\tcheckbox.type = 'checkbox';\n\n\tcheckbox.setAttribute(\"aria-label\", \"Select Row\");\n\t\n\tif(this.table.modExists(\"selectRow\", true)){\n\n\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(typeof cell.getRow == 'function'){\n\t\t\tvar row = cell.getRow();\n\n\t\t\tif(row instanceof RowComponent){\n\n\t\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\t\tif(this.table.options.selectableRowsRangeMode === \"click\"){\n\t\t\t\t\t\tif(!blocked){\n\t\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tblocked = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(this.table.options.selectableRowsRangeMode === \"click\"){\n\t\t\t\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\tblocked = true;\n\t\t\t\t\t\tthis.table.modules.selectRow.handleComplexRowClick(row._row, e);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcheckbox.checked = row.isSelected && row.isSelected();\n\t\t\t\tthis.table.modules.selectRow.registerRowSelectCheckbox(row, checkbox);\n\t\t\t}else {\n\t\t\t\tcheckbox = \"\";\n\t\t\t}\n\t\t}else {\n\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\tif(this.table.modules.selectRow.selectedRows.length){\n\t\t\t\t\tthis.table.deselectRow();\n\t\t\t\t}else {\n\t\t\t\t\tthis.table.selectRow(formatterParams.rowRange);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.modules.selectRow.registerHeaderSelectCheckbox(checkbox);\n\t\t}\n\t}\n\n\treturn checkbox;\n}\n\nvar extensions$1 = {\r\n\tformat:{\r\n\t\tformatters:{\r\n\t\t\trowSelection:rowSelection,\r\n\t\t}\r\n\t}\r\n};\n\nclass SelectRow extends Module{\n\n\tstatic moduleName = \"selectRow\";\n\tstatic moduleExtensions = extensions$1;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.selecting = false; //flag selecting in progress\n\t\tthis.lastClickedRow = false; //last clicked row\n\t\tthis.selectPrev = []; //hold previously selected element for drag drop selection\n\t\tthis.selectedRows = []; //hold selected rows\n\t\tthis.headerCheckboxElement = null; // hold header select element\n\t\t\n\t\tthis.registerTableOption(\"selectableRows\", \"highlight\"); //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRowsRangeMode\", \"drag\");  //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRowsRollingSelection\", true); //roll selection once maximum number of selectable rows is reached\n\t\tthis.registerTableOption(\"selectableRowsPersistence\", true); // maintain selection when table view is updated\n\t\tthis.registerTableOption(\"selectableRowsCheck\", function(data, row){return true;}); //check whether row is selectable\n\t\t\n\t\tthis.registerTableFunction(\"selectRow\", this.selectRows.bind(this));\n\t\tthis.registerTableFunction(\"deselectRow\", this.deselectRows.bind(this));\n\t\tthis.registerTableFunction(\"toggleSelectRow\", this.toggleRow.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedRows\", this.getSelectedRows.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedData\", this.getSelectedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"select\", this.selectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"deselect\", this.deselectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"toggleSelect\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isSelected\", this.isRowSelected.bind(this));\n\t}\n\t\n\tinitialize(){\n\n\t\tthis.deprecatedOptionsCheck();\n\n\t\tif(this.table.options.selectableRows === \"highlight\" && this.table.options.selectableRange){\n\t\t\tthis.table.options.selectableRows = false;\n\t\t}\n\n\t\tif(this.table.options.selectableRows !== false){\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clearSelectionData.bind(this));\n\t\t\tthis.subscribe(\"rows-retrieve\", this.rowRetrieve.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.selectableRows && !this.table.options.selectableRowsPersistence){\n\t\t\t\tthis.subscribe(\"data-refreshing\", this.deselectRows.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\tdeprecatedOptionsCheck(){\n\t\t// this.deprecationCheck(\"selectable\", \"selectableRows\", true);\n\t\t// this.deprecationCheck(\"selectableRollingSelection\", \"selectableRowsRollingSelection\", true);\n\t\t// this.deprecationCheck(\"selectableRangeMode\", \"selectableRowsRangeMode\", true);\n\t\t// this.deprecationCheck(\"selectablePersistence\", \"selectableRowsPersistence\", true);\n\t\t// this.deprecationCheck(\"selectableCheck\", \"selectableRowsCheck\", true);\n\t}\n\t\n\trowRetrieve(type, prevValue){\n\t\treturn type === \"selected\" ? this.selectedRows : prevValue;\n\t}\n\t\n\trowDeleted(row){\n\t\tthis._deselectRow(row, true);\n\t}\n\t\n\tclearSelectionData(silent){\n\t\tvar prevSelected = this.selectedRows.length;\n\n\t\tthis.selecting = false;\n\t\tthis.lastClickedRow = false;\n\t\tthis.selectPrev = [];\n\t\tthis.selectedRows = [];\n\t\t\n\t\tif(prevSelected && silent !== true){\n\t\t\tthis._rowSelectionChanged();\n\t\t}\n\t}\n\t\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\tselectable = self.checkRowSelectability(row),\n\t\telement = row.getElement();\n\t\t\n\t\t// trigger end of row selection\n\t\tvar endSelect = function(){\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tself.selecting = false;\n\t\t\t}, 50);\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", endSelect);\n\t\t};\n\t\t\n\t\trow.modules.select = {selected:false};\n\n\t\telement.classList.toggle(\"tabulator-selectable\", selectable);\n\t\telement.classList.toggle(\"tabulator-unselectable\", !selectable);\n\t\t\n\t\t//set row selection class\n\t\tif(self.checkRowSelectability(row)){\t\t\t\n\t\t\tif(self.table.options.selectableRows && self.table.options.selectableRows != \"highlight\"){\n\t\t\t\tif(self.table.options.selectableRowsRangeMode === \"click\"){\n\t\t\t\t\telement.addEventListener(\"click\", this.handleComplexRowClick.bind(this, row));\n\t\t\t\t}else {\n\t\t\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\t\t\tif(!self.table.modExists(\"edit\") || !self.table.modules.edit.getCurrentCell()){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!self.selecting){\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selecting = true;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selectPrev = [];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"mouseup\", endSelect);\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"keyup\", endSelect);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseenter\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(self.selectPrev[1] == row){\n\t\t\t\t\t\t\t\tself.toggleRow(self.selectPrev[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseout\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.selectPrev.unshift(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\thandleComplexRowClick(row, e){\n\t\tif(e.shiftKey){\n\t\t\tthis.table._clearSelection();\n\t\t\tthis.lastClickedRow = this.lastClickedRow || row;\n\t\t\t\n\t\t\tvar lastClickedRowIdx = this.table.rowManager.getDisplayRowIndex(this.lastClickedRow);\n\t\t\tvar rowIdx = this.table.rowManager.getDisplayRowIndex(row);\n\t\t\t\n\t\t\tvar fromRowIdx = lastClickedRowIdx <= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\tvar toRowIdx = lastClickedRowIdx >= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\t\n\t\t\tvar rows = this.table.rowManager.getDisplayRows().slice(0);\n\t\t\tvar toggledRows = rows.splice(fromRowIdx, toRowIdx - fromRowIdx + 1);\n\t\t\t\n\t\t\tif(e.ctrlKey || e.metaKey){\n\t\t\t\ttoggledRows.forEach((toggledRow)=>{\n\t\t\t\t\tif(toggledRow !== this.lastClickedRow){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.options.selectableRows !== true && !this.isRowSelected(row)){\n\t\t\t\t\t\t\tif(this.selectedRows.length < this.table.options.selectableRows){\n\t\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.lastClickedRow = row;\n\t\t\t}else {\n\t\t\t\tthis.deselectRows(undefined, true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.selectableRows !== true){\n\t\t\t\t\tif(toggledRows.length > this.table.options.selectableRows){\n\t\t\t\t\t\ttoggledRows = toggledRows.slice(0, this.table.options.selectableRows);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectRows(toggledRows);\n\t\t\t}\n\t\t\tthis.table._clearSelection();\n\t\t}\n\t\telse if(e.ctrlKey || e.metaKey){\n\t\t\tthis.toggleRow(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}else {\n\t\t\tthis.deselectRows(undefined, true);\n\t\t\tthis.selectRows(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}\n\t}\n\n\tcheckRowSelectability(row){\n\t\tif(row && row.type === \"row\"){\n\t\t\treturn this.table.options.selectableRowsCheck.call(this.table, row.getComponent());\n\t\t}\n\n\t\treturn false;\n\t}\n\t\n\t//toggle row selection\n\ttoggleRow(row){\n\t\tif(this.checkRowSelectability(row)){\n\t\t\tif(row.modules.select && row.modules.select.selected){\n\t\t\t\tthis._deselectRow(row);\n\t\t\t}else {\n\t\t\t\tthis._selectRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//select a number of rows\n\tselectRows(rows){\n\t\tvar changes = [], \n\t\trowMatch, change;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\trowMatch = this.table.rowManager.rows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"number\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(!rowMatch){\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trowMatch = rows;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(Array.isArray(rowMatch)){\n\t\t\tif(rowMatch.length){\n\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\tchange = this._selectRow(row, true, true);\n\n\t\t\t\t\tif(change){\n\t\t\t\t\t\tchanges.push(change);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged(false, changes);\n\t\t\t}\n\t\t}else {\n\t\t\tif(rowMatch){\n\t\t\t\tthis._selectRow(rowMatch, false, true);\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\t//select an individual row\n\t_selectRow(rowInfo, silent, force){\n\t\t//handle max row count\n\t\tif(!isNaN(this.table.options.selectableRows) && this.table.options.selectableRows !== true && !force){\n\t\t\tif(this.selectedRows.length >= this.table.options.selectableRows){\n\t\t\t\tif(this.table.options.selectableRowsRollingSelection){\n\t\t\t\t\tthis._deselectRow(this.selectedRows[0]);\n\t\t\t\t}else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar row = this.table.rowManager.findRow(rowInfo);\n\t\t\n\t\tif(row){\n\t\t\tif(this.selectedRows.indexOf(row) == -1){\n\t\t\t\trow.getElement().classList.add(\"tabulator-selected\");\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = true;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectedRows.push(row);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowSelected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tthis._rowSelectionChanged(silent, row);\n\n\t\t\t\treturn row;\n\t\t\t}\n\t\t}else {\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Selection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisRowSelected(row){\n\t\treturn this.selectedRows.indexOf(row) !== -1;\n\t}\n\t\n\t//deselect a number of rows\n\tdeselectRows(rows, silent){\n\t\tvar changes = [], \n\t\trowMatch, change;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\trowMatch = Object.assign([], this.selectedRows);\n\t\t\t\tbreak;\n\n\t\t\tcase \"number\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(!rowMatch){\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trowMatch = rows;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(Array.isArray(rowMatch)){\n\t\t\tif(rowMatch.length){\n\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\tchange = this._deselectRow(row, true, true);\n\n\t\t\t\t\tif(change){\n\t\t\t\t\t\tchanges.push(change);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._rowSelectionChanged(silent, [], changes);\n\t\t\t}\n\t\t}else {\n\t\t\tif(rowMatch){\n\t\t\t\tthis._deselectRow(rowMatch, silent, true);\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\t//deselect an individual row\n\t_deselectRow(rowInfo, silent){\n\t\tvar self = this,\n\t\trow = self.table.rowManager.findRow(rowInfo),\n\t\tindex, element;\n\t\t\n\t\tif(row){\n\t\t\tindex = self.selectedRows.findIndex(function(selectedRow){\n\t\t\t\treturn selectedRow == row;\n\t\t\t});\n\t\t\t\n\t\t\tif(index > -1){\n\n\t\t\t\telement = row.getElement();\n\t\t\t\t\n\t\t\t\tif(element){\n\t\t\t\t\telement.classList.remove(\"tabulator-selected\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = false;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = false;\n\t\t\t\t}\n\t\t\t\tself.selectedRows.splice(index, 1);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, false);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowDeselected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tself._rowSelectionChanged(silent, undefined, row);\n\n\t\t\t\treturn row;\n\t\t\t}\n\t\t}else {\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Deselection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetSelectedData(){\n\t\tvar data = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tgetSelectedRows(){\n\t\tvar rows = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\trows.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t_rowSelectionChanged(silent, selected = [], deselected = []){\n\t\tif(this.headerCheckboxElement){\n\t\t\tif(this.selectedRows.length === 0){\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else if(this.table.rowManager.rows.length === this.selectedRows.length){\n\t\t\t\tthis.headerCheckboxElement.checked = true;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else {\n\t\t\t\tthis.headerCheckboxElement.indeterminate = true;\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!silent){\n\t\t\tif(!Array.isArray(selected)){\n\t\t\t\tselected = [selected];\n\t\t\t}\n\n\t\t\tselected = selected.map(row => row.getComponent());\n\n\t\t\tif(!Array.isArray(deselected)){\n\t\t\t\tdeselected = [deselected];\n\t\t\t}\n\n\t\t\tdeselected = deselected.map(row => row.getComponent());\n\n\t\t\tthis.dispatchExternal(\"rowSelectionChanged\", this.getSelectedData(), this.getSelectedRows(), selected, deselected);\n\t\t}\n\t}\n\t\n\tregisterRowSelectCheckbox (row, element) {\n\t\tif(!row._row.modules.select){\n\t\t\trow._row.modules.select = {};\n\t\t}\n\t\t\n\t\trow._row.modules.select.checkboxEl = element;\n\t}\n\t\n\tregisterHeaderSelectCheckbox (element) {\n\t\tthis.headerCheckboxElement = element;\n\t}\n\t\n\tchildRowSelection(row, select){\n\t\tvar children = this.table.modules.dataTree.getChildren(row, true, true);\n\t\t\n\t\tif(select){\n\t\t\tfor(let child of children){\n\t\t\t\tthis._selectRow(child, true);\n\t\t\t}\n\t\t}else {\n\t\t\tfor(let child of children){\n\t\t\t\tthis._deselectRow(child, true);\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass RangeComponent {\n\tconstructor(range) {\n\t\tthis._range = range;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function (target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t} else {\n\t\t\t\t\treturn target._range.table.componentFunctionBinder.handle(\"range\", target._range, name);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tgetElement() {\n\t\treturn this._range.element;\n\t}\n\n\tgetData() {\n\t\treturn this._range.getData();\n\t}\n\n\tgetCells() {\n\t\treturn this._range.getCells(true, true);\n\t}\n\n\tgetStructuredCells() {\n\t\treturn this._range.getStructuredCells();\n\t}\n\n\tgetRows() {\n\t\treturn this._range.getRows().map((row) => row.getComponent());\n\t}\n\n\tgetColumns() {\n\t\treturn this._range.getColumns().map((column) => column.getComponent());\n\t}\n\t\n\tgetBounds() {\n\t\treturn this._range.getBounds();\n\t}\n\n\tgetTopEdge() {\n\t\treturn this._range.top;\n\t}\n\n\tgetBottomEdge() {\n\t\treturn this._range.bottom;\n\t}\n\n\tgetLeftEdge() {\n\t\treturn this._range.left;\n\t}\n\n\tgetRightEdge() {\n\t\treturn this._range.right;\n\t}\n\n\tsetBounds(start, end){\n\t\tif(this._range.destroyedGuard(\"setBounds\")){\n\t\t\tthis._range.setBounds(start ? start._cell : start, end ? end._cell : end);\n\t\t}\n\t}\n\n\tsetStartBound(start){\n\t\tif(this._range.destroyedGuard(\"setStartBound\")){\n\t\t\tthis._range.setEndBound(start ? start._cell : start);\n\t\t\tthis._range.rangeManager.layoutElement();\n\t\t}\n\t}\n\n\tsetEndBound(end){\n\t\tif(this._range.destroyedGuard(\"setEndBound\")){\n\t\t\tthis._range.setEndBound(end ? end._cell : end);\n\t\t\tthis._range.rangeManager.layoutElement();\n\t\t}\n\t}\n\n\tclearValues(){\n\t\tif(this._range.destroyedGuard(\"clearValues\")){\n\t\t\tthis._range.clearValues();\n\t\t}\n\t}\n\n\tremove(){\n\t\tif(this._range.destroyedGuard(\"remove\")){\n\t\t\tthis._range.destroy(true);\n\t\t}\n\t}\n}\n\nclass Range extends CoreFeature{\n\tconstructor(table, rangeManager, start, end) {\n\t\tsuper(table);\n\t\t\n\t\tthis.rangeManager = rangeManager;\n\t\tthis.element = null;\n\t\tthis.initialized = false;\n\t\tthis.initializing = {\n\t\t\tstart:false,\n\t\t\tend:false,\n\t\t};\n\t\tthis.destroyed = false;\n\t\t\n\t\tthis.top = 0;\n\t\tthis.bottom = 0;\n\t\tthis.left = 0;\n\t\tthis.right = 0;\n\t\t\n\t\tthis.table = table;\n\t\tthis.start = {row:0, col:0};\n\t\tthis.end = {row:0, col:0};\n\n\t\tif(this.rangeManager.rowHeader){\n\t\t\tthis.left = 1;\n\t\t\tthis.right = 1;\n\t\t\tthis.start.col = 1;\n\t\t\tthis.end.col = 1;\n\t\t}\n\t\t\n\t\tthis.initElement();\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tthis.initBounds(start, end);\n\t\t});\n\t}\n\t\n\tinitElement(){\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-range\");\n\t}\n\t\n\tinitBounds(start, end){\n\t\tthis._updateMinMax();\n\t\t\n\t\tif(start){\n\t\t\tthis.setBounds(start, end || start);\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////   Boundary Setup    ///////\n\t///////////////////////////////////\n\t\n\tsetStart(row, col) {\n\t\tif(this.start.row !== row || this.start.col !== col){\n\t\t\tthis.start.row = row;\n\t\t\tthis.start.col = col;\n\t\t\t\n\t\t\tthis.initializing.start = true;\n\t\t\tthis._updateMinMax();\n\t\t}\n\t}\n\t\n\tsetEnd(row, col) {\n\t\tif(this.end.row !== row || this.end.col !== col){\n\t\t\tthis.end.row = row;\n\t\t\tthis.end.col = col;\n\t\t\t\n\t\t\tthis.initializing.end = true;\n\t\t\tthis._updateMinMax();\n\t\t}\n\t}\n\t\n\tsetBounds(start, end, visibleRows){\n\t\tif(start){\n\t\t\tthis.setStartBound(start);\n\t\t}\n\t\t\n\t\tthis.setEndBound(end || start);\n\t\tthis.rangeManager.layoutElement(visibleRows);\n\t}\n\t\n\tsetStartBound(element){\n\t\tvar row, col;\n\t\t\n\t\tif (element.type === \"column\") {\n\t\t\tif(this.rangeManager.columnSelection){\n\t\t\t\tthis.setStart(0, element.getPosition() - 1);\n\t\t\t}\n\t\t}else {\n\t\t\trow = element.row.position - 1;\n\t\t\tcol = element.column.getPosition() - 1;\n\t\t\t\n\t\t\tif (element.column === this.rangeManager.rowHeader) {\n\t\t\t\tthis.setStart(row, 1);\n\t\t\t} else {\n\t\t\t\tthis.setStart(row, col);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tsetEndBound(element){\n\t\tvar rowsCount = this._getTableRows().length,\n\t\trow, col, isRowHeader;\n\t\t\n\t\tif (element.type === \"column\") {\n\t\t\tif(this.rangeManager.columnSelection){\n\t\t\t\tif (this.rangeManager.selecting === \"column\") {\n\t\t\t\t\tthis.setEnd(rowsCount - 1, element.getPosition() - 1);\n\t\t\t\t} else if (this.rangeManager.selecting === \"cell\") {\n\t\t\t\t\tthis.setEnd(0, element.getPosition() - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\trow = element.row.position - 1;\n\t\t\tcol = element.column.getPosition() - 1;\n\t\t\tisRowHeader = element.column === this.rangeManager.rowHeader;\n\t\t\t\n\t\t\tif (this.rangeManager.selecting === \"row\") {\n\t\t\t\tthis.setEnd(row, this._getTableColumns().length - 1);\n\t\t\t} else if (this.rangeManager.selecting !== \"row\" && isRowHeader) {\n\t\t\t\tthis.setEnd(row, 0);\n\t\t\t} else if (this.rangeManager.selecting === \"column\") {\n\t\t\t\tthis.setEnd(rowsCount - 1, col);\n\t\t\t} else {\n\t\t\t\tthis.setEnd(row, col);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_updateMinMax() {\n\t\tthis.top = Math.min(this.start.row, this.end.row);\n\t\tthis.bottom = Math.max(this.start.row, this.end.row);\n\t\tthis.left = Math.min(this.start.col, this.end.col);\n\t\tthis.right = Math.max(this.start.col, this.end.col);\n\t\t\n\t\tif(this.initialized){\n\t\t\tthis.dispatchExternal(\"rangeChanged\", this.getComponent());\n\t\t}else {\n\t\t\tif(this.initializing.start && this.initializing.end){\n\t\t\t\tthis.initialized = true;\n\t\t\t\tthis.dispatchExternal(\"rangeAdded\", this.getComponent());\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_getTableColumns() {\n\t\treturn this.table.columnManager.getVisibleColumnsByIndex();\n\t}\n\t\n\t_getTableRows() {\n\t\treturn this.table.rowManager.getDisplayRows().filter(row=> row.type === \"row\");\n\t}\n\t\n\t///////////////////////////////////\n\t///////      Rendering      ///////\n\t///////////////////////////////////\n\t\n\tlayout() {\n\t\tvar _vDomTop = this.table.rowManager.renderer.vDomTop,\n\t\t_vDomBottom = this.table.rowManager.renderer.vDomBottom,\n\t\t_vDomLeft = this.table.columnManager.renderer.leftCol,\n\t\t_vDomRight = this.table.columnManager.renderer.rightCol,\t\t\n\t\ttop, bottom, left, right, topLeftCell, bottomRightCell, topLeftCellEl, bottomRightCellEl, topLeftRowEl, bottomRightRowEl;\n\n\t\tif(this.table.options.renderHorizontal === \"virtual\" && this.rangeManager.rowHeader) {\n\t\t\t_vDomRight += 1;\n\t\t}\n\t\t\n\t\tif (_vDomTop == null) {\n\t\t\t_vDomTop = 0;\n\t\t}\n\t\t\n\t\tif (_vDomBottom == null) {\n\t\t\t_vDomBottom = Infinity;\n\t\t}\n\t\t\n\t\tif (_vDomLeft == null) {\n\t\t\t_vDomLeft = 0;\n\t\t}\n\t\t\n\t\tif (_vDomRight == null) {\n\t\t\t_vDomRight = Infinity;\n\t\t}\n\t\t\n\t\tif (this.overlaps(_vDomLeft, _vDomTop, _vDomRight, _vDomBottom)) {\n\t\t\ttop = Math.max(this.top, _vDomTop);\n\t\t\tbottom = Math.min(this.bottom, _vDomBottom);\n\t\t\tleft = Math.max(this.left, _vDomLeft);\n\t\t\tright = Math.min(this.right, _vDomRight);\n\t\t\t\n\t\t\ttopLeftCell = this.rangeManager.getCell(top, left);\n\t\t\tbottomRightCell = this.rangeManager.getCell(bottom, right);\n\t\t\ttopLeftCellEl = topLeftCell.getElement();\n\t\t\tbottomRightCellEl = bottomRightCell.getElement();\n\t\t\ttopLeftRowEl = topLeftCell.row.getElement();\n\t\t\tbottomRightRowEl = bottomRightCell.row.getElement();\n\t\t\t\n\t\t\tthis.element.classList.add(\"tabulator-range-active\");\n\t\t\t// this.element.classList.toggle(\"tabulator-range-active\", this === this.rangeManager.activeRange);\n\n\t\t\tif(this.table.rtl){\n\t\t\t\tthis.element.style.right = topLeftRowEl.offsetWidth - topLeftCellEl.offsetLeft - topLeftCellEl.offsetWidth + \"px\";\n\t\t\t\tthis.element.style.width = topLeftCellEl.offsetLeft + topLeftCellEl.offsetWidth - bottomRightCellEl.offsetLeft + \"px\";\n\t\t\t}else {\n\t\t\t\tthis.element.style.left = topLeftRowEl.offsetLeft + topLeftCellEl.offsetLeft + \"px\";\n\t\t\t\tthis.element.style.width = bottomRightCellEl.offsetLeft + bottomRightCellEl.offsetWidth - topLeftCellEl.offsetLeft + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.element.style.top = topLeftRowEl.offsetTop + \"px\";\n\t\t\tthis.element.style.height = bottomRightRowEl.offsetTop + bottomRightRowEl.offsetHeight - topLeftRowEl.offsetTop + \"px\";\n\t\t}\n\t}\n\t\n\tatTopLeft(cell) {\n\t\treturn cell.row.position - 1 === this.top && cell.column.getPosition() - 1 === this.left;\n\t}\n\t\n\tatBottomRight(cell) {\n\t\treturn cell.row.position - 1 === this.bottom && cell.column.getPosition() - 1 === this.right;\n\t}\n\t\n\toccupies(cell) {\n\t\treturn this.occupiesRow(cell.row) && this.occupiesColumn(cell.column);\n\t}\n\t\n\toccupiesRow(row) {\n\t\treturn this.top <= row.position - 1 && row.position - 1 <= this.bottom;\n\t}\n\t\n\toccupiesColumn(col) {\n\t\treturn this.left <= col.getPosition() - 1 && col.getPosition() - 1 <= this.right;\n\t}\n\t\n\toverlaps(left, top, right, bottom) {\n\t\tif ((this.left > right || left > this.right) || (this.top > bottom || top > this.bottom)){\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\treturn true;\n\t}\n\t\n\tgetData() {\n\t\tvar data = [],\n\t\trows = this.getRows(),\n\t\tcolumns = this.getColumns();\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tvar rowData = row.getData(),\n\t\t\tresult = {};\n\t\t\t\n\t\t\tcolumns.forEach((column) => {\n\t\t\t\tresult[column.field] = rowData[column.field];\n\t\t\t});\n\t\t\t\n\t\t\tdata.push(result);\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tgetCells(structured, component) {\n\t\tvar cells = [],\n\t\trows = this.getRows(),\n\t\tcolumns = this.getColumns();\n\t\t\n\t\tif (structured) {\n\t\t\tcells = rows.map((row) => {\n\t\t\t\tvar arr = [];\n\t\t\t\t\n\t\t\t\trow.getCells().forEach((cell) => {\n\t\t\t\t\tif (columns.includes(cell.column)) {\n\t\t\t\t\t\tarr.push(component ? cell.getComponent() : cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn arr;\n\t\t\t});\n\t\t} else {\n\t\t\trows.forEach((row) => {\n\t\t\t\trow.getCells().forEach((cell) => {\n\t\t\t\t\tif (columns.includes(cell.column)) {\n\t\t\t\t\t\tcells.push(component ? cell.getComponent() : cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn cells;\n\t}\n\t\n\tgetStructuredCells() {\n\t\treturn this.getCells(true, true);\n\t}\n\t\n\tgetRows() {\n\t\treturn this._getTableRows().slice(this.top, this.bottom + 1);\n\t}\n\t\n\tgetColumns() {\n\t\treturn this._getTableColumns().slice(this.left, this.right + 1);\n\t}\n\t\n\tclearValues(){\n\t\tvar cells = this.getCells();\n\t\tvar clearValue = this.table.options.selectableRangeClearCellsValue;\n\t\t\n\t\tthis.table.blockRedraw();\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tcell.setValue(clearValue);\n\t\t});\n\t\t\n\t\tthis.table.restoreRedraw();\n\t\t\n\t}\n\t\n\tgetBounds(component){\n\t\tvar cells = this.getCells(false, component),\n\t\toutput = {\n\t\t\tstart:null,\n\t\t\tend:null,\n\t\t};\n\t\t\n\t\tif(cells.length){\n\t\t\toutput.start = cells[0];\n\t\t\toutput.end = cells[cells.length - 1];\n\t\t}else {\n\t\t\tconsole.warn(\"No bounds defined on range\");\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponent() {\n\t\tif (!this.component) {\n\t\t\tthis.component = new RangeComponent(this);\n\t\t}\n\t\treturn this.component;\n\t}\n\t\n\tdestroy(notify) {\n\t\tthis.destroyed = true;\n\t\t\n\t\tthis.element.remove();\n\t\t\n\t\tif(notify){\n\t\t\tthis.rangeManager.rangeRemoved(this);\n\t\t}\n\t\t\n\t\tif(this.initialized){\n\t\t\tthis.dispatchExternal(\"rangeRemoved\", this.getComponent());\n\t\t}\n\t}\n\t\n\tdestroyedGuard(func){\n\t\tif(this.destroyed){\n\t\t\tconsole.warn(\"You cannot call the \"  + func + \" function on a destroyed range\");\n\t\t}\n\t\t\n\t\treturn !this.destroyed;\n\t}\n}\n\nvar bindings = {\r\n\trangeJumpUp:[\"ctrl + 38\", \"meta + 38\"],\r\n\trangeJumpDown:[\"ctrl + 40\", \"meta + 40\"],\r\n\trangeJumpLeft:[\"ctrl + 37\", \"meta + 37\"],\r\n\trangeJumpRight:[\"ctrl + 39\", \"meta + 39\"],\r\n\trangeExpandUp:\"shift + 38\",\r\n\trangeExpandDown:\"shift + 40\",\r\n\trangeExpandLeft:\"shift + 37\",\r\n\trangeExpandRight:\"shift + 39\",\r\n\trangeExpandJumpUp:[\"ctrl + shift + 38\", \"meta + shift + 38\"],\r\n\trangeExpandJumpDown:[\"ctrl + shift + 40\", \"meta + shift + 40\"],\r\n\trangeExpandJumpLeft:[\"ctrl + shift + 37\", \"meta + shift + 37\"],\r\n\trangeExpandJumpRight:[\"ctrl + shift + 39\", \"meta + shift + 39\"],\r\n};\n\nvar actions = {\r\n\trangeJumpLeft: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"left\", true, false);\r\n\t},\r\n\trangeJumpRight: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"right\", true, false);\r\n\t},\r\n\trangeJumpUp: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"up\", true, false);\r\n\t},\r\n\trangeJumpDown: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"down\", true, false);\r\n\t},\r\n\trangeExpandLeft: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"left\", false, true);\r\n\t},\r\n\trangeExpandRight: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"right\", false, true);\r\n\t},\r\n\trangeExpandUp: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"up\", false, true);\r\n\t},\r\n\trangeExpandDown: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"down\", false, true);\r\n\t},\r\n\trangeExpandJumpLeft: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"left\", true, true);\r\n\t},\r\n\trangeExpandJumpRight: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"right\", true, true);\r\n\t},\r\n\trangeExpandJumpUp: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"up\", true, true);\r\n\t},\r\n\trangeExpandJumpDown: function(e){\r\n\t\tthis.dispatch(\"keybinding-nav-range\", e, \"down\", true, true);\r\n\t},\r\n};\n\nvar pasteActions = {\r\n\trange:function(data){\r\n\t\tvar rows = [],\r\n\t\trange = this.table.modules.selectRange.activeRange,\r\n\t\tsingleCell = false,\r\n\t\tbounds, startCell, startRow, rowWidth, dataLength;\r\n\r\n\t\tdataLength = data.length;\r\n\t\t\r\n\t\tif(range){\r\n\t\t\tbounds = range.getBounds();\r\n\t\t\tstartCell = bounds.start;\r\n\t\t\t\r\n\t\t\tif(bounds.start === bounds.end){\r\n\t\t\t\tsingleCell = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(startCell){\r\n\t\t\t\trows = this.table.rowManager.activeRows.slice();\r\n\t\t\t\tstartRow = rows.indexOf(startCell.row);\r\n\r\n\t\t\t\tif(singleCell){\r\n\t\t\t\t\trowWidth = data.length;\r\n\t\t\t\t}else {\r\n\t\t\t\t\trowWidth = (rows.indexOf(bounds.end.row) - startRow) + 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(startRow >-1){\r\n\t\t\t\t\tthis.table.blockRedraw();\r\n\t\t\t\t\t\r\n\t\t\t\t\trows = rows.slice(startRow, startRow + rowWidth);\r\n\t\t\t\t\t\r\n\t\t\t\t\trows.forEach((row, i) => {\r\n\t\t\t\t\t\trow.updateData(data[i % dataLength]);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.table.restoreRedraw();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn rows;\r\n\t}\r\n};\n\nvar pasteParsers = {\r\n\trange:function(clipboard){\r\n\t\tvar data = [],\r\n\t\trows = [],\r\n\t\trange = this.table.modules.selectRange.activeRange,\r\n\t\tsingleCell = false,\r\n\t\tbounds, startCell, colWidth, columnMap, startCol;\r\n\t\t\r\n\t\tif(range){\r\n\t\t\tbounds = range.getBounds();\r\n\t\t\tstartCell = bounds.start;\r\n\r\n\t\t\tif(bounds.start === bounds.end){\r\n\t\t\t\tsingleCell = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(startCell){\r\n\t\t\t\t//get data from clipboard into array of columns and rows.\r\n\t\t\t\tclipboard = clipboard.split(\"\\n\");\r\n\t\t\t\t\r\n\t\t\t\tclipboard.forEach(function(row){\r\n\t\t\t\t\tdata.push(row.split(\"\\t\"));\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tif(data.length){\r\n\t\t\t\t\tcolumnMap = this.table.columnManager.getVisibleColumnsByIndex();\r\n\t\t\t\t\tstartCol = columnMap.indexOf(startCell.column);\r\n\r\n\t\t\t\t\tif(startCol > -1){\r\n\t\t\t\t\t\tif(singleCell){\r\n\t\t\t\t\t\t\tcolWidth = data[0].length;\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tcolWidth = (columnMap.indexOf(bounds.end.column) - startCol) + 1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcolumnMap = columnMap.slice(startCol, startCol + colWidth);\r\n\r\n\t\t\t\t\t\tdata.forEach((item) => {\r\n\t\t\t\t\t\t\tvar row = {};\r\n\t\t\t\t\t\t\tvar itemLength = item.length;\r\n\r\n\t\t\t\t\t\t\tcolumnMap.forEach(function(col, i){\r\n\t\t\t\t\t\t\t\trow[col.field] = item[i % itemLength];\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\trows.push(row);\t\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn rows;\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n};\n\nvar columnLookups = {\r\n\trange:function(){\r\n\t\tvar columns = this.modules.selectRange.selectedColumns();\r\n\r\n\t\tif(this.columnManager.rowHeader){\r\n\t\t\tcolumns.unshift(this.columnManager.rowHeader);\r\n\t\t}\r\n\r\n\t\treturn columns;\r\n\t},\r\n};\n\nvar rowLookups = {\r\n\trange:function(){\r\n\t\treturn this.modules.selectRange.selectedRows();\r\n\t},\r\n};\n\nvar extensions = {\r\n\tkeybindings:{\r\n\t\tbindings:bindings,\r\n\t\tactions:actions\r\n\t},\r\n\tclipboard:{\r\n\t\tpasteActions:pasteActions,\r\n\t\tpasteParsers:pasteParsers\r\n\t},\r\n\texport:{\r\n\t\tcolumnLookups:columnLookups,\r\n\t\trowLookups:rowLookups,\r\n\t}\r\n};\n\nclass SelectRange extends Module {\n\t\n\tstatic moduleName = \"selectRange\";\n\tstatic moduleInitOrder = 1;\n\tstatic moduleExtensions = extensions;\n\t\n\tconstructor(table) {\n\t\tsuper(table);\n\t\t\n\t\tthis.selecting = \"cell\";\n\t\tthis.mousedown = false;\n\t\tthis.ranges = [];\n\t\tthis.overlay = null;\n\t\tthis.rowHeader = null;\n\t\tthis.layoutChangeTimeout = null;\n\t\tthis.columnSelection = false;\n\t\tthis.rowSelection = false;\n\t\tthis.maxRanges = 0;\n\t\tthis.activeRange = false;\n\t\tthis.blockKeydown = false;\n\t\t\n\t\tthis.keyDownEvent = this._handleKeyDown.bind(this);\n\t\tthis.mouseUpEvent = this._handleMouseUp.bind(this);\n\t\t\n\t\tthis.registerTableOption(\"selectableRange\", false); //enable selectable range\n\t\tthis.registerTableOption(\"selectableRangeColumns\", false); //enable selectable range\n\t\tthis.registerTableOption(\"selectableRangeRows\", false); //enable selectable range\n\t\tthis.registerTableOption(\"selectableRangeClearCells\", false); //allow clearing of active range\n\t\tthis.registerTableOption(\"selectableRangeClearCellsValue\", undefined); //value for cleared active range\n\t\tthis.registerTableOption(\"selectableRangeAutoFocus\", true); //focus on a cell after resetRanges\n\t\t\n\t\tthis.registerTableFunction(\"getRangesData\", this.getRangesData.bind(this));\n\t\tthis.registerTableFunction(\"getRanges\", this.getRanges.bind(this));\n\t\tthis.registerTableFunction(\"addRange\", this.addRangeFromComponent.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"getRanges\", this.cellGetRanges.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getRanges\", this.rowGetRanges.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"getRanges\", this.colGetRanges.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////    Initialization   ///////\n\t///////////////////////////////////\n\t\n\tinitialize() {\n\t\tif (this.options(\"selectableRange\")) {\t\n\t\t\tif(!this.options(\"selectableRows\")){\n\t\t\t\tthis.maxRanges = this.options(\"selectableRange\");\n\t\t\t\t\n\t\t\t\tthis.initializeTable();\n\t\t\t\tthis.initializeWatchers();\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"SelectRange functionality cannot be used in conjunction with row selection\");\n\t\t\t}\n\n\t\t\tif(this.options('columns').findIndex((column) => column.frozen) > 0) {\n\t\t\t\tconsole.warn(\"Having frozen column in arbitrary position with selectRange option may result in unpredictable behavior.\");\n\t\t\t}\n\n\t\t\tif(this.options('columns').filter((column) => column.frozen) > 1) {\n\t\t\t\tconsole.warn(\"Having multiple frozen columns with selectRange option may result in unpredictable behavior.\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tinitializeTable() {\t\t\n\t\tthis.overlay = document.createElement(\"div\");\n\t\tthis.overlay.classList.add(\"tabulator-range-overlay\");\n\t\t\n\t\tthis.rangeContainer = document.createElement(\"div\");\n\t\tthis.rangeContainer.classList.add(\"tabulator-range-container\");\n\t\t\n\t\tthis.activeRangeCellElement = document.createElement(\"div\");\n\t\tthis.activeRangeCellElement.classList.add(\"tabulator-range-cell-active\");\n\t\t\n\t\tthis.overlay.appendChild(this.rangeContainer);\n\t\tthis.overlay.appendChild(this.activeRangeCellElement);\n\t\t\n\t\tthis.table.rowManager.element.addEventListener(\"keydown\", this.keyDownEvent);\n\t\t\n\t\tthis.resetRanges();\n\t\t\n\t\tthis.table.rowManager.element.appendChild(this.overlay);\n\t\tthis.table.columnManager.element.setAttribute(\"tabindex\", 0);\n\t\tthis.table.element.classList.add(\"tabulator-ranges\");\n\t}\n\t\n\tinitializeWatchers() {\n\t\tthis.columnSelection = this.options(\"selectableRangeColumns\");\n\t\tthis.rowSelection = this.options(\"selectableRangeRows\");\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-mousedown\", this.handleColumnMouseDown.bind(this));\n\t\tthis.subscribe(\"column-mousemove\", this.handleColumnMouseMove.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.handleColumnResized.bind(this));\n\t\tthis.subscribe(\"column-moving\", this.handleColumnMoving.bind(this));\n\t\tthis.subscribe(\"column-moved\", this.handleColumnMoved.bind(this));\n\t\tthis.subscribe(\"column-width\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"column-height\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"columns-loaded\", this.updateHeaderColumn.bind(this));\n\t\t\n\t\tthis.subscribe(\"cell-height\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"cell-rendered\", this.renderCell.bind(this));\n\t\tthis.subscribe(\"cell-mousedown\", this.handleCellMouseDown.bind(this));\n\t\tthis.subscribe(\"cell-mousemove\", this.handleCellMouseMove.bind(this));\n\t\tthis.subscribe(\"cell-click\", this.handleCellClick.bind(this));\n\t\tthis.subscribe(\"cell-editing\", this.handleEditingCell.bind(this));\n\t\t\n\t\tthis.subscribe(\"page-changed\", this.redraw.bind(this));\n\t\t\n\t\tthis.subscribe(\"scroll-vertical\", this.layoutChange.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.layoutChange.bind(this));\n\t\t\n\t\tthis.subscribe(\"data-destroy\", this.tableDestroyed.bind(this));\n\t\tthis.subscribe(\"data-processed\", this.resetRanges.bind(this));\n\t\t\n\t\tthis.subscribe(\"table-layout\", this.layoutElement.bind(this));\n\t\tthis.subscribe(\"table-redraw\", this.redraw.bind(this));\n\t\tthis.subscribe(\"table-destroy\", this.tableDestroyed.bind(this));\n\t\t\n\t\tthis.subscribe(\"edit-editor-clear\", this.finishEditingCell.bind(this));\n\t\tthis.subscribe(\"edit-blur\", this.restoreFocus.bind(this));\n\t\t\n\t\tthis.subscribe(\"keybinding-nav-prev\", this.keyNavigate.bind(this, \"left\"));\n\t\tthis.subscribe(\"keybinding-nav-next\", this.keyNavigate.bind(this, \"right\"));\n\t\tthis.subscribe(\"keybinding-nav-left\", this.keyNavigate.bind(this, \"left\"));\n\t\tthis.subscribe(\"keybinding-nav-right\", this.keyNavigate.bind(this, \"right\"));\n\t\tthis.subscribe(\"keybinding-nav-up\", this.keyNavigate.bind(this, \"up\"));\n\t\tthis.subscribe(\"keybinding-nav-down\", this.keyNavigate.bind(this, \"down\"));\n\t\tthis.subscribe(\"keybinding-nav-range\", this.keyNavigateRange.bind(this));\n\t}\n\t\n\t\n\tinitializeColumn(column) {\n\t\tif(this.columnSelection && column.definition.headerSort && this.options(\"headerSortClickElement\") !== \"icon\"){\n\t\t\tconsole.warn(\"Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'.\");\n\t\t}\n\t\t\n\t\tif (column.modules.edit) ;\n\t}\n\t\n\tupdateHeaderColumn(){\n\t\tvar frozenCols;\n\n\t\tif(this.rowSelection){\n\t\t\tthis.rowHeader = this.table.columnManager.getVisibleColumnsByIndex()[0];\n\t\t\t\n\t\t\tif(this.rowHeader){\n\t\t\t\tthis.rowHeader.definition.cssClass = this.rowHeader.definition.cssClass + \" tabulator-range-row-header\";\n\t\t\t\t\n\t\t\t\tif(this.rowHeader.definition.headerSort){\n\t\t\t\t\tconsole.warn(\"Using column headerSort with selectableRangeRows option may result in unpredictable behavior\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.rowHeader.definition.editor){\n\t\t\t\t\tconsole.warn(\"Using column editor with selectableRangeRows option may result in unpredictable behavior\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//warn if invalid frozen column configuration detected\n\t\tif(this.table.modules.frozenColumns && this.table.modules.frozenColumns.active){\n\t\t\tfrozenCols = this.table.modules.frozenColumns.getFrozenColumns();\n\n\t\t\tif(frozenCols.length > 1 || (frozenCols.length === 1 && frozenCols[0] !== this.rowHeader)){\n\t\t\t\tconsole.warn(\"Using frozen columns that are not the range header in combination with the selectRange option may result in unpredictable behavior\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////   Table Functions   ///////\n\t///////////////////////////////////\n\t\n\tgetRanges(){\n\t\treturn this.ranges.map((range) => range.getComponent());\n\t}\n\t\n\tgetRangesData() {\n\t\treturn this.ranges.map((range) => range.getData());\n\t}\n\t\n\taddRangeFromComponent(start, end){\n\t\tstart = start ? start._cell : null;\n\t\tend = end ? end._cell : null;\n\t\t\n\t\treturn this.addRange(start, end);\n\t}\n\t\n\t///////////////////////////////////\n\t/////// Component Functions ///////\n\t///////////////////////////////////\n\t\n\tcellGetRanges(cell){\n\t\tvar ranges = [];\n\t\t\n\t\tif (cell.column === this.rowHeader) {\n\t\t\tranges = this.ranges.filter((range) => range.occupiesRow(cell.row));\n\t\t} else {\n\t\t\tranges = this.ranges.filter((range) => range.occupies(cell));\n\t\t}\n\t\t\n\t\treturn ranges.map((range) => range.getComponent());\n\t}\n\t\n\trowGetRanges(row){\n\t\tvar ranges = this.ranges.filter((range) => range.occupiesRow(row));\n\t\t\n\t\treturn ranges.map((range) => range.getComponent());\n\t}\n\t\n\tcolGetRanges(col){\n\t\tvar ranges = this.ranges.filter((range) => range.occupiesColumn(col));\n\t\t\n\t\treturn ranges.map((range) => range.getComponent());\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Event Handlers /////////\n\t///////////////////////////////////\n\t\n\t_handleMouseUp(e){\n\t\tthis.mousedown = false;\n\t\tdocument.removeEventListener(\"mouseup\", this.mouseUpEvent);\n\t}\n\t\n\t_handleKeyDown(e) {\n\t\tif (!this.blockKeydown && (!this.table.modules.edit || (this.table.modules.edit && !this.table.modules.edit.currentCell))) {\n\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t// is editing a cell?\n\t\t\t\tif (this.table.modules.edit && this.table.modules.edit.currentCell) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.modules.edit.editCell(this.getActiveCell());\n\t\t\t\t\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tif ((e.key === \"Backspace\" || e.key === \"Delete\") && this.options(\"selectableRangeClearCells\")) {\n\t\t\t\tif(this.activeRange){\n\t\t\t\t\tthis.activeRange.clearValues();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinitializeFocus(cell){\n\t\tvar range;\n\n\t\tthis.restoreFocus();\n\t\t\n\t\ttry{\n\t\t\tif (document.selection) { // IE\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToElementText(cell.getElement());\n\t\t\t\trange.select();\n\t\t\t} else if (window.getSelection) {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNode(cell.getElement());\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t}\n\t\t}catch(e){}\n\t}\n\t\n\trestoreFocus(element){\n\t\tthis.table.rowManager.element.focus();\n\t\t\n\t\treturn true;\n\t}\n\t\n\t///////////////////////////////////\n\t////// Column Functionality ///////\n\t///////////////////////////////////\n\t\n\thandleColumnResized(column) {\n\t\tvar selected;\n\t\t\n\t\tif (this.selecting !== \"column\" && this.selecting !== \"all\") {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tselected = this.ranges.some((range) => range.occupiesColumn(column));\n\t\t\n\t\tif (!selected) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.ranges.forEach((range) => {\n\t\t\tvar selectedColumns = range.getColumns(true);\n\t\t\t\n\t\t\tselectedColumns.forEach((selectedColumn) => {\n\t\t\t\tif (selectedColumn !== column) {\n\t\t\t\t\tselectedColumn.setWidth(column.width);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t\n\thandleColumnMoving(_event, column) {\n\t\tthis.resetRanges().setBounds(column);\n\t\tthis.overlay.style.visibility = \"hidden\";\n\t}\n\n\thandleColumnMoved(from, _to, _after) {\n\t\tthis.activeRange.setBounds(from);\n\t\tthis.layoutElement();\n\t}\n\n\thandleColumnMouseDown(event, column) {\n\t\tif (event.button === 2 && (this.selecting === \"column\" || this.selecting === \"all\") && this.activeRange.occupiesColumn(column)) {\n\t\t\treturn;\n\t\t}\n\n\t\t//If columns are movable, allow dragging columns only if they are not\n\t\t//selected. Dragging selected columns should move the columns instead.\n\t\tif(this.table.options.movableColumns && this.selecting === \"column\" && this.activeRange.occupiesColumn(column)){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.mousedown = true;\n\t\t\n\t\tdocument.addEventListener(\"mouseup\", this.mouseUpEvent);\n\t\t\n\t\tthis.newSelection(event, column);\n\t}\n\t\n\thandleColumnMouseMove(e, column) {\n\t\tif (column === this.rowHeader || !this.mousedown || this.selecting === 'all') {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.activeRange.setBounds(false, column, true);\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Cell Functionality ///////\n\t///////////////////////////////////\n\t\n\trenderCell(cell) {\n\t\tvar el = cell.getElement(),\n\t\trangeIdx = this.ranges.findIndex((range) => range.occupies(cell));\n\t\t\n\t\tel.classList.toggle(\"tabulator-range-selected\", rangeIdx !== -1);\n\t\tel.classList.toggle(\"tabulator-range-only-cell-selected\", this.ranges.length === 1 && this.ranges[0].atTopLeft(cell) &&\tthis.ranges[0].atBottomRight(cell));\n\t\t\n\t\tel.dataset.range = rangeIdx;\n\t}\n\t\n\thandleCellMouseDown(event, cell) {\n\t\tif (event.button === 2 && (this.activeRange.occupies(cell) || ((this.selecting === \"row\" || this.selecting === \"all\") && this.activeRange.occupiesRow(cell.row)))) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.mousedown = true;\n\t\t\n\t\tdocument.addEventListener(\"mouseup\", this.mouseUpEvent);\n\t\t\n\t\tthis.newSelection(event, cell);\n\t}\n\t\n\thandleCellMouseMove(e, cell) {\n\t\tif (!this.mousedown || this.selecting === \"all\") {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.activeRange.setBounds(false, cell, true);\n\t}\n\t\n\thandleCellClick(e, cell){\n\t\tthis.initializeFocus(cell);\n\t}\n\t\n\thandleEditingCell(cell) {\n\t\tif(this.activeRange){\n\t\t\tthis.activeRange.setBounds(cell);\n\t\t}\n\t}\n\t\n\tfinishEditingCell() {\n\t\tthis.blockKeydown = true;\n\t\tthis.table.rowManager.element.focus();\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tthis.blockKeydown = false;\n\t\t}, 10);\n\t}\n\t\n\t///////////////////////////////////\n\t///////     Navigation      ///////\n\t///////////////////////////////////\n\t\n\tkeyNavigate(dir, e){\n\t\tif(this.navigate(false, false, dir));\n\t\te.preventDefault();\n\t}\n\t\n\tkeyNavigateRange(e, dir, jump, expand){\n\t\tif(this.navigate(jump, expand, dir));\n\t\te.preventDefault();\n\t}\n\t\n\tnavigate(jump, expand, dir) {\n\t\tvar moved = false,\n\t\trange, rangeEdge, prevRect, nextRow, nextCol, row, column,\n\t\trowRect, rowManagerRect, columnRect, columnManagerRect;\n\t\t\n\t\t// Don't navigate while editing\n\t\tif (this.table.modules.edit && this.table.modules.edit.currentCell) {\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\t// If there are more than 1 range, use the active range and destroy the others\n\t\tif (this.ranges.length > 1) {\n\t\t\tthis.ranges = this.ranges.filter((range) => {\n\t\t\t\tif (range === this.activeRange) {\n\t\t\t\t\trange.setEnd(range.start.row, range.start.col);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\trange.destroy();\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\t\n\t\trange = this.activeRange;\n\t\tprevRect = {\n\t\t\ttop: range.top,\n\t\t\tbottom: range.bottom,\n\t\t\tleft: range.left,\n\t\t\tright: range.right\n\t\t};\n\t\t\n\t\trangeEdge = expand ? range.end : range.start;\n\t\tnextRow = rangeEdge.row;\n\t\tnextCol = rangeEdge.col;\n\t\t\n\t\tif(jump){\n\t\t\tswitch(dir){\n\t\t\t\tcase \"left\":\n\t\t\t\t\tnextCol = this.findJumpCellLeft(range.start.row, rangeEdge.col);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\tnextCol = this.findJumpCellRight(range.start.row, rangeEdge.col);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"up\":\n\t\t\t\t\tnextRow = this.findJumpCellUp(rangeEdge.row, range.start.col);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"down\":\n\t\t\t\t\tnextRow = this.findJumpCellDown(rangeEdge.row, range.start.col);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}else {\n\t\t\tif(expand){\n\t\t\t\tif ((this.selecting === 'row' && (dir === 'left' || dir === 'right')) || (this.selecting === 'column' && (dir === 'up' || dir === 'down'))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tswitch(dir){\n\t\t\t\tcase \"left\":\n\t\t\t\t\tnextCol = Math.max(nextCol - 1, 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\tnextCol = Math.min(nextCol + 1, this.getTableColumns().length - 1);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"up\":\n\t\t\t\t\tnextRow = Math.max(nextRow - 1, 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"down\":\n\t\t\t\t\tnextRow = Math.min(nextRow + 1, this.getTableRows().length - 1);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(this.rowHeader && nextCol === 0) {\n\t\t\tnextCol = 1;\n\t\t}\n\t\t\n\t\tif(!expand){\n\t\t\trange.setStart(nextRow, nextCol);\n\t\t}\n\t\t\n\t\trange.setEnd(nextRow, nextCol);\n\t\t\n\t\tif(!expand){\n\t\t\tthis.selecting = \"cell\";\n\t\t}\n\n\t\tmoved = prevRect.top !== range.top || prevRect.bottom !== range.bottom || prevRect.left !== range.left || prevRect.right !== range.right;\n\n\t\tif (moved) {\n\t\t\trow = this.getRowByRangePos(range.end.row);\n\t\t\tcolumn = this.getColumnByRangePos(range.end.col);\n\t\t\trowRect = row.getElement().getBoundingClientRect();\n\t\t\tcolumnRect = column.getElement().getBoundingClientRect();\n\t\t\trowManagerRect = this.table.rowManager.getElement().getBoundingClientRect();\n\t\t\tcolumnManagerRect = this.table.columnManager.getElement().getBoundingClientRect();\n\t\t\t\n\t\t\tif(!(rowRect.top >= rowManagerRect.top && rowRect.bottom <= rowManagerRect.bottom)){\n\t\t\t\tif(row.getElement().parentNode && column.getElement().parentNode){\n\t\t\t\t\t// Use faster autoScroll when the elements are on the DOM\n\t\t\t\t\tthis.autoScroll(range, row.getElement(), column.getElement());\n\t\t\t\t}else {\n\t\t\t\t\trow.getComponent().scrollTo(undefined, false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!(columnRect.left >= columnManagerRect.left + this.getRowHeaderWidth() && columnRect.right <= columnManagerRect.right)){\n\t\t\t\tif(row.getElement().parentNode && column.getElement().parentNode){\n\t\t\t\t\t// Use faster autoScroll when the elements are on the DOM\n\t\t\t\t\tthis.autoScroll(range, row.getElement(), column.getElement());\n\t\t\t\t}else {\n\t\t\t\t\tcolumn.getComponent().scrollTo(undefined, false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.layoutElement();\n\t\t\t\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\trangeRemoved(removed){\n\t\tthis.ranges = this.ranges.filter((range) => range !== removed);\n\t\t\n\t\tif(this.activeRange === removed){\n\t\t\tif(this.ranges.length){\n\t\t\t\tthis.activeRange = this.ranges[this.ranges.length - 1];\n\t\t\t}else {\n\t\t\t\tthis.addRange();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.layoutElement();\n\t}\n\t\n\tfindJumpRow(column, rows, reverse, emptyStart, emptySide){\n\t\tif(reverse){\n\t\t\trows = rows.reverse();\n\t\t}\n\n\t\treturn this.findJumpItem(emptyStart, emptySide, rows, function(row){return row.getData()[column.getField()];});\n\t}\n\t\n\tfindJumpCol(row, columns, reverse, emptyStart, emptySide){\n\t\tif(reverse){\n\t\t\tcolumns = columns.reverse();\n\t\t}\n\n\t\treturn this.findJumpItem(emptyStart, emptySide, columns, function(column){return row.getData()[column.getField()];});\n\t}\n\n\tfindJumpItem(emptyStart, emptySide, items, valueResolver){\n\t\tvar nextItem;\n\n\t\tfor(let currentItem of items){\n\t\t\tlet currentValue = valueResolver(currentItem);\n\t\t\t\n\t\t\tif(emptyStart){\n\t\t\t\tnextItem = currentItem;\n\t\t\t\tif(currentValue){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(emptySide){\n\t\t\t\t\tnextItem = currentItem;\n\t\t\t\t\t\n\t\t\t\t\tif(currentValue){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tif(currentValue){\n\t\t\t\t\t\tnextItem = currentItem;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn nextItem;\n\t}\n\n\tfindJumpCellLeft(rowPos, colPos){\n\t\tvar row = this.getRowByRangePos(rowPos),\n\t\tcolumns = this.getTableColumns(),\n\t\tisStartingCellEmpty = this.isEmpty(row.getData()[columns[colPos].getField()]),\n\t\tisLeftOfStartingCellEmpty = columns[colPos - 1] ? this.isEmpty(row.getData()[columns[colPos - 1].getField()]) : false,\n\t\ttargetCols = this.rowHeader ? columns.slice(1, colPos) : columns.slice(0, colPos),\n\t\tjumpCol = this.findJumpCol(row, targetCols, true, isStartingCellEmpty, isLeftOfStartingCellEmpty);\n\t\t\n\t\tif(jumpCol){\n\t\t\treturn jumpCol.getPosition() - 1;\n\t\t}\n\t\t\n\t\treturn colPos;\n\t}\n\t\n\tfindJumpCellRight(rowPos, colPos){\n\t\tvar row = this.getRowByRangePos(rowPos),\n\t\tcolumns = this.getTableColumns(),\n\t\tisStartingCellEmpty = this.isEmpty(row.getData()[columns[colPos].getField()]),\n\t\tisRightOfStartingCellEmpty = columns[colPos + 1] ? this.isEmpty(row.getData()[columns[colPos + 1].getField()]) : false,\n\t\tjumpCol = this.findJumpCol(row, columns.slice(colPos + 1, columns.length), false, isStartingCellEmpty, isRightOfStartingCellEmpty);\n\t\t\n\t\tif(jumpCol){\n\t\t\treturn jumpCol.getPosition() - 1;\n\t\t}\n\t\t\n\t\treturn colPos;\n\t}\n\t\n\tfindJumpCellUp(rowPos, colPos) {\n\t\tvar column = this.getColumnByRangePos(colPos),\n\t\trows = this.getTableRows(),\n\t\tisStartingCellEmpty = this.isEmpty(rows[rowPos].getData()[column.getField()]),\n\t\tisTopOfStartingCellEmpty = rows[rowPos - 1] ? this.isEmpty(rows[rowPos - 1].getData()[column.getField()]) : false,\n\t\tjumpRow = this.findJumpRow(column, rows.slice(0, rowPos), true, isStartingCellEmpty, isTopOfStartingCellEmpty);\n\t\t\n\t\tif(jumpRow){\n\t\t\treturn jumpRow.position - 1;\n\t\t}\n\t\t\n\t\treturn rowPos;\n\t}\n\t\n\tfindJumpCellDown(rowPos, colPos) {\n\t\tvar column = this.getColumnByRangePos(colPos),\n\t\trows = this.getTableRows(),\n\t\tisStartingCellEmpty = this.isEmpty(rows[rowPos].getData()[column.getField()]),\n\t\tisBottomOfStartingCellEmpty = rows[rowPos + 1] ? this.isEmpty(rows[rowPos + 1].getData()[column.getField()]) : false,\n\t\tjumpRow = this.findJumpRow(column, rows.slice(rowPos + 1, rows.length), false, isStartingCellEmpty, isBottomOfStartingCellEmpty);\n\t\t\n\t\tif(jumpRow){\n\t\t\treturn jumpRow.position - 1;\n\t\t}\n\t\t\n\t\treturn rowPos;\n\t}\n\t\n\t///////////////////////////////////\n\t///////      Selection      ///////\n\t///////////////////////////////////\n\tnewSelection(event, element) {\n\t\tvar range;\n\t\t\n\t\tif (element.type === \"column\") {\n\t\t\tif(!this.columnSelection){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (element === this.rowHeader) {\n\t\t\t\trange = this.resetRanges();\n\t\t\t\tthis.selecting = \"all\";\n\t\t\t\t\n\t\t\t\tvar topLeftCell, bottomRightCell = this.getCell(-1, -1);\n\t\t\t\t\n\t\t\t\tif(this.rowHeader){\n\t\t\t\t\ttopLeftCell = this.getCell(0, 1);\n\t\t\t\t}else {\n\t\t\t\t\ttopLeftCell = this.getCell(0, 0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trange.setBounds(topLeftCell, bottomRightCell);\t\t\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.selecting = \"column\";\n\t\t\t}\n\t\t} else if (element.column === this.rowHeader) {\n\t\t\tthis.selecting = \"row\";\n\t\t} else {\n\t\t\tthis.selecting = \"cell\";\n\t\t}\n\t\t\n\t\tif (event.shiftKey) {\n\t\t\tthis.activeRange.setBounds(false, element);\n\t\t} else if (event.ctrlKey) {\n\t\t\tthis.addRange().setBounds(element);\n\t\t} else {\n\t\t\tthis.resetRanges().setBounds(element);\n\t\t}\n\t}\n\t\n\tautoScroll(range, row, column) {\n\t\tvar tableHolder = this.table.rowManager.element,\n\t\trect, view, withinHorizontalView, withinVerticalView;\n\t\t\n\t\tif (typeof row === 'undefined') {\n\t\t\trow = this.getRowByRangePos(range.end.row).getElement();\n\t\t}\n\t\t\n\t\tif (typeof column === 'undefined') {\n\t\t\tcolumn = this.getColumnByRangePos(range.end.col).getElement();\n\t\t}\n\t\t\n\t\trect = {\n\t\t\tleft: column.offsetLeft,\n\t\t\tright: column.offsetLeft + column.offsetWidth,\n\t\t\ttop: row.offsetTop,\n\t\t\tbottom: row.offsetTop + row.offsetHeight,\n\t\t};\n\t\t\n\t\tview = {\n\t\t\tleft: tableHolder.scrollLeft + this.getRowHeaderWidth(),\n\t\t\tright: Math.ceil(tableHolder.scrollLeft + tableHolder.clientWidth),\n\t\t\ttop: tableHolder.scrollTop,\n\t\t\tbottom:\ttableHolder.scrollTop +\ttableHolder.offsetHeight - this.table.rowManager.scrollbarWidth,\n\t\t};\n\t\t\n\t\twithinHorizontalView = view.left < rect.left &&\trect.left < view.right && view.left < rect.right &&\trect.right < view.right;\n\t\t\n\t\twithinVerticalView = view.top < rect.top &&\trect.top < view.bottom && view.top < rect.bottom &&\trect.bottom < view.bottom;\n\t\t\n\t\tif (!withinHorizontalView) {\n\t\t\tif (rect.left < view.left) {\n\t\t\t\ttableHolder.scrollLeft = rect.left - this.getRowHeaderWidth();\n\t\t\t} else if (rect.right > view.right) {\n\t\t\t\ttableHolder.scrollLeft = Math.min(rect.right - tableHolder.clientWidth, rect.left - this.getRowHeaderWidth());\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!withinVerticalView) {\n\t\t\tif (rect.top < view.top) {\n\t\t\t\ttableHolder.scrollTop = rect.top;\n\t\t\t} else if (rect.bottom > view.bottom) {\n\t\t\t\ttableHolder.scrollTop = rect.bottom - tableHolder.clientHeight;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////       Layout        ///////\n\t///////////////////////////////////\n\t\n\tlayoutChange(){\n\t\tthis.overlay.style.visibility = \"hidden\";\n\t\tclearTimeout(this.layoutChangeTimeout);\n\t\tthis.layoutChangeTimeout = setTimeout(this.layoutRanges.bind(this), 200);\n\t}\n\t\n\tredraw(force) {\n\t\tif (force) {\n\t\t\tthis.selecting = 'cell';\n\t\t\tthis.resetRanges();\n\t\t\tthis.layoutElement();\n\t\t}\n\t}\n\t\n\tlayoutElement(visibleRows) {\n\t\tvar rows;\n\t\t\n\t\tif (visibleRows) {\n\t\t\trows = this.table.rowManager.getVisibleRows(true);\n\t\t} else {\n\t\t\trows = this.table.rowManager.getRows();\n\t\t}\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif (row.type === \"row\") {\n\t\t\t\tthis.layoutRow(row);\n\t\t\t\trow.cells.forEach((cell) => this.renderCell(cell));\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.getTableColumns().forEach((column) => {\n\t\t\tthis.layoutColumn(column);\n\t\t});\n\t\t\n\t\tthis.layoutRanges();\n\t}\n\t\n\tlayoutRow(row) {\n\t\tvar el = row.getElement(),\n\t\tselected = false,\n\t\toccupied = this.ranges.some((range) => range.occupiesRow(row));\n\t\t\n\t\tif (this.selecting === \"row\") {\n\t\t\tselected = occupied;\n\t\t} else if (this.selecting === \"all\") {\n\t\t\tselected = true;\n\t\t}\n\t\t\n\t\tel.classList.toggle(\"tabulator-range-selected\", selected);\n\t\tel.classList.toggle(\"tabulator-range-highlight\", occupied);\n\t}\n\t\n\tlayoutColumn(column) {\n\t\tvar el = column.getElement(),\t\t\n\t\tselected = false,\n\t\toccupied = this.ranges.some((range) => range.occupiesColumn(column));\n\t\t\n\t\tif (this.selecting === \"column\") {\n\t\t\tselected = occupied;\n\t\t} else if (this.selecting === \"all\") {\n\t\t\tselected = true;\n\t\t}\n\t\t\n\t\tel.classList.toggle(\"tabulator-range-selected\", selected);\n\t\tel.classList.toggle(\"tabulator-range-highlight\", occupied);\n\t}\n\t\n\tlayoutRanges() {\n\t\tvar activeCell, activeCellEl, activeRowEl;\n\t\t\n\t\tif (!this.table.initialized) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tactiveCell = this.getActiveCell();\n\t\t\n\t\tif (!activeCell) {\n\t\t\treturn;\n\t\t}\n\n\t\tactiveCellEl = activeCell.getElement();\n\t\tactiveRowEl = activeCell.row.getElement();\n\n\t\tif(this.table.rtl){\n\t\t\tthis.activeRangeCellElement.style.right = activeRowEl.offsetWidth - activeCellEl.offsetLeft - activeCellEl.offsetWidth + \"px\";\n\t\t}else {\n\t\t\tthis.activeRangeCellElement.style.left = activeRowEl.offsetLeft + activeCellEl.offsetLeft + \"px\";\n\t\t}\n\n\t\tthis.activeRangeCellElement.style.top =\tactiveRowEl.offsetTop + \"px\";\n\t\tthis.activeRangeCellElement.style.width = activeCellEl.offsetWidth + \"px\";\n\t\tthis.activeRangeCellElement.style.height =  activeRowEl.offsetHeight  + \"px\";\n\t\t\n\t\tthis.ranges.forEach((range) => range.layout());\n\t\t\n\t\tthis.overlay.style.visibility = \"visible\";\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////  Helper Functions   ///////\n\t///////////////////////////////////\t\n\t\n\tgetCell(rowIdx, colIdx) {\n\t\tvar row;\n\t\t\n\t\tif (colIdx < 0) {\n\t\t\tcolIdx = this.getTableColumns().length + colIdx;\n\t\t\tif (colIdx < 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (rowIdx < 0) {\n\t\t\trowIdx = this.getTableRows().length + rowIdx;\n\t\t}\n\t\t\n\t\trow = this.table.rowManager.getRowFromPosition(rowIdx + 1);\n\t\t\n\t\treturn row ? row.getCells(false, true).filter((cell) => cell.column.visible)[colIdx] : null;\n\t}\n\t\n\t\n\tgetActiveCell() {\n\t\treturn this.getCell(this.activeRange.start.row, this.activeRange.start.col);\n\t}\n\t\n\tgetRowByRangePos(pos) {\n\t\treturn this.getTableRows()[pos];\n\t}\n\t\n\tgetColumnByRangePos(pos) {\n\t\treturn this.getTableColumns()[pos];\n\t}\n\t\n\tgetTableRows() {\n\t\treturn this.table.rowManager.getDisplayRows().filter(row=> row.type === \"row\");\n\t}\n\t\n\tgetTableColumns() {\n\t\treturn this.table.columnManager.getVisibleColumnsByIndex();\n\t}\n\t\n\taddRange(start, end) {\n\t\tvar  range;\n\t\t\n\t\tif(this.maxRanges !== true && this.ranges.length >= this.maxRanges){\n\t\t\tthis.ranges.shift().destroy();\n\t\t}\n\t\t\n\t\trange = new Range(this.table, this, start, end);\n\t\t\n\t\tthis.activeRange = range;\n\t\tthis.ranges.push(range);\n\t\tthis.rangeContainer.appendChild(range.element);\n\t\t\n\t\treturn range;\n\t}\n\t\n\tresetRanges() {\n\t\tvar range, cell, visibleCells;\n\t\t\n\t\tthis.ranges.forEach((range) => range.destroy());\n\t\tthis.ranges = [];\n\t\t\n\t\trange = this.addRange();\n\t\t\n\t\tif(this.table.rowManager.activeRows.length){\n\t\t\tvisibleCells = this.table.rowManager.activeRows[0].cells.filter((cell) => cell.column.visible);\n\t\t\tcell = visibleCells[this.rowHeader ? 1 : 0];\n\n\t\t\tif(cell){\n\t\t\t\trange.setBounds(cell);\n\t\t\t\tif(this.options(\"selectableRangeAutoFocus\")){\n\t\t\t\t\tthis.initializeFocus(cell);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn range;\n\t}\n\t\n\ttableDestroyed(){\n\t\tdocument.removeEventListener(\"mouseup\", this.mouseUpEvent);\n\t\tthis.table.rowManager.element.removeEventListener(\"keydown\", this.keyDownEvent);\n\t}\n\t\n\tselectedRows(component) {\n\t\treturn component ? this.activeRange.getRows().map((row) => row.getComponent()) : this.activeRange.getRows();\n\t}\n\t\n\tselectedColumns(component) {\n\t\treturn component ? this.activeRange.getColumns().map((col) => col.getComponent()) : this.activeRange.getColumns();\n\t}\n\n\tgetRowHeaderWidth(){\n\t\tif(!this.rowHeader){\n\t\t\treturn 0;\n\t\t}\n\t\treturn this.rowHeader.getElement().offsetWidth;\n\t}\n\n\tisEmpty(value) {\n\t\treturn value === null || value === undefined || value === \"\";\n\t}\n}\n\n//sort numbers\nfunction number(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar decimal = params.decimalSeparator;\n\tvar thousand = params.thousandSeparator;\n\tvar emptyAlign = 0;\n\n\ta = String(a);\n\tb = String(b);\n\n\tif(thousand){\n\t\ta = a.split(thousand).join(\"\");\n\t\tb = b.split(thousand).join(\"\");\n\t}\n\n\tif(decimal){\n\t\ta = a.split(decimal).join(\".\");\n\t\tb = b.split(decimal).join(\".\");\n\t}\n\n\ta = parseFloat(a);\n\tb = parseFloat(b);\n\n\t//handle non numeric values\n\tif(isNaN(a)){\n\t\temptyAlign =  isNaN(b) ? 0 : -1;\n\t}else if(isNaN(b)){\n\t\temptyAlign =  1;\n\t}else {\n\t\t//compare valid values\n\t\treturn a - b;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\n//sort strings\nfunction string(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\tvar locale;\n\n\t//handle empty values\n\tif(!a){\n\t\temptyAlign =  !b ? 0 : -1;\n\t}else if(!b){\n\t\temptyAlign =  1;\n\t}else {\n\t\t//compare valid values\n\t\tswitch(typeof params.locale){\n\t\t\tcase \"boolean\":\n\t\t\t\tif(params.locale){\n\t\t\t\t\tlocale = this.langLocale();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"string\":\n\t\t\t\tlocale = params.locale;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn String(a).toLowerCase().localeCompare(String(b).toLowerCase(), locale);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\n//sort datetime\nfunction datetime(a, b, aRow, bRow, column, dir, params){\n\tvar DT = this.table.dependencyRegistry.lookup([\"luxon\", \"DateTime\"], \"DateTime\");\n\tvar format = params.format || \"dd/MM/yyyy HH:mm:ss\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tif(typeof DT != \"undefined\"){\n\t\tif(!DT.isDateTime(a)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\ta = DT.fromISO(String(a));\n\t\t\t}else {\n\t\t\t\ta = DT.fromFormat(String(a), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!DT.isDateTime(b)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\tb = DT.fromISO(String(b));\n\t\t\t}else {\n\t\t\t\tb = DT.fromFormat(String(b), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!a.isValid){\n\t\t\temptyAlign = !b.isValid ? 0 : -1;\n\t\t}else if(!b.isValid){\n\t\t\temptyAlign =  1;\n\t\t}else {\n\t\t\t//compare valid values\n\t\t\treturn a - b;\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\n\t}else {\n\t\tconsole.error(\"Sort Error - 'datetime' sorter is dependant on luxon.js\");\n\t}\n}\n\n//sort date\nfunction date(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"dd/MM/yyyy\";\n\t}\n\n\treturn datetime.call(this, a, b, aRow, bRow, column, dir, params);\n}\n\n//sort times\nfunction time(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"HH:mm\";\n\t}\n\n\treturn datetime.call(this, a, b, aRow, bRow, column, dir, params);\n}\n\n//sort booleans\nfunction boolean(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = a === true || a === \"true\" || a === \"True\" || a === 1 ? 1 : 0;\n\tvar el2 = b === true || b === \"true\" || b === \"True\" || b === 1 ? 1 : 0;\n\n\treturn el1 - el2;\n}\n\n//sort if element contains any data\nfunction array(a, b, aRow, bRow, column, dir, params){\n\tvar type = params.type || \"length\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0,\n\ttable = this.table,\n\tvalueMap;\n\n\tif(params.valueMap){\n\t\tif(typeof params.valueMap === \"string\"){\n\t\t\tvalueMap = function(value){\n\t\t\t\treturn value.map((item) => {\n\t\t\t\t\treturn Helpers.retrieveNestedData(table.options.nestedFieldSeparator, params.valueMap, item);\n\t\t\t\t});\n\t\t\t};\n\t\t}else {\n\t\t\tvalueMap = params.valueMap;\n\t\t}\n\t}\n\n\tfunction calc(value){\n\t\tvar result;\n\t\t\n\t\tif(valueMap){\n\t\t\tvalue = valueMap(value);\n\t\t}\n\n\t\tswitch(type){\n\t\t\tcase \"length\":\n\t\t\t\tresult = value.length;\n\t\t\t\tbreak;\n\n\t\t\tcase \"sum\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"max\":\n\t\t\t\tresult = Math.max.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"min\":\n\t\t\t\tresult = Math.min.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"avg\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t}) / value.length;\n\t\t\t\tbreak;\n\n\t\t\tcase \"string\":\n\t\t\t\tresult = value.join(\"\");\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t//handle non array values\n\tif(!Array.isArray(a)){\n\t\temptyAlign = !Array.isArray(b) ? 0 : -1;\n\t}else if(!Array.isArray(b)){\n\t\temptyAlign = 1;\n\t}else {\n\t\tif(type === \"string\"){\n\t\t\treturn String(calc(a)).toLowerCase().localeCompare(String(calc(b)).toLowerCase());\n\t\t}else {\n\t\t\treturn calc(b) - calc(a);\n\t\t}\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\n//sort if element contains any data\nfunction exists(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = typeof a == \"undefined\" ? 0 : 1;\n\tvar el2 = typeof b == \"undefined\" ? 0 : 1;\n\n\treturn el1 - el2;\n}\n\n//sort alpha numeric strings\nfunction alphanum(as, bs, aRow, bRow, column, dir, params){\n\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\n\t//handle empty values\n\tif(!as && as!== 0){\n\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t}else if(!bs && bs!== 0){\n\t\temptyAlign =  1;\n\t}else {\n\n\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\ta = String(as).toLowerCase();\n\t\tb = String(bs).toLowerCase();\n\t\tif(a === b) return 0;\n\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\ta = a.match(rx);\n\t\tb = b.match(rx);\n\t\tL = a.length > b.length ? b.length : a.length;\n\t\twhile(i < L){\n\t\t\ta1= a[i];\n\t\t\tb1= b[i++];\n\t\t\tif(a1 !== b1){\n\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\treturn a1 - b1;\n\t\t\t\t}\n\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t}\n\t\t}\n\n\t\treturn a.length > b.length;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}\n\nvar defaultSorters = {\n\tnumber:number,\n\tstring:string,\n\tdate:date,\n\ttime:time,\n\tdatetime:datetime,\n\tboolean:boolean,\n\tarray:array,\n\texists:exists,\n\talphanum:alphanum\n};\n\nclass Sort extends Module{\n\n\tstatic moduleName = \"sort\";\n\n\t//load defaults\n\tstatic sorters = defaultSorters;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.sortList = []; //holder current sort\n\t\tthis.changed = false; //has the sort changed since last render\n\t\t\n\t\tthis.registerTableOption(\"sortMode\", \"local\"); //local or remote sorting\n\t\t\n\t\tthis.registerTableOption(\"initialSort\", false); //initial sorting criteria\n\t\tthis.registerTableOption(\"columnHeaderSortMulti\", true); //multiple or single column sorting\n\t\tthis.registerTableOption(\"sortOrderReverse\", false); //reverse internal sort ordering\n\t\tthis.registerTableOption(\"headerSortElement\", \"<div class='tabulator-arrow'></div>\"); //header sort element\n\t\tthis.registerTableOption(\"headerSortClickElement\", \"header\"); //element which triggers sort when clicked\n\t\t\n\t\tthis.registerColumnOption(\"sorter\");\n\t\tthis.registerColumnOption(\"sorterParams\");\n\t\t\n\t\tthis.registerColumnOption(\"headerSort\", true);\n\t\tthis.registerColumnOption(\"headerSortStartingDir\");\n\t\tthis.registerColumnOption(\"headerSortTristate\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.registerDataHandler(this.sort.bind(this), 20);\n\t\t\n\t\tthis.registerTableFunction(\"setSort\", this.userSetSort.bind(this));\n\t\tthis.registerTableFunction(\"getSorters\", this.getSort.bind(this));\n\t\tthis.registerTableFunction(\"clearSort\", this.clearSort.bind(this));\n\t\t\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteSortParams.bind(this));\n\t\t}\n\t}\n\t\n\ttableBuilt(){\n\t\tif(this.table.options.initialSort){\n\t\t\tthis.setSort(this.table.options.initialSort);\n\t\t}\n\t}\n\t\n\tremoteSortParams(data, config, silent, params){\n\t\tvar sorters = this.getSort();\n\t\t\n\t\tsorters.forEach((item) => {\n\t\t\tdelete item.column;\n\t\t});\n\t\t\n\t\tparams.sort = sorters;\n\t\t\n\t\treturn params;\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tuserSetSort(sortList, dir){\n\t\tthis.setSort(sortList, dir);\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\t\n\tclearSort(){\n\t\tthis.clear();\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\t//initialize column header for sorting\n\tinitializeColumn(column){\n\t\tvar sorter = false,\n\t\tcolEl,\n\t\tarrowEl;\n\t\t\n\t\tswitch(typeof column.definition.sorter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Sort.sorters[column.definition.sorter]){\n\t\t\t\t\tsorter = Sort.sorters[column.definition.sorter];\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Sort Error - No such sorter found: \", column.definition.sorter);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tsorter = column.definition.sorter;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tcolumn.modules.sort = {\n\t\t\tsorter:sorter, dir:\"none\",\n\t\t\tparams:column.definition.sorterParams || {},\n\t\t\tstartingDir:column.definition.headerSortStartingDir || \"asc\",\n\t\t\ttristate: column.definition.headerSortTristate,\n\t\t};\n\t\t\n\t\tif(column.definition.headerSort !== false){\n\t\t\t\n\t\t\tcolEl = column.getElement();\n\t\t\t\n\t\t\tcolEl.classList.add(\"tabulator-sortable\");\n\t\t\t\n\t\t\tarrowEl = document.createElement(\"div\");\n\t\t\tarrowEl.classList.add(\"tabulator-col-sorter\");\n\t\t\t\n\t\t\tswitch(this.table.options.headerSortClickElement){\n\t\t\t\tcase \"icon\":\n\t\t\t\t\tarrowEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"header\":\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tswitch(this.table.options.headerSortElement){\n\t\t\t\tcase \"function\":\n\t\t\t\t//do nothing\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"object\":\n\t\t\t\t\tarrowEl.appendChild(this.table.options.headerSortElement);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tdefault:\n\t\t\t\t\tarrowEl.innerHTML = this.table.options.headerSortElement;\n\t\t\t}\n\t\t\t\n\t\t\t//create sorter arrow\n\t\t\tcolumn.titleHolderElement.appendChild(arrowEl);\n\t\t\t\n\t\t\tcolumn.modules.sort.element = arrowEl;\n\t\t\t\n\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\t\t\t\n\t\t\tif(this.table.options.headerSortClickElement === \"icon\"){\n\t\t\t\tarrowEl.addEventListener(\"mousedown\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//sort on click\n\t\t\t(this.table.options.headerSortClickElement === \"icon\" ? arrowEl : colEl).addEventListener(\"click\", (e) => {\n\t\t\t\tvar dir = \"\",\n\t\t\t\tsorters=[],\n\t\t\t\tmatch = false;\n\t\t\t\t\n\t\t\t\tif(column.modules.sort){\n\t\t\t\t\tif(column.modules.sort.tristate){\n\t\t\t\t\t\tif(column.modules.sort.dir == \"none\"){\n\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(column.modules.sort.dir == column.modules.sort.startingDir){\n\t\t\t\t\t\t\t\tdir = column.modules.sort.dir == \"asc\" ? \"desc\" : \"asc\";\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tdir = \"none\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tswitch(column.modules.sort.dir){\n\t\t\t\t\t\t\tcase \"asc\":\n\t\t\t\t\t\t\t\tdir = \"desc\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase \"desc\":\n\t\t\t\t\t\t\t\tdir = \"asc\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (this.table.options.columnHeaderSortMulti && (e.shiftKey || e.ctrlKey)) {\n\t\t\t\t\t\tsorters = this.getSort();\n\t\t\t\t\t\t\n\t\t\t\t\t\tmatch = sorters.findIndex((sorter) => {\n\t\t\t\t\t\t\treturn sorter.field === column.getField();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(match > -1){\n\t\t\t\t\t\t\tsorters[match].dir = dir;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tmatch = sorters.splice(match, 1)[0];\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push(match);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push({column:column, dir:dir});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//add to existing sort\n\t\t\t\t\t\tthis.setSort(sorters);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(dir == \"none\"){\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t//sort by column only\n\t\t\t\t\t\t\tthis.setSort(column, dir);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// this.table.rowManager.sorterRefresh(!this.sortList.length);\n\t\t\t\t\tthis.refreshSort();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\trefreshSort(){\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.reloadData(null, false, false);\n\t\t}else {\n\t\t\tthis.refreshData(true);\n\t\t}\n\t\t\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\t\n\t//check if the sorters have changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\t\n\t//return current sorters\n\tgetSort(){\n\t\tvar self = this,\n\t\tsorters = [];\n\t\t\n\t\tself.sortList.forEach(function(item){\n\t\t\tif(item.column){\n\t\t\t\tsorters.push({column:item.column.getComponent(), field:item.column.getField(), dir:item.dir});\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn sorters;\n\t}\n\t\n\t//change sort list and trigger sort\n\tsetSort(sortList, dir){\n\t\tvar self = this,\n\t\tnewSortList = [];\n\t\t\n\t\tif(!Array.isArray(sortList)){\n\t\t\tsortList = [{column: sortList, dir:dir}];\n\t\t}\n\t\t\n\t\tsortList.forEach(function(item){\n\t\t\tvar column;\n\t\t\t\n\t\t\tcolumn = self.table.columnManager.findColumn(item.column);\n\t\t\t\n\t\t\tif(column){\n\t\t\t\titem.column = column;\n\t\t\t\tnewSortList.push(item);\n\t\t\t\tself.changed = true;\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Sort Warning - Sort field does not exist and is being ignored: \", item.column);\n\t\t\t}\n\t\t\t\n\t\t});\n\t\t\n\t\tself.sortList = newSortList;\n\t\t\n\t\tthis.dispatch(\"sort-changed\");\n\t}\n\t\n\t//clear sorters\n\tclear(){\n\t\tthis.setSort([]);\n\t}\n\t\n\t//find appropriate sorter for column\n\tfindSorter(column){\n\t\tvar row = this.table.rowManager.activeRows[0],\n\t\tsorter = \"string\",\n\t\tfield, value;\n\t\t\n\t\tif(row){\n\t\t\trow = row.getData();\n\t\t\tfield = column.getField();\n\t\t\t\n\t\t\tif(field){\n\t\t\t\t\n\t\t\t\tvalue = column.getFieldValue(row);\n\t\t\t\t\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Sort.sorters[sorter];\n\t}\n\t\n\t//work through sort list sorting data\n\tsort(data, sortOnly){\n\t\tvar self = this,\n\t\tsortList = this.table.options.sortOrderReverse ? self.sortList.slice().reverse() : self.sortList,\n\t\tsortListActual = [],\n\t\trowComponents = [];\n\t\t\n\t\tif(this.subscribedExternal(\"dataSorting\")){\n\t\t\tthis.dispatchExternal(\"dataSorting\", self.getSort());\n\t\t}\n\t\t\n\t\tif(!sortOnly) {\n\t\t\tself.clearColumnHeaders();\n\t\t}\n\t\t\n\t\tif(this.table.options.sortMode !== \"remote\"){\n\t\t\t\n\t\t\t//build list of valid sorters and trigger column specific callbacks before sort begins\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tvar sortObj;\n\t\t\t\t\n\t\t\t\tif(item.column){\n\t\t\t\t\tsortObj = item.column.modules.sort;\n\t\t\t\t\t\n\t\t\t\t\tif(sortObj){\n\t\t\t\t\t\t\n\t\t\t\t\t\t//if no sorter has been defined, take a guess\n\t\t\t\t\t\tif(!sortObj.sorter){\n\t\t\t\t\t\t\tsortObj.sorter = self.findSorter(item.column);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\titem.params = typeof sortObj.params === \"function\" ? sortObj.params(item.column.getComponent(), item.dir) : sortObj.params;\n\t\t\t\t\t\t\n\t\t\t\t\t\tsortListActual.push(item);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(!sortOnly) {\n\t\t\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t//sort data\n\t\t\tif (sortListActual.length) {\n\t\t\t\tself._sortItems(data, sortListActual);\n\t\t\t}\n\t\t\t\n\t\t}else if(!sortOnly) {\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t});\n\t\t}\n\n\t\t\n\t\tif(this.subscribedExternal(\"dataSorted\")){\n\t\t\tdata.forEach((row) => {\n\t\t\t\trowComponents.push(row.getComponent());\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatchExternal(\"dataSorted\", self.getSort(), rowComponents);\n\t\t}\n\t\t\n\t\treturn data;\n\t}\n\t\n\t//clear sort arrows on columns\n\tclearColumnHeaders(){\n\t\tthis.table.columnManager.getRealColumns().forEach((column) => {\n\t\t\tif(column.modules.sort){\n\t\t\t\tcolumn.modules.sort.dir = \"none\";\n\t\t\t\tcolumn.getElement().setAttribute(\"aria-sort\", \"none\");\n\t\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//set the column header sort direction\n\tsetColumnHeader(column, dir){\n\t\tcolumn.modules.sort.dir = dir;\n\t\tcolumn.getElement().setAttribute(\"aria-sort\", dir === \"asc\" ? \"ascending\" : \"descending\");\n\t\tthis.setColumnHeaderSortIcon(column, dir);\n\t}\n\t\n\tsetColumnHeaderSortIcon(column, dir){\n\t\tvar sortEl = column.modules.sort.element,\n\t\tarrowEl;\n\t\t\n\t\tif(column.definition.headerSort && typeof this.table.options.headerSortElement === \"function\"){\n\t\t\twhile(sortEl.firstChild) sortEl.removeChild(sortEl.firstChild);\n\t\t\t\n\t\t\tarrowEl = this.table.options.headerSortElement.call(this.table, column.getComponent(), dir);\n\t\t\t\n\t\t\tif(typeof arrowEl === \"object\"){\n\t\t\t\tsortEl.appendChild(arrowEl);\n\t\t\t}else {\n\t\t\t\tsortEl.innerHTML = arrowEl;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//sort each item in sort list\n\t_sortItems(data, sortList){\n\t\tvar sorterCount = sortList.length - 1;\n\t\t\n\t\tdata.sort((a, b) => {\n\t\t\tvar result;\n\t\t\t\n\t\t\tfor(var i = sorterCount; i>= 0; i--){\n\t\t\t\tlet sortItem = sortList[i];\n\t\t\t\t\n\t\t\t\tresult = this._sortRow(a, b, sortItem.column, sortItem.dir, sortItem.params);\n\t\t\t\t\n\t\t\t\tif(result !== 0){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn result;\n\t\t});\n\t}\n\t\n\t//process individual rows for a sort function on active data\n\t_sortRow(a, b, column, dir, params){\n\t\tvar el1Comp, el2Comp;\n\t\t\n\t\t//switch elements depending on search direction\n\t\tvar el1 = dir == \"asc\" ? a : b;\n\t\tvar el2 = dir == \"asc\" ? b : a;\n\t\t\n\t\ta = column.getFieldValue(el1.getData());\n\t\tb = column.getFieldValue(el2.getData());\n\t\t\n\t\ta = typeof a !== \"undefined\" ? a : \"\";\n\t\tb = typeof b !== \"undefined\" ? b : \"\";\n\t\t\n\t\tel1Comp = el1.getComponent();\n\t\tel2Comp = el2.getComponent();\n\t\t\n\t\treturn column.modules.sort.sorter.call(this, a, b, el1Comp, el2Comp, column.getComponent(), dir, params);\n\t}\n}\n\nclass GridCalculator{\r\n\tconstructor(columns, rows){\r\n\t\tthis.columnCount = columns;\r\n\t\tthis.rowCount = rows;\r\n\r\n\t\tthis.columnString = [];\r\n\t\tthis.columns = [];\r\n\t\tthis.rows = [];\r\n\t}\r\n\r\n\tgenColumns(data){\r\n\t\tvar colCount = Math.max(this.columnCount, Math.max(...data.map(item => item.length)));\r\n\r\n\t\tthis.columnString = [];\r\n\t\tthis.columns = [];\r\n\r\n\t\tfor(let i = 1; i <= colCount; i++){\r\n\t\t\tthis.incrementChar(this.columnString.length - 1);\r\n\t\t\tthis.columns.push(this.columnString.join(\"\"));\r\n\t\t}\r\n\r\n\t\treturn this.columns;\r\n\t}\r\n\r\n\tgenRows(data){\r\n\t\tvar rowCount = Math.max(this.rowCount, data.length);\r\n\r\n\t\tthis.rows = [];\r\n\r\n\t\tfor(let i = 1; i <= rowCount; i++){\r\n\t\t\tthis.rows.push(i);\r\n\t\t}\r\n\t\t\r\n\t\treturn this.rows;\r\n\t}\r\n\r\n\tincrementChar(i){\r\n\t\tlet char = this.columnString[i];\r\n\r\n\t\tif(char){\r\n\t\t\tif(char !== \"Z\"){\r\n\t\t\t\tthis.columnString[i] = String.fromCharCode(this.columnString[i].charCodeAt(0) + 1);\r\n\t\t\t}else {\r\n\t\t\t\tthis.columnString[i] = \"A\";\r\n\t\t\t\t\r\n\t\t\t\tif(i){\r\n\t\t\t\t\tthis.incrementChar(i-1);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.columnString.push(\"A\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tthis.columnString.push(\"A\");\r\n\t\t}\r\n\t}\r\n\r\n\tsetRowCount(count){\r\n\t\tthis.rowCount = count;\r\n\t}\r\n\r\n\tsetColumnCount(count){\r\n\t\tthis.columnCount = count;\r\n\t}\r\n}\n\nclass SheetComponent {\r\n\tconstructor(sheet) {\r\n\t\tthis._sheet = sheet;\r\n\r\n\t\treturn new Proxy(this, {\r\n\t\t\tget: function (target, name, receiver) {\r\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\r\n\t\t\t\t\treturn target[name];\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn target._sheet.table.componentFunctionBinder.handle(\"sheet\", target._sheet, name);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tgetTitle(){\r\n\t\treturn this._sheet.title;\r\n\t}\r\n\r\n\tgetKey(){\r\n\t\treturn this._sheet.key;\r\n\t}\r\n\r\n\tgetDefinition(){\r\n\t\treturn this._sheet.getDefinition();\r\n\t}\r\n\r\n\tgetData() {\r\n\t\treturn this._sheet.getData();\r\n\t}\r\n\r\n\tsetData(data) {\r\n\t\treturn this._sheet.setData(data);\r\n\t}\r\n\r\n\tclear(){\r\n\t\treturn this._sheet.clear();\r\n\t}\r\n\r\n\tremove(){\r\n\t\treturn this._sheet.remove();\r\n\t}\r\n\t\r\n\tactive(){\r\n\t\treturn this._sheet.active();\r\n\t}\r\n\r\n\tsetTitle(title){\r\n\t\treturn this._sheet.setTitle(title);\r\n\t}\r\n\r\n\tsetRows(rows){\r\n\t\treturn this._sheet.setRows(rows);\r\n\t}\r\n\r\n\tsetColumns(columns){\r\n\t\treturn this._sheet.setColumns(columns);\r\n\t}\r\n}\n\nclass Sheet extends CoreFeature{\r\n\tconstructor(spreadsheetManager, definition) {\r\n\t\tsuper(spreadsheetManager.table);\r\n\t\t\r\n\t\tthis.spreadsheetManager = spreadsheetManager;\r\n\t\tthis.definition = definition;\r\n\t\t\r\n\t\tthis.title = this.definition.title || \"\";\r\n\t\tthis.key = this.definition.key || this.definition.title;\r\n\t\tthis.rowCount = this.definition.rows;\r\n\t\tthis.columnCount = this.definition.columns;\r\n\t\tthis.data = this.definition.data || [];\r\n\t\tthis.element = null;\r\n\t\tthis.isActive = false;\r\n\t\t\r\n\t\tthis.grid = new GridCalculator(this.columnCount, this.rowCount);\r\n\t\t\r\n\t\tthis.defaultColumnDefinition = {width:100, headerHozAlign:\"center\", headerSort:false};\r\n\t\tthis.columnDefinition = Object.assign(this.defaultColumnDefinition, this.options(\"spreadsheetColumnDefinition\"));\r\n\t\t\r\n\t\tthis.columnDefs = [];\r\n\t\tthis.rowDefs = [];\r\n\t\tthis.columnFields = [];\r\n\t\tthis.columns = [];\r\n\t\tthis.rows = [];\r\n\t\t\r\n\t\tthis.scrollTop = null;\r\n\t\tthis.scrollLeft = null;\r\n\t\t\r\n\t\tthis.initialize();\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetAdded\", this.getComponent());\r\n\t}\r\n\t\r\n\t///////////////////////////////////\r\n\t///////// Initialization //////////\r\n\t///////////////////////////////////\r\n\t\r\n\tinitialize(){\r\n\t\tthis.initializeElement();\r\n\t\tthis.initializeColumns();\r\n\t\tthis.initializeRows();\r\n\t}\r\n\t\r\n\treinitialize(){\r\n\t\tthis.initializeColumns();\r\n\t\tthis.initializeRows();\r\n\t}\r\n\t\r\n\tinitializeElement(){\r\n\t\tthis.element = document.createElement(\"div\");\r\n\t\tthis.element.classList.add(\"tabulator-spreadsheet-tab\");\r\n\t\tthis.element.innerText = this.title;\r\n\t\t\r\n\t\tthis.element.addEventListener(\"click\", () => {\r\n\t\t\tthis.spreadsheetManager.loadSheet(this);\r\n\t\t});\r\n\t}\r\n\t\r\n\tinitializeColumns(){\r\n\t\tthis.grid.setColumnCount(this.columnCount);\r\n\t\tthis.columnFields = this.grid.genColumns(this.data);\r\n\t\t\r\n\t\tthis.columnDefs = [];\r\n\t\t\r\n\t\tthis.columnFields.forEach((ref) => {\r\n\t\t\tvar def = Object.assign({}, this.columnDefinition);\r\n\t\t\tdef.field = ref;\r\n\t\t\tdef.title = ref;\r\n\t\t\t\r\n\t\t\tthis.columnDefs.push(def);\r\n\t\t});\r\n\t}\r\n\t\r\n\tinitializeRows(){\r\n\t\tvar refs;\r\n\t\t\r\n\t\tthis.grid.setRowCount(this.rowCount);\r\n\t\t\r\n\t\trefs = this.grid.genRows(this.data);\r\n\t\t\r\n\t\tthis.rowDefs = [];\r\n\t\t\r\n\t\trefs.forEach((ref, i) => {\r\n\t\t\tvar def = {\"_id\":ref};\r\n\t\t\tvar data = this.data[i];\r\n\t\t\t\r\n\t\t\tif(data){\r\n\t\t\t\tdata.forEach((val, j) => {\r\n\t\t\t\t\tvar field = this.columnFields[j];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(field){\r\n\t\t\t\t\t\tdef[field] = val;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.rowDefs.push(def);\r\n\t\t});\r\n\t}\r\n\t\r\n\tunload(){\r\n\t\tthis.isActive = false;\r\n\t\tthis.scrollTop = this.table.rowManager.scrollTop;\r\n\t\tthis.scrollLeft = this.table.rowManager.scrollLeft;\r\n\t\tthis.data = this.getData(true);\r\n\t\tthis.element.classList.remove(\"tabulator-spreadsheet-tab-active\");\r\n\t}\r\n\t\r\n\tload(){\r\n\t\t\r\n\t\tvar wasInactive = !this.isActive;\r\n\t\t\r\n\t\tthis.isActive = true;\r\n\t\tthis.table.blockRedraw();\r\n\t\tthis.table.setData([]);\r\n\t\tthis.table.setColumns(this.columnDefs);\r\n\t\tthis.table.setData(this.rowDefs);\r\n\t\tthis.table.restoreRedraw();\r\n\t\t\r\n\t\tif(wasInactive && this.scrollTop !== null){\r\n\t\t\tthis.table.rowManager.element.scrollLeft = this.scrollLeft;\r\n\t\t\tthis.table.rowManager.element.scrollTop = this.scrollTop;\r\n\t\t}\r\n\t\t\r\n\t\tthis.element.classList.add(\"tabulator-spreadsheet-tab-active\");\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetLoaded\", this.getComponent());\r\n\t}\r\n\t\r\n\t///////////////////////////////////\r\n\t//////// Helper Functions /////////\r\n\t///////////////////////////////////\r\n\t\r\n\tgetComponent(){\r\n\t\treturn new SheetComponent(this);\r\n\t}\r\n\t\r\n\tgetDefinition(){\r\n\t\treturn {\r\n\t\t\ttitle:this.title,\r\n\t\t\tkey:this.key,\r\n\t\t\trows:this.rowCount,\r\n\t\t\tcolumns:this.columnCount,\r\n\t\t\tdata:this.getData(),\r\n\t\t};\r\n\t}\r\n\t\r\n\tgetData(full){\r\n\t\tvar output = [], \r\n\t\trowWidths,\r\n\t\toutputWidth, outputHeight;\r\n\t\t\r\n\t\t//map data to array format\r\n\t\tthis.rowDefs.forEach((rowData) => {\r\n\t\t\tvar row = [];\r\n\t\t\t\r\n\t\t\tthis.columnFields.forEach((field) => {\r\n\t\t\t\trow.push(rowData[field]);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\toutput.push(row);\r\n\t\t});\r\n\t\t\r\n\t\t//trim output\r\n\t\tif(!full && !this.options(\"spreadsheetOutputFull\")){\r\n\t\t\t\r\n\t\t\t//calculate used area of data\r\n\t\t\trowWidths = output.map(row => row.findLastIndex(val => typeof val !== 'undefined') + 1);\r\n\t\t\toutputWidth = Math.max(...rowWidths);\r\n\t\t\toutputHeight = rowWidths.findLastIndex(width => width > 0) + 1;\r\n\t\t\t\r\n\t\t\toutput = output.slice(0, outputHeight);\r\n\t\t\toutput = output.map(row => row.slice(0, outputWidth));\r\n\t\t}\r\n\t\t\r\n\t\treturn output;\r\n\t}\r\n\t\r\n\tsetData(data){\r\n\t\tthis.data = data;\r\n\t\tthis.reinitialize();\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetUpdated\", this.getComponent());\r\n\t\t\r\n\t\tif(this.isActive){\r\n\t\t\tthis.load();\r\n\t\t}\r\n\t}\r\n\t\r\n\tclear(){\r\n\t\tthis.setData([]);\r\n\t}\r\n\t\r\n\tsetTitle(title){\r\n\t\tthis.title = title;\r\n\t\tthis.element.innerText = title;\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetUpdated\", this.getComponent());\r\n\t}\r\n\t\r\n\tsetRows(rows){\r\n\t\tthis.rowCount = rows;\r\n\t\tthis.initializeRows();\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetUpdated\", this.getComponent());\r\n\t\t\r\n\t\tif(this.isActive){\r\n\t\t\tthis.load();\r\n\t\t}\r\n\t}\r\n\t\r\n\tsetColumns(columns){\r\n\t\tthis.columnCount = columns;\r\n\t\tthis.reinitialize();\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetUpdated\", this.getComponent());\r\n\t\t\r\n\t\tif(this.isActive){\r\n\t\t\tthis.load();\r\n\t\t}\r\n\t}\r\n\t\r\n\tremove(){\r\n\t\tthis.spreadsheetManager.removeSheet(this);\r\n\t}\r\n\t\r\n\tdestroy(){\r\n\t\tif(this.element.parentNode){\r\n\t\t\tthis.element.parentNode.removeChild(this.element);\r\n\t\t}\r\n\t\t\r\n\t\tthis.dispatchExternal(\"sheetRemoved\", this.getComponent());\r\n\t}\r\n\t\r\n\tactive(){\r\n\t\tthis.spreadsheetManager.loadSheet(this);\r\n\t}\r\n}\n\nclass Spreadsheet extends Module{\r\n\t\r\n\tstatic moduleName = \"spreadsheet\";\r\n\t\r\n\tconstructor(table){\r\n\t\tsuper(table);\r\n\t\t\r\n\t\tthis.sheets = [];\r\n\t\tthis.element = null;\r\n\t\t\r\n\t\tthis.registerTableOption(\"spreadsheet\", false); \r\n\t\tthis.registerTableOption(\"spreadsheetRows\", 50); \r\n\t\tthis.registerTableOption(\"spreadsheetColumns\", 50); \r\n\t\tthis.registerTableOption(\"spreadsheetColumnDefinition\", {}); \r\n\t\tthis.registerTableOption(\"spreadsheetOutputFull\", false); \r\n\t\tthis.registerTableOption(\"spreadsheetData\", false); \r\n\t\tthis.registerTableOption(\"spreadsheetSheets\", false); \r\n\t\tthis.registerTableOption(\"spreadsheetSheetTabs\", false); \r\n\t\tthis.registerTableOption(\"spreadsheetSheetTabsElement\", false); \r\n\t\t\r\n\t\tthis.registerTableFunction(\"setSheets\", this.setSheets.bind(this));\r\n\t\tthis.registerTableFunction(\"addSheet\", this.addSheet.bind(this));\r\n\t\tthis.registerTableFunction(\"getSheets\", this.getSheets.bind(this));\r\n\t\tthis.registerTableFunction(\"getSheetDefinitions\", this.getSheetDefinitions.bind(this));\r\n\t\tthis.registerTableFunction(\"setSheetData\", this.setSheetData.bind(this));\r\n\t\tthis.registerTableFunction(\"getSheet\", this.getSheet.bind(this));\r\n\t\tthis.registerTableFunction(\"getSheetData\", this.getSheetData.bind(this));\r\n\t\tthis.registerTableFunction(\"clearSheet\", this.clearSheet.bind(this));\r\n\t\tthis.registerTableFunction(\"removeSheet\", this.removeSheetFunc.bind(this));\r\n\t\tthis.registerTableFunction(\"activeSheet\", this.activeSheetFunc.bind(this));\r\n\t}\r\n\t\r\n\t///////////////////////////////////\r\n\t////// Module Initialization //////\r\n\t///////////////////////////////////\r\n\t\r\n\t\r\n\tinitialize(){\r\n\t\tif(this.options(\"spreadsheet\")){\t\r\n\t\t\tthis.subscribe(\"table-initialized\", this.tableInitialized.bind(this));\r\n\t\t\tthis.subscribe(\"data-loaded\", this.loadRemoteData.bind(this));\r\n\t\t\t\r\n\t\t\tthis.table.options.index = \"_id\";\r\n\t\t\t\r\n\t\t\tif(this.options(\"spreadsheetData\") && this.options(\"spreadsheetSheets\")){\r\n\t\t\t\tconsole.warn(\"You cannot use spreadsheetData and spreadsheetSheets at the same time, ignoring spreadsheetData\");\r\n\t\t\t\t\r\n\t\t\t\tthis.table.options.spreadsheetData = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.compatibilityCheck();\r\n\t\t\t\r\n\t\t\tif(this.options(\"spreadsheetSheetTabs\")){\r\n\t\t\t\tthis.initializeTabset();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tcompatibilityCheck(){\r\n\t\tif(this.options(\"data\")){\r\n\t\t\tconsole.warn(\"Do not use the data option when working with spreadsheets, use either spreadsheetData or spreadsheetSheets to pass data into the table\");\r\n\t\t}\r\n\t\t\r\n\t\tif(this.options(\"pagination\")){\r\n\t\t\tconsole.warn(\"The spreadsheet module is not compatible with the pagination module\");\r\n\t\t}\r\n\t\t\r\n\t\tif(this.options(\"groupBy\")){\r\n\t\t\tconsole.warn(\"The spreadsheet module is not compatible with the row grouping module\");\r\n\t\t}\r\n\t\t\r\n\t\tif(this.options(\"responsiveCollapse\")){\r\n\t\t\tconsole.warn(\"The spreadsheet module is not compatible with the responsive collapse module\");\r\n\t\t}\r\n\t}\r\n\tinitializeTabset(){\r\n\t\tthis.element = document.createElement(\"div\");\r\n\t\tthis.element.classList.add(\"tabulator-spreadsheet-tabs\");\r\n\t\tvar altContainer = this.options(\"spreadsheetSheetTabsElement\");\r\n\t\t\r\n\t\tif(altContainer && !(altContainer instanceof HTMLElement)){\r\n\t\t\taltContainer = document.querySelector(altContainer);\r\n\t\t\t\r\n\t\t\tif(!altContainer){\r\n\t\t\t\tconsole.warn(\"Unable to find element matching spreadsheetSheetTabsElement selector:\", this.options(\"spreadsheetSheetTabsElement\"));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(altContainer){\r\n\t\t\taltContainer.appendChild(this.element);\r\n\t\t}else {\r\n\t\t\tthis.footerAppend(this.element);\r\n\t\t}\r\n\t}\r\n\t\r\n\ttableInitialized(){\r\n\t\tif(this.sheets.length){\r\n\t\t\tthis.loadSheet(this.sheets[0]);\r\n\t\t}else {\r\n\t\t\t\r\n\t\t\tif(this.options(\"spreadsheetSheets\")){\r\n\t\t\t\tthis.loadSheets(this.options(\"spreadsheetSheets\"));\r\n\t\t\t}else if(this.options(\"spreadsheetData\")){\r\n\t\t\t\tthis.loadData(this.options(\"spreadsheetData\"));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t///////////////////////////////////\r\n\t/////////// Ajax Parsing //////////\r\n\t///////////////////////////////////\r\n\r\n\tloadRemoteData(data, data1, data2){\r\n\t\tconsole.log(\"data\", data, data1, data2);\r\n\r\n\t\tif(Array.isArray(data)){\r\n\r\n\t\t\tthis.table.dataLoader.clearAlert();\r\n\t\t\tthis.dispatchExternal(\"dataLoaded\", data);\r\n\r\n\t\t\tif(!data.length || Array.isArray(data[0])){\r\n\t\t\t\tthis.loadData(data);\r\n\t\t\t}else {\r\n\t\t\t\tthis.loadSheets(data);\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tconsole.error(\"Spreadsheet Loading Error - Unable to process remote data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data, \"\\nData:     \", data);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t///////////////////////////////////\r\n\t///////// Sheet Management ////////\r\n\t///////////////////////////////////\r\n\t\r\n\t\r\n\tloadData(data){\r\n\t\tvar def = {\r\n\t\t\tdata:data,\r\n\t\t};\r\n\t\t\r\n\t\tthis.loadSheet(this.newSheet(def));\r\n\t}\r\n\t\r\n\tdestroySheets(){\r\n\t\tthis.sheets.forEach((sheet) => {\r\n\t\t\tsheet.destroy();\r\n\t\t});\r\n\t\t\r\n\t\tthis.sheets = [];\r\n\t\tthis.activeSheet = null;\r\n\t}\r\n\t\r\n\tloadSheets(sheets){\t\r\n\t\tif(!Array.isArray(sheets)){\r\n\t\t\tsheets = [];\r\n\t\t}\r\n\t\t\r\n\t\tthis.destroySheets();\r\n\t\t\r\n\t\tsheets.forEach((def) => {\r\n\t\t\tthis.newSheet(def);\r\n\t\t});\r\n\t\t\r\n\t\tthis.loadSheet(this.sheets[0]);\r\n\t}\r\n\t\r\n\tloadSheet(sheet){\r\n\t\tif(this.activeSheet !== sheet){\r\n\t\t\tif(this.activeSheet){\r\n\t\t\t\tthis.activeSheet.unload();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.activeSheet = sheet;\r\n\t\t\t\r\n\t\t\tsheet.load();\r\n\t\t}\r\n\t}\r\n\t\r\n\tnewSheet(definition = {}){\r\n\t\tvar sheet;\r\n\t\t\r\n\t\tif(!definition.rows){\r\n\t\t\tdefinition.rows = this.options(\"spreadsheetRows\");\r\n\t\t}\r\n\t\t\r\n\t\tif(!definition.columns){\r\n\t\t\tdefinition.columns = this.options(\"spreadsheetColumns\");\r\n\t\t}\r\n\t\t\r\n\t\tsheet = new Sheet(this, definition);\r\n\t\t\r\n\t\tthis.sheets.push(sheet);\r\n\t\t\r\n\t\tif(this.element){\r\n\t\t\tthis.element.appendChild(sheet.element);\r\n\t\t}\r\n\t\t\r\n\t\treturn sheet;\r\n\t}\r\n\t\r\n\tremoveSheet(sheet){\r\n\t\tvar index = this.sheets.indexOf(sheet),\r\n\t\tprevSheet;\r\n\t\t\r\n\t\tif(this.sheets.length > 1){\r\n\t\t\tif(index > -1){\r\n\t\t\t\tthis.sheets.splice(index, 1);\r\n\t\t\t\tsheet.destroy();\r\n\t\t\t\t\r\n\t\t\t\tif(this.activeSheet === sheet){\r\n\t\t\t\t\t\r\n\t\t\t\t\tprevSheet = this.sheets[index - 1] || this.sheets[0];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(prevSheet){\r\n\t\t\t\t\t\tthis.loadSheet(prevSheet);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tthis.activeSheet = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tconsole.warn(\"Unable to remove sheet, at least one sheet must be active\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tlookupSheet(key){\r\n\t\tif(!key){\r\n\t\t\treturn this.activeSheet;\r\n\t\t}else if(key instanceof Sheet){\r\n\t\t\treturn key;\r\n\t\t}else if(key instanceof SheetComponent){\r\n\t\t\treturn key._sheet;\r\n\t\t}else {\r\n\t\t\treturn this.sheets.find(sheet => sheet.key === key) || false;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t///////////////////////////////////\r\n\t//////// Public Functions /////////\r\n\t///////////////////////////////////\r\n\t\r\n\tsetSheets(sheets){\r\n\t\tthis.loadSheets(sheets);\r\n\r\n\t\treturn this.getSheets();\r\n\t}\r\n\r\n\taddSheet(sheet){\r\n\t\treturn this.newSheet(sheet).getComponent();\r\n\t}\r\n\t\r\n\tgetSheetDefinitions(){\r\n\t\treturn this.sheets.map(sheet => sheet.getDefinition());\r\n\t}\r\n\t\r\n\tgetSheets(){\r\n\t\treturn this.sheets.map(sheet => sheet.getComponent());\r\n\t}\r\n\t\r\n\tgetSheet(key){\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\treturn sheet ? sheet.getComponent() : false;\r\n\t}\r\n\t\r\n\tsetSheetData(key, data){\r\n\t\tif (key && !data){\r\n\t\t\tdata = key;\r\n\t\t\tkey = false;\r\n\t\t}\r\n\t\t\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\treturn sheet ? sheet.setData(data) : false;\t\r\n\t}\r\n\t\r\n\tgetSheetData(key){\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\treturn sheet ? sheet.getData() : false;\t\r\n\t}\r\n\t\r\n\tclearSheet(key){\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\treturn sheet ? sheet.clear() : false;\r\n\t}\r\n\t\r\n\tremoveSheetFunc(key){\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\tif(sheet){\r\n\t\t\tthis.removeSheet(sheet);\r\n\t\t}\r\n\t}\r\n\t\r\n\tactiveSheetFunc(key){\r\n\t\tvar sheet = this.lookupSheet(key);\r\n\t\t\r\n\t\treturn sheet ? this.loadSheet(sheet) : false;\r\n\t}\r\n}\n\nclass Tooltip extends Module{\n\n\tstatic moduleName = \"tooltip\";\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.tooltipSubscriber = null,\n\t\tthis.headerSubscriber = null,\n\t\t\n\t\tthis.timeout = null;\n\t\tthis.popupInstance = null;\n\t\t\n\t\t// this.registerTableOption(\"tooltipGenerationMode\", undefined);  //deprecated\n\t\tthis.registerTableOption(\"tooltipDelay\", 300); \n\t\t\n\t\tthis.registerColumnOption(\"tooltip\");\n\t\tthis.registerColumnOption(\"headerTooltip\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\t// this.deprecationCheckMsg(\"tooltipGenerationMode\", \"This option is no longer needed as tooltips are always generated on hover now\");\n\t}\t\n\t\n\tinitializeColumn(column){\n\t\tif(column.definition.headerTooltip && !this.headerSubscriber){\n\t\t\tthis.headerSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"column-mousemove\", this.mousemoveCheck.bind(this, \"headerTooltip\"));\n\t\t\tthis.subscribe(\"column-mouseout\", this.mouseoutCheck.bind(this, \"headerTooltip\"));\n\t\t}\n\t\t\n\t\tif(column.definition.tooltip && !this.tooltipSubscriber){\n\t\t\tthis.tooltipSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"cell-mousemove\", this.mousemoveCheck.bind(this, \"tooltip\"));\n\t\t\tthis.subscribe(\"cell-mouseout\", this.mouseoutCheck.bind(this, \"tooltip\"));\n\t\t}\n\t}\n\t\n\tmousemoveCheck(action, e, component){\n\t\tvar tooltip = action === \"tooltip\" ? component.column.definition.tooltip : component.definition.headerTooltip;\n\t\t\n\t\tif(tooltip){\n\t\t\tthis.clearPopup();\n\t\t\tthis.timeout = setTimeout(this.loadTooltip.bind(this, e, component, tooltip), this.table.options.tooltipDelay);\n\t\t}\n\t}\n\n\tmouseoutCheck(action, e, component){\n\t\tif(!this.popupInstance){\n\t\t\tthis.clearPopup();\n\t\t}\n\t}\n\t\n\tclearPopup(action, e, component){\n\t\tclearTimeout(this.timeout);\n\t\tthis.timeout = null;\n\t\t\n\t\tif(this.popupInstance){\n\t\t\tthis.popupInstance.hide();\n\t\t}\n\t}\n\t\n\tloadTooltip(e, component, tooltip){\n\t\tvar contentsEl, renderedCallback, coords;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(typeof tooltip === \"function\"){\n\t\t\ttooltip = tooltip(e, component.getComponent(), onRendered);\n\t\t}\n\t\t\n\t\tif(tooltip instanceof HTMLElement){\n\t\t\tcontentsEl = tooltip;\n\t\t}else {\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\t\n\t\t\tif(tooltip === true){\n\t\t\t\tif(component instanceof Cell){\n\t\t\t\t\ttooltip = component.value;\n\t\t\t\t}else {\n\t\t\t\t\tif(component.definition.field){\n\t\t\t\t\t\tthis.langBind(\"columns|\" + component.definition.field, (value) => {\n\t\t\t\t\t\t\tcontentsEl.innerHTML = tooltip = value || component.definition.title;\n\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\ttooltip = component.definition.title;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcontentsEl.innerHTML = tooltip;\n\t\t}\n\t\t\n\t\tif(tooltip || tooltip === 0 || tooltip === false){\n\t\t\tcontentsEl.classList.add(\"tabulator-tooltip\");\n\n\t\t\tcontentsEl.addEventListener(\"mousemove\", e => e.preventDefault());\n\t\t\t\n\t\t\tthis.popupInstance = this.popup(contentsEl);\n\t\t\t\n\t\t\tif(typeof renderedCallback === \"function\"){\n\t\t\t\tthis.popupInstance.renderCallback(renderedCallback);\n\t\t\t}\n\n\t\t\tcoords = this.popupInstance.containerEventCoords(e);\n\t\t\t\n\t\t\tthis.popupInstance.show(coords.x + 15, coords.y + 15).hideOnBlur(() => {\n\t\t\t\tthis.dispatchExternal(\"TooltipClosed\", component.getComponent());\n\t\t\t\tthis.popupInstance = null;\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatchExternal(\"TooltipOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nvar defaultValidators = {\n\t//is integer\n\tinteger: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && Math.floor(value) === value;\n\t},\n\n\t//is float\n\tfloat: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && value % 1 !== 0;\n\t},\n\n\t//must be a number\n\tnumeric: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn !isNaN(value);\n\t},\n\n\t//must be a string\n\tstring: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn isNaN(value);\n\t},\n\n\t//must be alphanumeric\n\talphanumeric: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tvar reg = new RegExp(/^[a-z0-9]+$/i);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//maximum value\n\tmax: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) <= parameters;\n\t},\n\n\t//minimum value\n\tmin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) >= parameters;\n\t},\n\n\t//starts with  value\n\tstarts: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().startsWith(String(parameters).toLowerCase());\n\t},\n\n\t//ends with  value\n\tends: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().endsWith(String(parameters).toLowerCase());\n\t},\n\n\n\t//minimum string length\n\tminLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length >= parameters;\n\t},\n\n\t//maximum string length\n\tmaxLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length <= parameters;\n\t},\n\n\t//in provided value list\n\tin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(typeof parameters == \"string\"){\n\t\t\tparameters = parameters.split(\"|\");\n\t\t}\n\n\t\treturn parameters.indexOf(value) > -1;\n\t},\n\n\t//must match provided regex\n\tregex: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar reg = new RegExp(parameters);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//value must be unique in this column\n\tunique: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar unique = true;\n\n\t\tvar cellData = cell.getData();\n\t\tvar column = cell.getColumn()._getSelf();\n\n\t\tthis.table.rowManager.rows.forEach(function(row){\n\t\t\tvar data = row.getData();\n\n\t\t\tif(data !== cellData){\n\t\t\t\tif(value == column.getFieldValue(data)){\n\t\t\t\t\tunique = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn unique;\n\t},\n\n\t//must have a value\n\trequired:function(cell, value, parameters){\n\t\treturn value !== \"\" && value !== null && typeof value !== \"undefined\";\n\t},\n};\n\nclass Validate extends Module{\n\n\tstatic moduleName = \"validate\";\n\n\t//load defaults\n\tstatic validators = defaultValidators;\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.invalidCells = [];\n\t\t\n\t\tthis.registerTableOption(\"validationMode\", \"blocking\");\n\t\t\n\t\tthis.registerColumnOption(\"validator\");\n\t\t\n\t\tthis.registerTableFunction(\"getInvalidCells\", this.getInvalidCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellValidation\", this.userClearCellValidation.bind(this));\n\t\tthis.registerTableFunction(\"validate\", this.userValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isValid\", this.cellIsValid.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearValidation\", this.clearValidation.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"validate\", this.cellValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"column\", \"validate\", this.columnValidate.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"validate\", this.rowValidate.bind(this));\n\t}\n\t\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-delete\", this.clearValidation.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\t\n\t\tthis.subscribe(\"edit-success\", this.editValidate.bind(this));\n\t\tthis.subscribe(\"edit-editor-clear\", this.editorClear.bind(this));\n\t\tthis.subscribe(\"edit-edited-clear\", this.editedClear.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Event Handling //////////\n\t///////////////////////////////////\n\t\n\teditValidate(cell, value, previousValue){\n\t\tvar valid = this.table.options.validationMode !== \"manual\" ? this.validate(cell.column.modules.validate, cell, value) : true;\n\t\t\n\t\t// allow time for editor to make render changes then style cell\n\t\tif(valid !== true){\n\t\t\tsetTimeout(() => {\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t\tthis.dispatchExternal(\"validationFailed\", cell.getComponent(), value, valid);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn valid;\n\t}\n\t\n\teditorClear(cell, cancelled){\n\t\tif(cancelled){\n\t\t\tif(cell.column.modules.validate){\n\t\t\t\tthis.cellValidate(cell);\n\t\t\t}\n\t\t}\n\n\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t}\n\t\n\teditedClear(cell){\n\t\tif(cell.modules.validate){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Cell Functions /////////\n\t///////////////////////////////////\n\t\n\tcellIsValid(cell){\n\t\treturn cell.modules.validate ? (cell.modules.validate.invalid || true) : true;\n\t}\n\t\n\tcellValidate(cell){\n\t\treturn this.validate(cell.column.modules.validate, cell, cell.getValue());\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Column Functions ////////\n\t///////////////////////////////////\n\t\n\tcolumnValidate(column){\n\t\tvar invalid = [];\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Row Functions //////////\n\t///////////////////////////////////\n\t\n\trowValidate(row){\n\t\tvar invalid = [];\n\t\t\n\t\trow.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\tuserClearCellValidation(cells){\n\t\tif(!cells){\n\t\t\tcells = this.getInvalidCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.clearValidation(cell._getSelf());\n\t\t});\n\t}\n\t\n\tuserValidate(cells){\n\t\tvar output = [];\n\t\t\n\t\t//clear row data\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trow = row.getComponent();\n\t\t\t\n\t\t\tvar valid = row.validate();\n\t\t\t\n\t\t\tif(valid !== true){\n\t\t\t\toutput = output.concat(valid);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output.length ? output : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.validator !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//validate\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = [],\n\t\tvalidator;\n\t\t\n\t\tif(column.definition.validator){\n\t\t\t\n\t\t\tif(Array.isArray(column.definition.validator)){\n\t\t\t\tcolumn.definition.validator.forEach((item) => {\n\t\t\t\t\tvalidator = self._extractValidator(item);\n\t\t\t\t\t\n\t\t\t\t\tif(validator){\n\t\t\t\t\t\tconfig.push(validator);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\tvalidator = this._extractValidator(column.definition.validator);\n\t\t\t\t\n\t\t\t\tif(validator){\n\t\t\t\t\tconfig.push(validator);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.validate = config.length ? config : false;\n\t\t}\n\t}\n\t\n\t_extractValidator(value){\n\t\tvar type, params, pos;\n\t\t\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tpos = value.indexOf(':');\n\t\t\t\n\t\t\t\tif(pos > -1){\n\t\t\t\t\ttype = value.substring(0,pos);\n\t\t\t\t\tparams = value.substring(pos+1);\n\t\t\t\t}else {\n\t\t\t\t\ttype = value;\n\t\t\t\t}\n\t\t\t\n\t\t\t\treturn this._buildValidator(type, params);\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\treturn this._buildValidator(value);\n\t\t\t\n\t\t\tcase \"object\":\n\t\t\t\treturn this._buildValidator(value.type, value.parameters);\n\t\t}\n\t}\n\t\n\t_buildValidator(type, params){\n\t\t\n\t\tvar func = typeof type == \"function\" ? type : Validate.validators[type];\n\t\t\n\t\tif(!func){\n\t\t\tconsole.warn(\"Validator Setup Error - No matching validator found:\", type);\n\t\t\treturn false;\n\t\t}else {\n\t\t\treturn {\n\t\t\t\ttype:typeof type == \"function\" ? \"function\" : type,\n\t\t\t\tfunc:func,\n\t\t\t\tparams:params,\n\t\t\t};\n\t\t}\n\t}\n\t\n\tvalidate(validators, cell, value){\n\t\tvar self = this,\n\t\tfailedValidators = [],\n\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\n\t\tif(validators){\n\t\t\tvalidators.forEach((item) => {\n\t\t\t\tif(!item.func.call(self, cell.getComponent(), value, item.params)){\n\t\t\t\t\tfailedValidators.push({\n\t\t\t\t\t\ttype:item.type,\n\t\t\t\t\t\tparameters:item.params\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(!cell.modules.validate){\n\t\t\tcell.modules.validate = {};\n\t\t}\n\t\t\n\t\tif(!failedValidators.length){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}else {\n\t\t\tcell.modules.validate.invalid = failedValidators;\n\t\t\t\n\t\t\tif(this.table.options.validationMode !== \"manual\"){\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t}\n\t\t\t\n\t\t\tif(invalidIndex == -1){\n\t\t\t\tthis.invalidCells.push(cell);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn failedValidators.length ? failedValidators : true;\n\t}\n\t\n\tgetInvalidCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.invalidCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearValidation(cell){\n\t\tvar invalidIndex;\n\t\t\n\t\tif(cell.modules.validate && cell.modules.validate.invalid){\n\t\t\t\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\t\n\t\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nvar allModules = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tAccessorModule: Accessor,\n\tAjaxModule: Ajax,\n\tClipboardModule: Clipboard,\n\tColumnCalcsModule: ColumnCalcs,\n\tDataTreeModule: DataTree,\n\tDownloadModule: Download,\n\tEditModule: Edit,\n\tExportModule: Export,\n\tFilterModule: Filter,\n\tFormatModule: Format,\n\tFrozenColumnsModule: FrozenColumns,\n\tFrozenRowsModule: FrozenRows,\n\tGroupRowsModule: GroupRows,\n\tHistoryModule: History,\n\tHtmlTableImportModule: HtmlTableImport,\n\tImportModule: Import,\n\tInteractionModule: Interaction,\n\tKeybindingsModule: Keybindings,\n\tMenuModule: Menu,\n\tMoveColumnsModule: MoveColumns,\n\tMoveRowsModule: MoveRows,\n\tMutatorModule: Mutator,\n\tPageModule: Page,\n\tPersistenceModule: Persistence,\n\tPopupModule: Popup,\n\tPrintModule: Print,\n\tReactiveDataModule: ReactiveData,\n\tResizeColumnsModule: ResizeColumns,\n\tResizeRowsModule: ResizeRows,\n\tResizeTableModule: ResizeTable,\n\tResponsiveLayoutModule: ResponsiveLayout,\n\tSelectRangeModule: SelectRange,\n\tSelectRowModule: SelectRow,\n\tSortModule: Sort,\n\tSpreadsheetModule: Spreadsheet,\n\tTooltipModule: Tooltip,\n\tValidateModule: Validate\n});\n\nvar defaultOptions = {\n\n\tdebugEventsExternal:false, //flag to console log events\n\tdebugEventsInternal:false, //flag to console log events\n\tdebugInvalidOptions:true, //allow toggling of invalid option warnings\n\tdebugInvalidComponentFuncs:true, //allow toggling of invalid component warnings\n\tdebugInitialization:true, //allow toggling of pre initialization function call warnings\n\tdebugDeprecation:true, //allow toggling of deprecation warnings\n\n\theight:false, //height of tabulator\n\tminHeight:false, //minimum height of tabulator\n\tmaxHeight:false, //maximum height of tabulator\n\n\tcolumnHeaderVertAlign:\"top\", //vertical alignment of column headers\n\n\tpopupContainer:false,\n\n\tcolumns:[],//store for colum header info\n\tcolumnDefaults:{}, //store column default props\n\trowHeader:false,\n\n\tdata:false, //default starting data\n\n\tautoColumns:false, //build columns from data row structure\n\tautoColumnsDefinitions:false,\n\n\tnestedFieldSeparator:\".\", //separator for nested data\n\n\tfooterElement:false, //hold footer element\n\n\tindex:\"id\", //filed for row index\n\n\ttextDirection:\"auto\",\n\n\taddRowPos:\"bottom\", //position to insert blank rows, top|bottom\n\n\theaderVisible:true, //hide header\n\n\trenderVertical:\"virtual\",\n\trenderHorizontal:\"basic\",\n\trenderVerticalBuffer:0, // set virtual DOM buffer size\n\n\tscrollToRowPosition:\"top\",\n\tscrollToRowIfVisible:true,\n\n\tscrollToColumnPosition:\"left\",\n\tscrollToColumnIfVisible:true,\n\n\trowFormatter:false,\n\trowFormatterPrint:null,\n\trowFormatterClipboard:null,\n\trowFormatterHtmlOutput:null,\n\n\trowHeight:null,\n\n\tplaceholder:false,\n\n\tdataLoader:true,\n\tdataLoaderLoading:false,\n\tdataLoaderError:false,\n\tdataLoaderErrorTimeout:3000,\n\tdataSendParams:{},\n\tdataReceiveParams:{},\n\n\tdependencies:{},\n};\n\nclass OptionsList {\n\tconstructor(table, msgType, defaults = {}){\n\t\tthis.table = table;\n\t\tthis.msgType = msgType;\n\t\tthis.registeredDefaults = Object.assign({}, defaults);\n\t}\n\t\n\tregister(option, value){\n\t\tthis.registeredDefaults[option] = value;\n\t}\n\t\n\tgenerate(defaultOptions, userOptions = {}){\n\t\tvar output = Object.assign({}, this.registeredDefaults),\n\t\twarn = this.table.options.debugInvalidOptions || userOptions.debugInvalidOptions === true;\n\t\t\n\t\tObject.assign(output, defaultOptions);\n\t\t\n\t\tfor (let key in userOptions){\n\t\t\tif(!output.hasOwnProperty(key)){\n\t\t\t\tif(warn){\n\t\t\t\t\tconsole.warn(\"Invalid \" + this.msgType + \" option:\", key);\n\t\t\t\t}\n\n\t\t\t\toutput[key] = userOptions.key;\n\t\t\t}\n\t\t}\n\t\n\t\t\n\t\tfor (let key in output){\n\t\t\tif(key in userOptions){\n\t\t\t\toutput[key] = userOptions[key];\n\t\t\t}else {\n\t\t\t\tif(Array.isArray(output[key])){\n\t\t\t\t\toutput[key] = Object.assign([], output[key]);\n\t\t\t\t}else if(typeof output[key] === \"object\" && output[key] !== null){\n\t\t\t\t\toutput[key] = Object.assign({}, output[key]);\n\t\t\t\t}else if (typeof output[key] === \"undefined\"){\n\t\t\t\t\tdelete output[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n}\n\nclass Renderer extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.elementVertical = table.rowManager.element;\n\t\tthis.elementHorizontal = table.columnManager.element;\n\t\tthis.tableElement =  table.rowManager.tableElement;\n\n\t\tthis.verticalFillMode = \"fit\"; // used by row manager to determine how to size the render area (\"fit\" - fits container to the contents, \"fill\" - fills the container without resizing it)\n\t}\n\n\n\t///////////////////////////////////\n\t/////// Internal Bindings /////////\n\t///////////////////////////////////\n\n\tinitialize(){\n\t\t//initialize core functionality\n\t}\n\n\tclearRows(){\n\t\t//clear down existing rows layout\n\t}\n\n\tclearColumns(){\n\t\t//clear down existing columns layout\n\t}\n\n\n\treinitializeColumnWidths(columns){\n\t\t//resize columns to fit data\n\t}\n\n\n\trenderRows(){\n\t\t//render rows from a clean slate\n\t}\n\n\trenderColumns(){\n\t\t//render columns from a clean slate\n\t}\n\n\trerenderRows(callback){\n\t\t// rerender rows and keep position\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t}\n\n\trerenderColumns(update, blockRedraw){\n\t\t//rerender columns\n\t}\n\n\trenderRowCells(row){\n\t\t//render the cells in a row\n\t}\n\n\trerenderRowCells(row, force){\n\t\t//rerender the cells in a row\n\t}\n\n\tscrollColumns(left, dir){\n\t\t//handle horizontal scrolling\n\t}\n\n\tscrollRows(top, dir){\n\t\t//handle vertical scrolling\n\t}\n\n\tresize(){\n\t\t//container has resized, carry out any needed recalculations (DO NOT RERENDER IN THIS FUNCTION)\n\t}\n\n\tscrollToRow(row){\n\t\t//scroll to a specific row\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\t//determine weather the row is nearest the top or bottom of the table, return true for top or false for bottom\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\t//return the visible rows\n\t\treturn [];\n\t}\n\n\t///////////////////////////////////\n\t//////// Helper Functions /////////\n\t///////////////////////////////////\n\n\trows(){\n\t\treturn this.table.rowManager.getDisplayRows();\n\t}\n\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else {\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t/////// External Triggers /////////\n\t/////// (DO NOT OVERRIDE) /////////\n\t///////////////////////////////////\n\n\tclear(){\n\t\t//clear down existing layout\n\t\tthis.clearRows();\n\t\tthis.clearColumns();\n\t}\n\n\trender(){\n\t\t//render from a clean slate\n\t\tthis.renderRows();\n\t\tthis.renderColumns();\n\t}\n\n\trerender(callback){\n\t\t// rerender and keep position\n\t\tthis.rerenderRows();\n\t\tthis.rerenderColumns();\n\t}\n\n\tscrollToRowPosition(row, position, ifVisible){\n\t\tvar rowIndex = this.rows().indexOf(row),\n\t\trowEl = row.getElement(),\n\t\toffset = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(rowIndex > -1){\n\n\t\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\t\tifVisible = this.table.options.scrollToRowIfVisible;\n\t\t\t\t}\n\n\t\t\t\t//check row visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(Helpers.elVisible(rowEl)){\n\t\t\t\t\t\toffset = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(offset > 0 && offset < this.elementVertical.clientHeight - rowEl.offsetHeight){\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\t\tposition = this.table.options.scrollToRowPosition;\n\t\t\t\t}\n\n\t\t\t\tif(position === \"nearest\"){\n\t\t\t\t\tposition = this.scrollToRowNearestTop(row) ? \"top\" : \"bottom\";\n\t\t\t\t}\n\n\t\t\t\t//scroll to row\n\t\t\t\tthis.scrollToRow(row);\n\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop + (rowEl.offsetTop - this.elementVertical.scrollTop) - ((this.elementVertical.scrollHeight - rowEl.offsetTop) / 2);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.clientHeight / 2);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"bottom\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.scrollHeight - rowEl.offsetTop) + rowEl.offsetHeight;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - this.elementVertical.clientHeight + rowEl.offsetHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\tthis.elementVertical.scrollTop = rowEl.offsetTop;\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tresolve();\n\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Scroll Error - Row not visible\");\n\t\t\t\treject(\"Scroll Error - Row not visible\");\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass BasicHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\trenderRowCells(row, inFragment) {\n\t\tconst rowFrag = document.createDocumentFragment();\n\t\trow.cells.forEach((cell) => {\n\t\t\trowFrag.appendChild(cell.getElement());\n\t\t});\n\t\trow.element.appendChild(rowFrag);\n\t\t\n\t\tif(!inFragment){\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tcolumns.forEach(function(column){\n\t\t\tcolumn.reinitializeWidth();\n\t\t});\n\t}\n}\n\nclass VirtualDomHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftCol = 0;\n\t\tthis.rightCol = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\t\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t\t\n\t\tthis.fitDataColAvg = 0;\n\t\t\n\t\tthis.windowBuffer = 200; //pixel margin to make column visible before it is shown on screen\n\t\t\n\t\tthis.visibleRows = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.isFitData = false;\n\t\t\n\t\tthis.columns = [];\n\t}\n\t\n\tinitialize(){\n\t\tthis.compatibilityCheck();\n\t\tthis.layoutCheck();\n\t\tthis.vertScrollListen();\n\t}\n\t\n\tcompatibilityCheck(){\t\t\n\t\tif(this.options(\"layout\") == \"fitDataTable\"){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with fitDataTable layout mode\");\n\t\t}\n\t\t\n\t\tif(this.options(\"responsiveLayout\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with responsive columns\");\n\t\t}\n\t\t\n\t\tif(this.options(\"rtl\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not currently compatible with RTL text direction\");\n\t\t}\n\t}\n\t\n\tlayoutCheck(){\n\t\tthis.isFitData = this.options(\"layout\").startsWith('fitData');\n\t}\n\t\n\tvertScrollListen(){\n\t\tthis.subscribe(\"scroll-vertical\", this.clearVisRowCache.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.clearVisRowCache.bind(this));\n\t}\n\t\n\tclearVisRowCache(){\n\t\tthis.visibleRows = null;\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\t\n\trenderColumns(row, force){\n\t\tthis.dataChange();\n\t}\n\t\n\t\n\tscrollColumns(left, dir){\n\t\tif(this.scrollLeft != left){\n\t\t\tthis.scrollLeft = left;\n\t\t\t\n\t\t\tthis.scroll(left - (this.vDomScrollPosLeft + this.windowBuffer));\n\t\t}\n\t}\n\t\n\tcalcWindowBuffer(){\n\t\tvar buffer = this.elementVertical.clientWidth;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\tvar width = column.getWidth();\n\t\t\t\t\n\t\t\t\tif(width > buffer){\n\t\t\t\t\tbuffer = width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.windowBuffer = buffer * 2;\n\t}\n\t\n\trerenderColumns(update, blockRedraw){\t\t\n\t\tvar old = {\n\t\t\tcols:this.columns,\n\t\t\tleftCol:this.leftCol,\n\t\t\trightCol:this.rightCol,\n\t\t},\n\t\tcolPos = 0;\n\t\t\n\t\tif(update && !this.initialized){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.clear();\n\t\t\n\t\tthis.calcWindowBuffer();\n\t\t\n\t\tthis.scrollLeft = this.elementVertical.scrollLeft;\n\t\t\n\t\tthis.vDomScrollPosLeft = this.scrollLeft - this.windowBuffer;\n\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tvar config = {},\n\t\t\twidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tif(!column.modules.frozen){\t\t\t\n\t\t\t\t\twidth = column.getWidth();\n\n\t\t\t\t\tconfig.leftPos = colPos;\n\t\t\t\t\tconfig.rightPos = colPos + width;\n\t\t\t\t\t\n\t\t\t\t\tconfig.width = width;\n\t\t\t\t\t\n\t\t\t\t\tif (this.isFitData) {\n\t\t\t\t\t\tconfig.fitDataCheck = column.modules.vdomHoz ? column.modules.vdomHoz.fitDataCheck : true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif((colPos + width > this.vDomScrollPosLeft) && (colPos < this.vDomScrollPosRight)){\n\t\t\t\t\t\t//column is visible\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.leftCol == -1){\n\t\t\t\t\t\t\tthis.leftCol = this.columns.length;\n\t\t\t\t\t\t\tthis.vDomPadLeft = colPos;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.rightCol = this.columns.length;\n\t\t\t\t\t}else {\n\t\t\t\t\t\t// column is hidden\n\t\t\t\t\t\tif(this.leftCol !== -1){\n\t\t\t\t\t\t\tthis.vDomPadRight += width;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.columns.push(column);\n\t\t\t\t\t\n\t\t\t\t\tcolumn.modules.vdomHoz = config;\n\t\t\t\t\t\n\t\t\t\t\tcolPos += width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tif(!update || this.reinitChanged(old)){\n\t\t\t\tthis.reinitializeRows();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.elementVertical.scrollLeft = this.scrollLeft;\n\t}\n\t\n\trenderRowCells(row){\n\t\tif(this.initialized){\n\t\t\tthis.initializeRow(row);\n\t\t}else {\n\t\t\tconst rowFrag = document.createDocumentFragment();\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\trowFrag.appendChild(cell.getElement());\n\t\t\t});\n\t\t\trow.element.appendChild(rowFrag);\n\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\trerenderRowCells(row, force){\n\t\tthis.reinitializeRow(row, force);\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\tthis.columns[i].reinitializeWidth();\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\t\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tclear(){\n\t\tthis.columns = [];\n\t\t\n\t\tthis.leftCol = -1;\n\t\tthis.rightCol = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t}\n\t\n\tdataChange(){\n\t\tvar change = false,\n\t\trow, rowEl;\n\t\t\n\t\tif(this.isFitData){\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\tif(!column.definition.width && column.visible){\n\t\t\t\t\tchange = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(change && this.table.rowManager.getDisplayRows().length){\n\t\t\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\t\t\n\t\t\t\trow = this.chain(\"rows-sample\", [1], [], () => {\n\t\t\t\t\treturn this.table.rowManager.getDisplayRows();\n\t\t\t\t})[0];\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trowEl = row.getElement();\n\t\t\t\t\t\n\t\t\t\t\trow.generateCells();\n\t\t\t\t\t\n\t\t\t\t\tthis.tableElement.appendChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tfor(let colEnd = 0; colEnd < row.cells.length; colEnd++){\n\t\t\t\t\t\tlet cell = row.cells[colEnd];\n\t\t\t\t\t\trowEl.appendChild(cell.getElement());\n\t\t\t\t\t\t\n\t\t\t\t\t\tcell.column.reinitializeWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tif(this.options(\"layout\") === \"fitColumns\"){\n\t\t\t\tthis.layoutRefresh();\n\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treinitChanged(old){\n\t\tvar match = true;\n\t\t\n\t\tif(old.cols.length !== this.columns.length || old.leftCol !== this.leftCol || old.rightCol !== this.rightCol){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\told.cols.forEach((col, i) => {\n\t\t\tif(col !== this.columns[i]){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn !match;\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.getVisibleRows(),\n\t\totherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\n\t\tvisibleRows.forEach((row) => {\n\t\t\tthis.reinitializeRow(row, true);\n\t\t});\n\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t}\n\t\n\tgetVisibleRows(){\n\t\tif (!this.visibleRows){\n\t\t\tthis.visibleRows = this.table.rowManager.getVisibleRows();\n\t\t}\n\t\t\n\t\treturn this.visibleRows;\t\n\t}\n\t\n\tscroll(diff){\n\t\tthis.vDomScrollPosLeft += diff;\n\t\tthis.vDomScrollPosRight += diff;\n\t\t\n\t\tif(Math.abs(diff) > (this.windowBuffer / 2)){\n\t\t\tthis.rerenderColumns();\n\t\t}else {\n\t\t\tif(diff > 0){\n\t\t\t\t//scroll right\n\t\t\t\tthis.addColRight();\n\t\t\t\tthis.removeColLeft();\n\t\t\t}else {\n\t\t\t\t//scroll left\n\t\t\t\tthis.addColLeft();\n\t\t\t\tthis.removeColRight();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcolPositionAdjust (start, end, diff){\n\t\tfor(let i = start; i < end; i++){\n\t\t\tlet column = this.columns[i];\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.leftPos += diff;\n\t\t\tcolumn.modules.vdomHoz.rightPos += diff;\n\t\t}\n\t}\n\t\n\taddColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\n\t\t\tlet column = this.columns[this.rightCol + 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos <= this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.rightCol]).getElement().nextSibling);\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tthis.rightCol++; // Don't move this below the >= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.rightCol >= (this.columns.length - 1)){\n\t\t\t\t\t\tthis.vDomPadRight = 0;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomPadRight -= column.getWidth();\n\t\t\t\t\t}\t\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\taddColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol - 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos >= this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.leftCol]).getElement());\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.leftCol--; // don't move this below the <= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.leftCol <= 0){ // replicating logic in addColRight\n\t\t\t\t\t\tthis.vDomPadLeft = 0;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomPadLeft -= column.getWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet diff = this.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tif(diff){\n\t\t\t\t\t\tthis.scrollLeft = this.elementVertical.scrollLeft = this.elementVertical.scrollLeft + diff;\n\t\t\t\t\t\tthis.vDomPadRight -= diff;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.rightCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos > this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColRight\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadRight += column.getWidth();\n\t\t\t\t\tthis.rightCol --;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos < this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\t\t\t\t\t\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColLeft\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadLeft += column.getWidth();\n\t\t\t\t\tthis.leftCol ++;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tfitDataColActualWidthCheck(column){\n\t\tvar newWidth, widthDiff;\n\t\t\n\t\tif(column.modules.vdomHoz.fitDataCheck){\n\t\t\tcolumn.reinitializeWidth();\n\t\t\t\n\t\t\tnewWidth = column.getWidth();\n\t\t\twidthDiff = newWidth - column.modules.vdomHoz.width;\n\t\t\t\n\t\t\tif(widthDiff){\n\t\t\t\tcolumn.modules.vdomHoz.rightPos += widthDiff;\n\t\t\t\tcolumn.modules.vdomHoz.width = newWidth;\n\t\t\t\tthis.colPositionAdjust(this.columns.indexOf(column) + 1, this.columns.length, widthDiff);\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.fitDataCheck = false;\n\t\t}\n\t\t\n\t\treturn widthDiff;\n\t}\n\t\n\tinitializeRow(row){\n\t\tif(row.type !== \"group\"){\n\t\t\trow.modules.vdomHoz = {\n\t\t\t\tleftCol:this.leftCol,\n\t\t\t\trightCol:this.rightCol,\n\t\t\t};\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\t\tthis.appendCell(row, this.columns[i]);\n\t\t\t}\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tappendCell(row, column){\n\t\tif(column && column.visible){\n\t\t\tlet cell = row.getCell(column);\n\t\t\t\n\t\t\trow.getElement().appendChild(cell.getElement());\n\t\t\tcell.cellRendered();\n\t\t}\n\t}\n\t\n\treinitializeRow(row, force){\n\t\tif(row.type !== \"group\"){\n\t\t\tif(force || !row.modules.vdomHoz || row.modules.vdomHoz.leftCol !== this.leftCol || row.modules.vdomHoz.rightCol !== this.rightCol){\n\t\t\t\t\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\twhile(rowEl.firstChild) rowEl.removeChild(rowEl.firstChild);\n\n\t\t\t\tthis.initializeRow(row);\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass ColumnManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.blockHozScrollEvent = false;\n\t\tthis.headersElement = null;\n\t\tthis.contentsElement = null;\n\t\tthis.rowHeader = null;\n\t\tthis.element = null ; //containing element\n\t\tthis.columns = []; // column definition object\n\t\tthis.columnsByIndex = []; //columns by index\n\t\tthis.columnsByField = {}; //columns by field\n\t\tthis.scrollLeft = 0;\n\t\tthis.optionsList = new OptionsList(this.table, \"column definition\", defaultColumnOptions);\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockUpdate = null; //store latest redraw update only status\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t////////////// Setup Functions /////////////////\n\t\n\tinitialize(){\n\t\tthis.initializeRenderer();\n\t\t\n\t\tthis.headersElement = this.createHeadersElement();\n\t\tthis.contentsElement = this.createHeaderContentsElement();\n\t\tthis.element = this.createHeaderElement();\n\t\t\n\t\tthis.contentsElement.insertBefore(this.headersElement, this.contentsElement.firstChild);\n\t\tthis.element.insertBefore(this.contentsElement, this.element.firstChild);\n\t\t\n\t\tthis.initializeScrollWheelWatcher();\n\t\t\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.padVerticalScrollbar.bind(this));\n\t}\n\t\n\tpadVerticalScrollbar(width){\n\t\tif(this.table.rtl){\n\t\t\tthis.headersElement.style.marginLeft = width + \"px\";\n\t\t}else {\n\t\t\tthis.headersElement.style.marginRight = width + \"px\";\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": VirtualDomHorizontal,\n\t\t\t\"basic\": BasicHorizontal,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderHorizontal === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderHorizontal];\n\t\t}else {\n\t\t\trenderClass = this.table.options.renderHorizontal;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t}else {\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderHorizontal);\n\t\t}\n\t}\n\t\n\t\n\tcreateHeadersElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-headers\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateHeaderContentsElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header-contents\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateHeaderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tif(!this.table.options.headerVisible){\n\t\t\tel.classList.add(\"tabulator-header-hidden\");\n\t\t}\n\t\t\n\t\treturn el;\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\t\n\t//return containing contents element\n\tgetContentsElement(){\n\t\treturn this.contentsElement;\n\t}\n\t\n\t\n\t//return header containing element\n\tgetHeadersElement(){\n\t\treturn this.headersElement;\n\t}\n\t\n\t//scroll horizontally to match table body\n\tscrollHorizontal(left){\n\t\tthis.contentsElement.scrollLeft = left;\n\t\t\n\t\tthis.scrollLeft = left;\n\t\t\n\t\tthis.renderer.scrollColumns(left);\n\t}\n\t\n\tinitializeScrollWheelWatcher(){\n\t\tthis.contentsElement.addEventListener(\"wheel\", (e) => {\n\t\t\tvar left;\n\t\t\t\n\t\t\tif(e.deltaX){\n\t\t\t\tleft = this.contentsElement.scrollLeft + e.deltaX;\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t///////////// Column Setup Functions /////////////\n\tgenerateColumnsFromRowData(data){\n\t\tvar cols = [],\n\t\tcollProgress = {},\n\t\trowSample = this.table.options.autoColumns === \"full\" ? data : [data[0]],\n\t\tdefinitions = this.table.options.autoColumnsDefinitions;\n\t\t\n\t\tif(data && data.length){\n\t\t\t\n\t\t\trowSample.forEach((row) => {\n\t\t\t\t\n\t\t\t\tObject.keys(row).forEach((key, index) => {\n\t\t\t\t\tlet value = row[key],\n\t\t\t\t\tcol;\n\t\t\t\t\t\n\t\t\t\t\tif(!collProgress[key]){\n\t\t\t\t\t\tcol = {\n\t\t\t\t\t\t\tfield:key,\n\t\t\t\t\t\t\ttitle:key,\n\t\t\t\t\t\t\tsorter:this.calculateSorterFromValue(value),\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tcols.splice(index, 0, col);\n\t\t\t\t\t\tcollProgress[key] = typeof value === \"undefined\" ? col : true;\n\t\t\t\t\t}else if(collProgress[key] !== true){\n\t\t\t\t\t\tif(typeof value !== \"undefined\"){\n\t\t\t\t\t\t\tcollProgress[key].sorter = this.calculateSorterFromValue(value);\n\t\t\t\t\t\t\tcollProgress[key] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tif(definitions){\n\t\t\t\t\n\t\t\t\tswitch(typeof definitions){\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tthis.table.options.columns = definitions.call(this.table, cols);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif(Array.isArray(definitions)){\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tvar match = definitions.find((def) => {\n\t\t\t\t\t\t\t\t\treturn def.field === col.field;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(match){\n\t\t\t\t\t\t\t\t\tObject.assign(col, match);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tif(definitions[col.field]){\n\t\t\t\t\t\t\t\t\tObject.assign(col, definitions[col.field]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.table.options.columns = cols;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis.table.options.columns = cols;\n\t\t\t}\n\t\t\t\n\t\t\tthis.setColumns(this.table.options.columns);\n\t\t}\n\t}\n\t\n\tcalculateSorterFromValue(value){\n\t\tvar sorter;\n\t\t\n\t\tswitch(typeof value){\n\t\t\tcase \"undefined\":\n\t\t\t\tsorter = \"string\";\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"boolean\":\n\t\t\t\tsorter = \"boolean\";\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"number\":\n\t\t\t\tsorter = \"number\";\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"object\":\n\t\t\t\tif(Array.isArray(value)){\n\t\t\t\t\tsorter = \"array\";\n\t\t\t\t}else {\n\t\t\t\t\tsorter = \"string\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\tsorter = \"number\";\n\t\t\t\t}else {\n\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t}else {\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn sorter;\n\t}\n\t\n\tsetColumns(cols, row){\n\t\twhile(this.headersElement.firstChild) this.headersElement.removeChild(this.headersElement.firstChild);\n\t\t\n\t\tthis.columns = [];\n\t\tthis.columnsByIndex = [];\n\t\tthis.columnsByField = {};\n\t\t\n\t\tthis.dispatch(\"columns-loading\");\n\t\tthis.dispatchExternal(\"columnsLoading\");\n\t\t\n\t\tif(this.table.options.rowHeader){\n\t\t\tthis.rowHeader = new Column(this.table.options.rowHeader === true ? {} : this.table.options.rowHeader, this, true);\n\t\t\tthis.columns.push(this.rowHeader);\n\t\t\tthis.headersElement.appendChild(this.rowHeader.getElement());\n\t\t\tthis.rowHeader.columnRendered();\n\t\t}\n\t\t\n\t\tcols.forEach((def, i) => {\n\t\t\tthis._addColumn(def);\n\t\t});\n\t\t\n\t\tthis._reIndexColumns();\n\t\t\n\t\tthis.dispatch(\"columns-loaded\");\n\n\t\tif(this.subscribedExternal(\"columnsLoaded\")){\n\t\t\tthis.dispatchExternal(\"columnsLoaded\", this.getComponents());\n\t\t}\n\t\t\n\t\tthis.rerenderColumns(false, true);\n\t\t\n\t\tthis.redraw(true);\n\t}\n\t\n\t_addColumn(definition, before, nextToColumn){\n\t\tvar column = new Column(definition, this),\n\t\tcolEl = column.getElement(),\n\t\tindex = nextToColumn ? this.findColumnIndex(nextToColumn) : nextToColumn;\n\t\t\n\t\t//prevent adding of rows in front of row header\n\t\tif(before && this.rowHeader && (!nextToColumn || nextToColumn === this.rowHeader)){\n\t\t\tbefore = false;\n\t\t\tnextToColumn = this.rowHeader;\n\t\t\tindex = 0;\n\t\t}\n\t\t\n\t\tif(nextToColumn && index > -1){\n\t\t\tvar topColumn = nextToColumn.getTopColumn();\n\t\t\tvar parentIndex = this.columns.indexOf(topColumn);\n\t\t\tvar nextEl = topColumn.getElement();\n\t\t\t\n\t\t\tif(before){\n\t\t\t\tthis.columns.splice(parentIndex, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl);\n\t\t\t}else {\n\t\t\t\tthis.columns.splice(parentIndex + 1, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl.nextSibling);\n\t\t\t}\n\t\t}else {\n\t\t\tif(before){\n\t\t\t\tthis.columns.unshift(column);\n\t\t\t\tthis.headersElement.insertBefore(column.getElement(), this.headersElement.firstChild);\n\t\t\t}else {\n\t\t\t\tthis.columns.push(column);\n\t\t\t\tthis.headersElement.appendChild(column.getElement());\n\t\t\t}\n\t\t}\n\t\t\n\t\tcolumn.columnRendered();\n\t\t\n\t\treturn column;\n\t}\n\t\n\tregisterColumnField(col){\n\t\tif(col.definition.field){\n\t\t\tthis.columnsByField[col.definition.field] = col;\n\t\t}\n\t}\n\t\n\tregisterColumnPosition(col){\n\t\tthis.columnsByIndex.push(col);\n\t}\n\t\n\t_reIndexColumns(){\n\t\tthis.columnsByIndex = [];\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.reRegisterPosition();\n\t\t});\n\t}\n\t\n\t//ensure column headers take up the correct amount of space in column groups\n\tverticalAlignHeaders(){\n\t\tvar minHeight = 0;\n\t\t\n\t\tif(!this.redrawBlock){\n\t\t\t\n\t\t\tthis.headersElement.style.height=\"\";\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.clearVerticalAlign();\n\t\t\t});\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tvar height = column.getHeight();\n\t\t\t\t\n\t\t\t\tif(height > minHeight){\n\t\t\t\t\tminHeight = height;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.headersElement.style.height = minHeight + \"px\";\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.verticalAlign(this.table.options.columnHeaderVertAlign, minHeight);\n\t\t\t});\n\t\t\t\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\t//////////////// Column Details /////////////////\n\tfindColumn(subject){\n\t\tvar columns;\n\t\t\n\t\tif(typeof subject == \"object\"){\n\t\t\t\n\t\t\tif(subject instanceof Column){\n\t\t\t\t//subject is column element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof ColumnComponent){\n\t\t\t\t//subject is public column component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\t\n\t\t\t\tcolumns = [];\n\t\t\t\t\n\t\t\t\tthis.columns.forEach((column) => {\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t//subject is a HTML element of the column header\n\t\t\t\tlet match = columns.find((column) => {\n\t\t\t\t\treturn column.element === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}\n\t\t\t\n\t\t}else {\n\t\t\t//subject should be treated as the field name of the column\n\t\t\treturn this.columnsByField[subject] || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetColumnByField(field){\n\t\treturn this.columnsByField[field];\n\t}\n\t\n\tgetColumnsByFieldRoot(root){\n\t\tvar matches = [];\n\t\t\n\t\tObject.keys(this.columnsByField).forEach((field) => {\n\t\t\tvar fieldRoot = this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator)[0] : field;\n\t\t\tif(fieldRoot === root){\n\t\t\t\tmatches.push(this.columnsByField[field]);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn matches;\n\t}\n\t\n\tgetColumnByIndex(index){\n\t\treturn this.columnsByIndex[index];\n\t}\n\t\n\tgetFirstVisibleColumn(){\n\t\tvar index = this.columnsByIndex.findIndex((col) => {\n\t\t\treturn col.visible;\n\t\t});\n\t\t\n\t\treturn index > -1 ? this.columnsByIndex[index] : false;\n\t}\n\t\n\tgetVisibleColumnsByIndex() {\n\t\treturn this.columnsByIndex.filter((col) => col.visible);\n\t}\n\t\n\tgetColumns(){\n\t\treturn this.columns;\n\t}\n\t\n\tfindColumnIndex(column){\n\t\treturn this.columnsByIndex.findIndex((col) => {\n\t\t\treturn column === col;\n\t\t});\n\t}\n\t\n\t//return all columns that are not groups\n\tgetRealColumns(){\n\t\treturn this.columnsByIndex;\n\t}\n\t\n\t//traverse across columns and call action\n\ttraverse(callback){\n\t\tthis.columnsByIndex.forEach((column,i) =>{\n\t\t\tcallback(column, i);\n\t\t});\n\t}\n\t\n\t//get definitions of actual columns\n\tgetDefinitions(active){\n\t\tvar output = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(!active || (active && column.visible)){\n\t\t\t\toutput.push(column.getDefinition());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\t//get full nested definition tree\n\tgetDefinitionTree(){\n\t\tvar output = [];\n\t\t\n\t\tthis.columns.forEach((column) => {\n\t\t\toutput.push(column.getDefinition(true));\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(structured){\n\t\tvar output = [],\n\t\tcolumns = structured ? this.columns : this.columnsByIndex;\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\toutput.push(column.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetWidth(){\n\t\tvar width = 0;\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\twidth += column.getWidth();\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn width;\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tto.element.parentNode.insertBefore(from.element, to.element);\n\t\t\n\t\tif(after){\n\t\t\tto.element.parentNode.insertBefore(to.element, from.element);\n\t\t}\n\t\t\n\t\tthis.moveColumnActual(from, to, after);\n\t\t\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.table.rowManager.reinitialize();\n\t}\n\t\n\tmoveColumnActual(from, to, after){\n\t\tif(from.parent.isGroup){\n\t\t\tthis._moveColumnInArray(from.parent.columns, from, to, after);\n\t\t}else {\n\t\t\tthis._moveColumnInArray(this.columns, from, to, after);\n\t\t}\n\t\t\n\t\tthis._moveColumnInArray(this.columnsByIndex, from, to, after, true);\n\t\t\n\t\tthis.rerenderColumns(true);\n\t\t\n\t\tthis.dispatch(\"column-moved\", from, to, after);\n\t\t\n\t\tif(this.subscribedExternal(\"columnMoved\")){\n\t\t\tthis.dispatchExternal(\"columnMoved\", from.getComponent(), this.table.columnManager.getComponents());\n\t\t}\n\t}\n\t\n\t_moveColumnInArray(columns, from, to, after, updateRows){\n\t\tvar\tfromIndex = columns.indexOf(from),\n\t\ttoIndex, rows = [];\n\t\t\n\t\tif (fromIndex > -1) {\n\t\t\t\n\t\t\tcolumns.splice(fromIndex, 1);\n\t\t\t\n\t\t\ttoIndex = columns.indexOf(to);\n\t\t\t\n\t\t\tif (toIndex > -1) {\n\t\t\t\t\n\t\t\t\tif(after){\n\t\t\t\t\ttoIndex = toIndex+1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\ttoIndex = fromIndex;\n\t\t\t}\n\t\t\t\n\t\t\tcolumns.splice(toIndex, 0, from);\n\t\t\t\n\t\t\tif(updateRows){\n\t\t\t\t\n\t\t\t\trows = this.chain(\"column-moving-rows\", [from, to, after], null, []) || [];\n\t\t\t\t\n\t\t\t\trows = rows.concat(this.table.rowManager.rows);\n\t\t\t\t\n\t\t\t\trows.forEach(function(row){\n\t\t\t\t\tif(row.cells.length){\n\t\t\t\t\t\tvar cell = row.cells.splice(fromIndex, 1)[0];\n\t\t\t\t\t\trow.cells.splice(toIndex, 0, cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\t\n\tscrollToColumn(column, position, ifVisible){\n\t\tvar left = 0,\n\t\toffset = column.getLeftOffset(),\n\t\tadjust = 0,\n\t\tcolEl = column.getElement();\n\t\t\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\tposition = this.table.options.scrollToColumnPosition;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\tifVisible = this.table.options.scrollToColumnIfVisible;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\t\t\t\t\t\tadjust = -this.element.clientWidth / 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\tadjust = colEl.clientWidth - this.headersElement.clientWidth;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//check column visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(offset > 0 && offset + colEl.offsetWidth < this.element.clientWidth){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//calculate scroll position\n\t\t\t\tleft = offset + adjust;\n\t\t\t\t\n\t\t\t\tleft = Math.max(Math.min(left, this.table.rowManager.element.scrollWidth - this.table.rowManager.element.clientWidth),0);\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.scrollHorizontal(left);\n\t\t\t\t\n\t\t\t\tresolve();\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Scroll Error - Column not visible\");\n\t\t\t\treject(\"Scroll Error - Column not visible\");\n\t\t\t}\n\t\t\t\n\t\t});\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tgenerateCells(row){\n\t\tvar cells = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tcells.push(column.generateCell(row));\n\t\t});\n\t\t\n\t\treturn cells;\n\t}\n\t\n\t//////////////// Column Management /////////////////\n\tgetFlexBaseWidth(){\n\t\tvar totalWidth = this.table.element.clientWidth, //table element width\n\t\tfixedWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar if present\n\t\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t\t}\n\t\t\n\t\tthis.columnsByIndex.forEach(function(column){\n\t\t\tvar width, minWidth, colWidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\twidth = column.definition.width || 0;\n\t\t\t\t\n\t\t\t\tminWidth = parseInt(column.minWidth);\n\t\t\t\t\n\t\t\t\tif(typeof(width) == \"string\"){\n\t\t\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width) ;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tcolWidth = parseInt(width);\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tcolWidth = width;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn fixedWidth;\n\t}\n\t\n\taddColumn(definition, before, nextToColumn){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this._addColumn(definition, before, nextToColumn);\n\t\t\t\n\t\t\tthis._reIndexColumns();\n\t\t\t\n\t\t\tthis.dispatch(\"column-add\", definition, before, nextToColumn);\n\t\t\t\n\t\t\tif(this.layoutMode() != \"fitColumns\"){\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\t\t\t\n\t\t\tthis.redraw(true);\n\t\t\t\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t\t\n\t\t\tthis.rerenderColumns();\n\t\t\t\n\t\t\tresolve(column);\n\t\t});\n\t}\n\t\n\t//remove column from system\n\tderegisterColumn(column){\n\t\tvar field = column.getField(),\n\t\tindex;\n\t\t\n\t\t//remove from field list\n\t\tif(field){\n\t\t\tdelete this.columnsByField[field];\n\t\t}\n\t\t\n\t\t//remove from index list\n\t\tindex = this.columnsByIndex.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columnsByIndex.splice(index, 1);\n\t\t}\n\t\t\n\t\t//remove from column list\n\t\tindex = this.columns.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\t\t\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.redraw();\n\t}\n\t\n\trerenderColumns(update, silent){\n\t\tif(!this.redrawBlock){\n\t\t\tthis.renderer.rerenderColumns(update, silent);\n\t\t}else {\n\t\t\tif(update === false || (update === true && this.redrawBlockUpdate === null)){\n\t\t\t\tthis.redrawBlockUpdate = update;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockUpdate = null;\n\t}\n\t\n\trestoreRedraw(){\n\t\tthis.redrawBlock = false;\n\t\tthis.verticalAlignHeaders();\n\t\tthis.renderer.rerenderColumns(this.redrawBlockUpdate);\n\t\t\n\t}\n\t\n\t//redraw columns\n\tredraw(force){\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.verticalAlignHeaders();\n\t\t}\n\t\t\n\t\tif(force){\n\t\t\tthis.table.rowManager.resetScroll();\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t}\n\t\t\n\t\tif(!this.confirm(\"table-redrawing\", force)){\n\t\t\tthis.layoutRefresh(force);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-redraw\", force);\n\t\t\n\t\tthis.table.footerManager.redraw();\n\t}\n}\n\nclass BasicVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.verticalFillMode = \"fill\";\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t}\n\t\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\t\t\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\telement.scrollTop = 0;\n\t\telement.scrollLeft = 0;\n\t\t\n\t\telement.style.minWidth = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\t}\n\t\n\trenderRows() {\n\t\tvar element = this.tableElement,\n\t\tonlyGroupHeaders = true,\n\t\ttableFrag = document.createDocumentFragment(),\n\t\trows = this.rows();\n\t\t\n\t\trows.forEach((row, index) => {\n\t\t\tthis.styleRow(row, index);\n\t\t\trow.initialize(false, true);\n\t\t\t\n\t\t\tif (row.type !== \"group\") {\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t\t\n\t\t\ttableFrag.appendChild(row.getElement());\n\t\t});\n\t\t\n\t\telement.appendChild(tableFrag);\n\t\t\n\t\trows.forEach((row) => {\n\t\t\trow.rendered();\n\t\t\t\n\t\t\tif(!row.heightInitialized) {\n\t\t\t\trow.calcHeight(true);\n\t\t\t}\n\t\t});\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif(!row.heightInitialized) {\n\t\t\t\trow.setCellHeight();\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else {\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n\t\n\trerenderRows(callback){\t\n\t\tthis.clearRows();\n\t\t\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t\t\n\t\tthis.renderRows();\n\n\t\tif(!this.rows().length){\n\t\t\tthis.table.rowManager.tableEmpty();\n\t\t}\n\t}\n\t\n\tscrollToRowNearestTop(row){\n\t\tvar rowTop = Helpers.elOffset(row.getElement()).top;\n\t\t\n\t\treturn !(Math.abs(this.elementVertical.scrollTop - rowTop) > Math.abs(this.elementVertical.scrollTop + this.elementVertical.clientHeight - rowTop));\n\t}\n\t\n\tscrollToRow(row){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tthis.elementVertical.scrollTop = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top + this.elementVertical.scrollTop;\n\t}\n\t\n\tvisibleRows(includingBuffer){\n\t\treturn this.rows();\n\t}\n\t\n}\n\nclass VirtualDomVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.verticalFillMode = \"fill\";\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomRowHeight = 20; //approximation of row heights for padding\n\n\t\tthis.vDomTop = 0; //hold position for first rendered row in the virtual DOM\n\t\tthis.vDomBottom = 0; //hold position for last rendered row in the virtual DOM\n\n\t\tthis.vDomScrollPosTop = 0; //last scroll position of the vDom top;\n\t\tthis.vDomScrollPosBottom = 0; //last scroll position of the vDom bottom;\n\n\t\tthis.vDomTopPad = 0; //hold value of padding for top of virtual DOM\n\t\tthis.vDomBottomPad = 0; //hold value of padding for bottom of virtual DOM\n\n\t\tthis.vDomMaxRenderChain = 90; //the maximum number of dom elements that can be rendered in 1 go\n\n\t\tthis.vDomWindowBuffer = 0; //window row buffer before removing elements, to smooth scrolling\n\n\t\tthis.vDomWindowMinTotalRows = 20; //minimum number of rows to be generated in virtual dom (prevent buffering issues on tables with tall rows)\n\t\tthis.vDomWindowMinMarginRows = 5; //minimum number of rows to be generated in virtual dom margin\n\n\t\tthis.vDomTopNewRows = []; //rows to normalize after appending to optimize render speed\n\t\tthis.vDomBottomNewRows = []; //rows to normalize after appending to optimize render speed\n\t}\n\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\telement.style.paddingTop = \"\";\n\t\telement.style.paddingBottom = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\n\t\tthis.elementVertical.scrollTop = 0;\n\t\tthis.elementVertical.scrollLeft = 0;\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomTop = 0;\n\t\tthis.vDomBottom = 0;\n\t\tthis.vDomTopPad = 0;\n\t\tthis.vDomBottomPad = 0;\n\t\tthis.vDomScrollPosTop = 0;\n\t\tthis.vDomScrollPosBottom = 0;\n\t}\n\n\trenderRows(){\n\t\tthis._virtualRenderFill();\n\t}\n\n\trerenderRows(callback){\n\t\tvar scrollTop = this.elementVertical.scrollTop;\n\t\tvar topRow = false;\n\t\tvar topOffset = false;\n\n\t\tvar left = this.table.rowManager.scrollLeft;\n\n\t\tvar rows = this.rows();\n\n\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\n\t\t\tif(rows[i]){\n\t\t\t\tvar diff = scrollTop - rows[i].getElement().offsetTop;\n\n\t\t\t\tif(topOffset === false || Math.abs(diff) < topOffset){\n\t\t\t\t\ttopOffset = diff;\n\t\t\t\t\ttopRow = i;\n\t\t\t\t}else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trows.forEach((row) => {\n\t\t\trow.deinitializeHeight();\n\t\t});\n\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\n\t\tif(this.rows().length){\n\t\t\tthis._virtualRenderFill((topRow === false ? this.rows.length - 1 : topRow), true, topOffset || 0);\n\t\t}else {\n\t\t\tthis.clear();\n\t\t\tthis.table.rowManager.tableEmpty();\n\t\t}\n\n\t\tthis.scrollColumns(left);\n\t}\n\n\tscrollColumns(left){\n\t\tthis.table.rowManager.scrollHorizontal(left);\n\t}\n\n\tscrollRows(top, dir){\n\t\tvar topDiff = top - this.vDomScrollPosTop;\n\t\tvar bottomDiff = top - this.vDomScrollPosBottom;\n\t\tvar margin = this.vDomWindowBuffer * 2;\n\t\tvar rows = this.rows();\n\n\t\tthis.scrollTop = top;\n\n\t\tif(-topDiff > margin || bottomDiff > margin){\n\t\t\t//if big scroll redraw table;\n\t\t\tvar left = this.table.rowManager.scrollLeft;\n\t\t\tthis._virtualRenderFill(Math.floor((this.elementVertical.scrollTop / this.elementVertical.scrollHeight) * rows.length));\n\t\t\tthis.scrollColumns(left);\n\t\t}else {\n\n\t\t\tif(dir){\n\t\t\t\t//scrolling up\n\t\t\t\tif(topDiff < 0){\n\t\t\t\t\tthis._addTopRow(rows, -topDiff);\n\t\t\t\t}\n\n\t\t\t\tif(bottomDiff < 0){\n\t\t\t\t\t//hide bottom row if needed\n\t\t\t\t\tif(this.vDomScrollHeight - this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeBottomRow(rows, -bottomDiff);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\n\t\t\t\tif(bottomDiff >= 0){\n\t\t\t\t\tthis._addBottomRow(rows, bottomDiff);\n\t\t\t\t}\n\n\t\t\t\t//scrolling down\n\t\t\t\tif(topDiff >= 0){\n\t\t\t\t\t//hide top row if needed\n\t\t\t\t\tif(this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeTopRow(rows, topDiff);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tresize(){\n\t\tthis.vDomWindowBuffer = this.table.options.renderVerticalBuffer || this.elementVertical.clientHeight;\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\tvar rowIndex = this.rows().indexOf(row);\n\n\t\treturn !(Math.abs(this.vDomTop - rowIndex) > Math.abs(this.vDomBottom - rowIndex));\n\t}\n\n\tscrollToRow(row){\n\t\tvar index = this.rows().indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tthis._virtualRenderFill(index, true);\n\t\t}\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\tvar topEdge = this.elementVertical.scrollTop,\n\t\tbottomEdge = this.elementVertical.clientHeight + topEdge,\n\t\ttopFound = false,\n\t\ttopRow = 0,\n\t\tbottomRow = 0,\n\t\trows = this.rows();\n\n\t\tif(includingBuffer){\n\t\t\ttopRow = this.vDomTop;\n\t\t\tbottomRow = this.vDomBottom;\n\t\t}else {\n\t\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\t\t\t\tif(rows[i]){\n\t\t\t\t\tif(!topFound){\n\t\t\t\t\t\tif((topEdge - rows[i].getElement().offsetTop) >= 0){\n\t\t\t\t\t\t\ttopRow = i;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\ttopFound = true;\n\n\t\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn rows.slice(topRow, bottomRow + 1);\n\t}\n\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\n\t//full virtual render\n\t_virtualRenderFill(position, forceMove, offset) {\n\t\tvar\telement = this.tableElement,\n\t\tholder = this.elementVertical,\n\t\ttopPad = 0,\n\t\trowsHeight = 0,\n\t\trowHeight = 0,\n\t\theightOccupied = 0,\n\t\ttopPadHeight = 0,\n\t\ti = 0,\n\t\trows = this.rows(),\n\t\trowsCount = rows.length,\n\t\tindex = 0,\n\t\trow,\n\t\trowFragment,\n\t\trenderedRows = [],\n\t\ttotalRowsRendered = 0,\n\t\trowsToRender = 0,\n\t\tfixedHeight = this.table.rowManager.fixedHeight,\n\t\tcontainerHeight = this.elementVertical.clientHeight, \n\t\tavgRowHeight = this.table.options.rowHeight, \n\t\tresized = true;\n\n\t\tposition = position || 0;\n\n\t\toffset = offset || 0;\n\n\t\tif(!position){\n\t\t\tthis.clear();\n\t\t}else {\n\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\t\t//check if position is too close to bottom of table\n\t\t\theightOccupied = (rowsCount - position + 1) * this.vDomRowHeight;\n\n\t\t\tif(heightOccupied < containerHeight){\n\t\t\t\tposition -= Math.ceil((containerHeight - heightOccupied) / this.vDomRowHeight);\n\t\t\t\tif(position < 0){\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//calculate initial pad\n\t\t\ttopPad = Math.min(Math.max(Math.floor(this.vDomWindowBuffer / this.vDomRowHeight),  this.vDomWindowMinMarginRows), position);\n\t\t\tposition -= topPad;\n\t\t}\n\n\t\tif(rowsCount && Helpers.elVisible(this.elementVertical)){\n\t\t\tthis.vDomTop = position;\n\t\t\tthis.vDomBottom = position -1;\n\n\t\t\tif(fixedHeight || this.table.options.maxHeight) {\n\t\t\t\tif(avgRowHeight) {\n\t\t\t\t\trowsToRender = (containerHeight / avgRowHeight) + (this.vDomWindowBuffer / avgRowHeight);\n\t\t\t\t}\n\t\t\t\trowsToRender = Math.max(this.vDomWindowMinTotalRows, Math.ceil(rowsToRender));\n\t\t\t}\n\t\t\telse {\n\t\t\t\trowsToRender = rowsCount;\n\t\t\t}\n\n\t\t\twhile(((rowsToRender == rowsCount || rowsHeight <= containerHeight + this.vDomWindowBuffer) || totalRowsRendered < this.vDomWindowMinTotalRows) && this.vDomBottom < rowsCount -1) {\n\t\t\t\trenderedRows = [];\n\t\t\t\trowFragment = document.createDocumentFragment();\n\n\t\t\t\ti = 0;\n\n\t\t\t\twhile ((i < rowsToRender) && this.vDomBottom < rowsCount -1) {\t\n\t\t\t\t\tindex = this.vDomBottom + 1,\n\t\t\t\t\trow = rows[index];\n\n\t\t\t\t\tthis.styleRow(row, index);\n\n\t\t\t\t\trow.initialize(false, true);\n\t\t\t\t\tif(!row.heightInitialized && !this.table.options.rowHeight){\n\t\t\t\t\t\trow.clearCellHeight();\n\t\t\t\t\t}\n\n\t\t\t\t\trowFragment.appendChild(row.getElement());\n\t\t\t\t\trenderedRows.push(row);\n\t\t\t\t\tthis.vDomBottom ++;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\n\t\t\t\tif(!renderedRows.length){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\telement.appendChild(rowFragment);\n\t\t\t\t\n\t\t\t\t// NOTE: The next 3 loops are separate on purpose\n\t\t\t\t// This is to batch up the dom writes and reads which drastically improves performance \n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\trow.rendered();\n\n\t\t\t\t\tif(!row.heightInitialized) {\n\t\t\t\t\t\trow.calcHeight(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\tif(!row.heightInitialized) {\n\t\t\t\t\t\trow.setCellHeight();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trenderedRows.forEach((row) => {\n\t\t\t\t\trowHeight = row.getHeight();\n\t\t\t\t\t\n\t\t\t\t\tif(totalRowsRendered < topPad){\n\t\t\t\t\t\ttopPadHeight += rowHeight;\n\t\t\t\t\t}else {\n\t\t\t\t\t\trowsHeight += rowHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t}\n\t\t\t\t\ttotalRowsRendered++;\n\t\t\t\t});\n\n\t\t\t\tresized = this.table.rowManager.adjustTableSize();\n\t\t\t\tcontainerHeight = this.elementVertical.clientHeight;\n\t\t\t\tif(resized && (fixedHeight || this.table.options.maxHeight))\n\t\t\t\t{\n\t\t\t\t\tavgRowHeight = rowsHeight / totalRowsRendered;\n\t\t\t\t\trowsToRender = Math.max(this.vDomWindowMinTotalRows, Math.ceil((containerHeight / avgRowHeight) + (this.vDomWindowBuffer / avgRowHeight)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!position){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t\t//adjust row height to match average of rendered elements\n\t\t\t\tthis.vDomRowHeight = Math.floor((rowsHeight + topPadHeight) / totalRowsRendered);\n\t\t\t\tthis.vDomBottomPad = this.vDomRowHeight * (rowsCount - this.vDomBottom -1);\n\n\t\t\t\tthis.vDomScrollHeight = topPadHeight + rowsHeight + this.vDomBottomPad - containerHeight;\n\t\t\t}else {\n\t\t\t\tthis.vDomTopPad = !forceMove ? this.scrollTop - topPadHeight : (this.vDomRowHeight * this.vDomTop) + offset;\n\t\t\t\tthis.vDomBottomPad = this.vDomBottom == rowsCount-1 ? 0 : Math.max(this.vDomScrollHeight - this.vDomTopPad - rowsHeight - topPadHeight, 0);\n\t\t\t}\n\t\t\t\n\t\t\telement.style.paddingTop = this.vDomTopPad+\"px\";\n\t\t\telement.style.paddingBottom = this.vDomBottomPad+\"px\";\n\n\t\t\tif(forceMove){\n\t\t\t\tthis.scrollTop = this.vDomTopPad + (topPadHeight) + offset - (this.elementVertical.scrollWidth > this.elementVertical.clientWidth ? this.elementVertical.offsetHeight - containerHeight : 0);\n\t\t\t}\n\n\t\t\tthis.scrollTop = Math.min(this.scrollTop, this.elementVertical.scrollHeight - containerHeight);\n\n\t\t\t//adjust for horizontal scrollbar if present (and not at top of table)\n\t\t\tif(this.elementVertical.scrollWidth > this.elementVertical.clientWidth && forceMove){\n\t\t\t\tthis.scrollTop += this.elementVertical.offsetHeight - containerHeight;\n\t\t\t}\n\n\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\n\t\t\tholder.scrollTop = this.scrollTop;\n\n\t\t\tthis.dispatch(\"render-virtual-fill\");\n\t\t}\n\t}\n\n\t_addTopRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomTop -1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tif(this.vDomTop){\n\t\t\t\tlet row = rows[index],\n\t\t\t\trowHeight, initialized;\n\n\t\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\t\ttable.insertBefore(row.getElement(), table.firstChild);\n\n\t\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trow.initialize();\n\n\t\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\t\tthis.vDomTop--;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t\ti++;\n\n\t\t\t\t\t}else {\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad -= paddingAdjust;\n\n\t\t\tif(this.vDomTopPad < 0){\n\t\t\t\tthis.vDomTopPad = index * this.vDomRowHeight;\n\t\t\t}\n\n\t\t\tif(index < 1){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop -= paddingAdjust;\n\t\t}\n\t}\n\n\t_removeTopRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomTop],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomTop++;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad += paddingAdjust;\n\t\t\tthis.tableElement.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop += this.vDomTop ? paddingAdjust : paddingAdjust + this.vDomWindowBuffer;\n\t\t}\n\t}\n\n\t_addBottomRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomBottom + 1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[index],\n\t\t\trowHeight, initialized;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\ttable.appendChild(row.getElement());\n\n\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t}\n\n\t\t\t\t\trow.initialize();\n\n\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tthis.vDomBottom++;\n\t\t\t\t\tindex++;\n\t\t\t\t\ti++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad -= paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0 || index == rows.length -1){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom += paddingAdjust;\n\t\t}\n\t}\n\n\t_removeBottomRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomBottom],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomBottom --;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else {\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad += paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\tthis.tableElement.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom -= paddingAdjust;\n\t\t}\n\t}\n\n\t_quickNormalizeRowHeight(rows){\n\t\tfor(let row of rows){\n\t\t\trow.calcHeight();\n\t\t}\n\n\t\tfor(let row of rows){\n\t\t\trow.setCellHeight();\n\t\t}\n\t}\n}\n\nclass RowManager extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = this.createHolderElement(); //containing element\n\t\tthis.tableElement = this.createTableElement(); //table element\n\t\tthis.heightFixer = this.createTableElement(); //table element\n\t\tthis.placeholder = null; //placeholder element\n\t\tthis.placeholderContents = null; //placeholder element\n\t\t\n\t\tthis.firstRender = false; //handle first render\n\t\tthis.renderMode = \"virtual\"; //current rendering mode\n\t\tthis.fixedHeight = false; //current rendering mode\n\t\t\n\t\tthis.rows = []; //hold row data objects\n\t\tthis.activeRowsPipeline = []; //hold calculation of active rows\n\t\tthis.activeRows = []; //rows currently available to on display in the table\n\t\tthis.activeRowsCount = 0; //count of active rows\n\t\t\n\t\tthis.displayRows = []; //rows currently on display in the table\n\t\tthis.displayRowsCount = 0; //count of display rows\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockRestoreConfig = false; //store latest redraw function calls for when redraw is needed\n\t\tthis.redrawBlockRenderInPosition = false; //store latest redraw function calls for when redraw is needed\n\t\t\n\t\tthis.dataPipeline = []; //hold data pipeline tasks\n\t\tthis.displayPipeline = []; //hold data display pipeline tasks\n\t\t\n\t\tthis.scrollbarWidth = 0;\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t//////////////// Setup Functions /////////////////\n\t\n\tcreateHolderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-tableholder\");\n\t\tel.setAttribute(\"tabindex\", 0);\n\t\t// el.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateTableElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-table\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitializePlaceholder(){\n\t\tvar placeholder = this.table.options.placeholder;\n\t\t\n\t\tif(typeof placeholder === \"function\"){\n\t\t\tplaceholder = placeholder.call(this.table);\n\t\t}\n\t\t\n\t\tplaceholder = this.chain(\"placeholder\", [placeholder], placeholder, placeholder) || placeholder;\n\t\t\n\t\t//configure placeholder element\n\t\tif(placeholder){\t\n\t\t\tlet el = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-placeholder\");\n\t\t\t\n\t\t\tif(typeof placeholder == \"string\"){\n\t\t\t\tlet contents = document.createElement(\"div\");\n\t\t\t\tcontents.classList.add(\"tabulator-placeholder-contents\");\n\t\t\t\tcontents.innerHTML = placeholder;\n\t\t\t\t\n\t\t\t\tel.appendChild(contents);\n\t\t\t\t\n\t\t\t\tthis.placeholderContents = contents;\n\t\t\t\t\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && placeholder instanceof HTMLElement){\n\t\t\t\t\n\t\t\t\tel.appendChild(placeholder);\n\t\t\t\tthis.placeholderContents = placeholder;\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Invalid placeholder provided, must be string or HTML Element\", placeholder);\n\t\t\t\t\n\t\t\t\tthis.el = null;\n\t\t\t}\n\t\t\t\n\t\t\tthis.placeholder = el;\n\t\t}\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\t\n\t//return table element\n\tgetTableElement(){\n\t\treturn this.tableElement;\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializePlaceholder();\n\t\tthis.initializeRenderer();\n\t\t\n\t\t//initialize manager\n\t\tthis.element.appendChild(this.tableElement);\n\t\t\n\t\tthis.firstRender = true;\n\t\t\n\t\t//scroll header along with table body\n\t\tthis.element.addEventListener(\"scroll\", () => {\n\t\t\tvar left = this.element.scrollLeft,\n\t\t\tleftDir = this.scrollLeft > left,\n\t\t\ttop = this.element.scrollTop,\n\t\t\ttopDir = this.scrollTop > top;\n\t\t\t\n\t\t\t//handle horizontal scrolling\n\t\t\tif(this.scrollLeft != left){\n\t\t\t\tthis.scrollLeft = left;\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-horizontal\", left, leftDir);\n\t\t\t\tthis.dispatchExternal(\"scrollHorizontal\", left, leftDir);\n\t\t\t\t\n\t\t\t\tthis._positionPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\t//handle vertical scrolling\n\t\t\tif(this.scrollTop != top){\n\t\t\t\tthis.scrollTop = top;\n\t\t\t\t\n\t\t\t\tthis.renderer.scrollRows(top, topDir);\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-vertical\", top, topDir);\n\t\t\t\tthis.dispatchExternal(\"scrollVertical\", top, topDir);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t////////////////// Row Manipulation //////////////////\n\tfindRow(subject){\n\t\tif(typeof subject == \"object\"){\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\t//subject is a HTML element of the row\n\t\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\t\treturn row.getElement() === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}else if(subject === null){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\treturn false;\n\t\t}else {\n\t\t\t//subject should be treated as the index of the row\n\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t\t\n\t\t\treturn match || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetRowFromDataObject(data){\n\t\tvar match = this.rows.find((row) => {\n\t\t\treturn row.data === data;\n\t\t});\n\t\t\n\t\treturn match || false;\n\t}\n\t\n\tgetRowFromPosition(position){\n\t\treturn this.getDisplayRows().find((row) => {\n\t\t\treturn row.type === \"row\" && row.getPosition() === position && row.isDisplayed();\n\t\t});\n\t}\n\t\n\tscrollToRow(row, position, ifVisible){\n\t\treturn this.renderer.scrollToRowPosition(row, position, ifVisible);\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\tsetData(data, renderInPosition, columnsChanged){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tif(renderInPosition && this.getDisplayRows().length){\n\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\tthis._setDataActual(data, true);\n\t\t\t\t}else {\n\t\t\t\t\tthis.reRenderInPosition(() => {\n\t\t\t\t\t\tthis._setDataActual(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(this.table.options.autoColumns && columnsChanged && this.table.initialized){\n\t\t\t\t\tthis.table.columnManager.generateColumnsFromRowData(data);\n\t\t\t\t}\n\t\t\t\tthis.resetScroll();\n\t\t\t\t\n\t\t\t\tthis._setDataActual(data);\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\t_setDataActual(data, renderInPosition){\n\t\tthis.dispatchExternal(\"dataProcessing\", data);\n\t\t\n\t\tthis._wipeElements();\n\t\t\n\t\tif(Array.isArray(data)){\n\t\t\tthis.dispatch(\"data-processing\", data);\n\t\t\t\n\t\t\tdata.forEach((def, i) => {\n\t\t\t\tif(def && typeof def === \"object\"){\n\t\t\t\t\tvar row = new Row(def, this);\n\t\t\t\t\tthis.rows.push(row);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\", def);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(false, false, renderInPosition);\n\t\t\t\n\t\t\tthis.dispatch(\"data-processed\", data);\n\t\t\tthis.dispatchExternal(\"dataProcessed\", data);\n\t\t}else {\n\t\t\tconsole.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data, \"\\nData:     \", data);\n\t\t}\n\t}\n\t\n\t_wipeElements(){\n\t\tthis.dispatch(\"rows-wipe\");\n\t\t\n\t\tthis.destroy();\n\t\t\n\t\tthis.adjustTableSize();\n\t\t\n\t\tthis.dispatch(\"rows-wiped\");\n\t}\n\t\n\tdestroy(){\n\t\tthis.rows.forEach((row) => {\n\t\t\trow.wipe();\n\t\t});\n\t\t\n\t\tthis.rows = [];\n\t\tthis.activeRows = [];\n\t\tthis.activeRowsPipeline = [];\n\t\tthis.activeRowsCount = 0;\n\t\tthis.displayRows = [];\n\t\tthis.displayRowsCount = 0;\n\t}\n\t\n\tdeleteRow(row, blockRedraw){\n\t\tvar allIndex = this.rows.indexOf(row),\n\t\tactiveIndex = this.activeRows.indexOf(row);\n\t\t\n\t\tif(activeIndex > -1){\n\t\t\tthis.activeRows.splice(activeIndex, 1);\n\t\t}\n\t\t\n\t\tif(allIndex > -1){\n\t\t\tthis.rows.splice(allIndex, 1);\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tvar displayIndex = rows.indexOf(row);\n\t\t\t\n\t\t\tif(displayIndex > -1){\n\t\t\t\trows.splice(displayIndex, 1);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatchExternal(\"rowDeleted\", row.getComponent());\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis.tableEmpty();\n\t\t}\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.getData());\n\t\t}\n\t}\n\t\n\taddRow(data, pos, index, blockRedraw){\n\t\tvar row = this.addRowActual(data, pos, index, blockRedraw);\n\t\treturn row;\n\t}\n\t\n\t//add multiple rows\n\taddRows(data, pos, index, refreshDisplayOnly){\n\t\tvar rows = [];\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tpos = this.findAddRowPos(pos);\n\t\t\t\n\t\t\tif(!Array.isArray(data)){\n\t\t\t\tdata = [data];\n\t\t\t}\n\t\t\t\n\t\t\tif((typeof index == \"undefined\" && pos) || (typeof index !== \"undefined\" && !pos)){\n\t\t\t\tdata.reverse();\n\t\t\t}\n\t\t\t\n\t\t\tdata.forEach((item, i) => {\n\t\t\t\tvar row = this.addRow(item, pos, index, true);\n\t\t\t\trows.push(row);\n\t\t\t\tthis.dispatch(\"row-added\", row, item, pos, index);\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(refreshDisplayOnly ? \"displayPipeline\" : false, false, true);\n\t\t\t\n\t\t\tthis.regenerateRowPositions();\n\t\t\t\n\t\t\tif(this.displayRowsCount){\n\t\t\t\tthis._clearPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\tresolve(rows);\n\t\t});\n\t}\n\t\n\tfindAddRowPos(pos){\n\t\tif(typeof pos === \"undefined\"){\n\t\t\tpos = this.table.options.addRowPos;\n\t\t}\n\t\t\n\t\tif(pos === \"pos\"){\n\t\t\tpos = true;\n\t\t}\n\t\t\n\t\tif(pos === \"bottom\"){\n\t\t\tpos = false;\n\t\t}\n\t\t\n\t\treturn pos;\n\t}\n\t\n\taddRowActual(data, pos, index, blockRedraw){\n\t\tvar row = data instanceof Row ? data : new Row(data || {}, this),\n\t\ttop = this.findAddRowPos(pos),\n\t\tallIndex = -1,\n\t\tactiveIndex, chainResult;\n\t\t\n\t\tif(!index){\n\t\t\tchainResult = this.chain(\"row-adding-position\", [row, top], null, {index, top});\n\t\t\t\n\t\t\tindex = chainResult.index;\n\t\t\ttop = chainResult.top;\n\t\t}\n\t\t\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tindex = this.findRow(index);\n\t\t}\n\t\t\n\t\tindex = this.chain(\"row-adding-index\", [row, index, top], null, index);\n\t\t\n\t\tif(index){\n\t\t\tallIndex = this.rows.indexOf(index);\n\t\t}\n\t\t\n\t\tif(index && allIndex > -1){\n\t\t\tactiveIndex = this.activeRows.indexOf(index);\n\t\t\t\n\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\tvar displayIndex = rows.indexOf(index);\n\t\t\t\t\n\t\t\t\tif(displayIndex > -1){\n\t\t\t\t\trows.splice((top ? displayIndex : displayIndex + 1), 0, row);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(activeIndex > -1){\n\t\t\t\tthis.activeRows.splice((top ? activeIndex : activeIndex + 1), 0, row);\n\t\t\t}\n\t\t\t\n\t\t\tthis.rows.splice((top ? allIndex : allIndex + 1), 0, row);\n\t\t\t\n\t\t}else {\n\t\t\t\n\t\t\tif(top){\n\t\t\t\t\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.unshift(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.unshift(row);\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}else {\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.push(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.push(row);\n\t\t\t\tthis.rows.push(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.dispatchExternal(\"rowAdded\", row.getComponent());\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t}\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\treturn row;\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tthis.dispatch(\"row-move\", from, to, after);\n\t\t\n\t\tthis.moveRowActual(from, to, after);\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatch(\"row-moved\", from, to, after);\n\t\tthis.dispatchExternal(\"rowMoved\", from.getComponent());\n\t}\n\t\n\tmoveRowActual(from, to, after){\n\t\tthis.moveRowInArray(this.rows, from, to, after);\n\t\tthis.moveRowInArray(this.activeRows, from, to, after);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tthis.moveRowInArray(rows, from, to, after);\n\t\t});\n\t\t\n\t\tthis.dispatch(\"row-moving\", from, to, after);\n\t}\n\t\n\tmoveRowInArray(rows, from, to, after){\n\t\tvar\tfromIndex, toIndex, start, end;\n\t\t\n\t\tif(from !== to){\n\t\t\t\n\t\t\tfromIndex = rows.indexOf(from);\n\t\t\t\n\t\t\tif (fromIndex > -1) {\n\t\t\t\t\n\t\t\t\trows.splice(fromIndex, 1);\n\t\t\t\t\n\t\t\t\ttoIndex = rows.indexOf(to);\n\t\t\t\t\n\t\t\t\tif (toIndex > -1) {\n\t\t\t\t\t\n\t\t\t\t\tif(after){\n\t\t\t\t\t\trows.splice(toIndex+1, 0, from);\n\t\t\t\t\t}else {\n\t\t\t\t\t\trows.splice(toIndex, 0, from);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else {\n\t\t\t\t\trows.splice(fromIndex, 0, from);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//restyle rows\n\t\t\tif(rows === this.getDisplayRows()){\n\t\t\t\t\n\t\t\t\tstart = fromIndex < toIndex ? fromIndex : toIndex;\n\t\t\t\tend = toIndex > fromIndex ? toIndex : fromIndex +1;\n\t\t\t\t\n\t\t\t\tfor(let i = start; i <= end; i++){\n\t\t\t\t\tif(rows[i]){\n\t\t\t\t\t\tthis.styleRow(rows[i], i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearData(){\n\t\tthis.setData([]);\n\t}\n\t\n\tgetRowIndex(row){\n\t\treturn this.findRowIndex(row, this.rows);\n\t}\n\t\n\tgetDisplayRowIndex(row){\n\t\tvar index = this.getDisplayRows().indexOf(row);\n\t\treturn index > -1 ? index : false;\n\t}\n\t\n\tnextDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tnextRow = false;\n\t\t\n\t\t\n\t\tif(index !== false && index < this.displayRowsCount -1){\n\t\t\tnextRow = this.getDisplayRows()[index+1];\n\t\t}\n\t\t\n\t\tif(nextRow && (!(nextRow instanceof Row) || nextRow.type != \"row\")){\n\t\t\treturn this.nextDisplayRow(nextRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn nextRow;\n\t}\n\t\n\tprevDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tprevRow = false;\n\t\t\n\t\tif(index){\n\t\t\tprevRow = this.getDisplayRows()[index-1];\n\t\t}\n\t\t\n\t\tif(rowOnly && prevRow && (!(prevRow instanceof Row) || prevRow.type != \"row\")){\n\t\t\treturn this.prevDisplayRow(prevRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn prevRow;\n\t}\n\t\n\tfindRowIndex(row, list){\n\t\tvar rowIndex;\n\t\t\n\t\trow = this.findRow(row);\n\t\t\n\t\tif(row){\n\t\t\trowIndex = list.indexOf(row);\n\t\t\t\n\t\t\tif(rowIndex > -1){\n\t\t\t\treturn rowIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tgetData(active, transform){\n\t\tvar output = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tif(row.type == \"row\"){\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(active){\n\t\tvar\toutput = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\toutput.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetDataCount(active){\n\t\tvar rows = this.getRows(active);\n\t\t\n\t\treturn rows.length;\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tthis.scrollLeft = left;\n\t\tthis.element.scrollLeft = left;\n\t\t\n\t\tthis.dispatch(\"scroll-horizontal\", left);\n\t}\n\t\n\tregisterDataPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.dataPipeline.push({handler, priority});\n\t\t\tthis.dataPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else {\n\t\t\tconsole.error(\"Data pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\tregisterDisplayPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.displayPipeline.push({handler, priority});\n\t\t\tthis.displayPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else {\n\t\t\tconsole.error(\"Display pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\t//set active data set\n\trefreshActiveData(handler, skipStage, renderInPosition){\n\t\tvar table = this.table,\n\t\tstage = \"\",\n\t\tindex = 0,\n\t\tcascadeOrder = [\"all\", \"dataPipeline\", \"display\", \"displayPipeline\", \"end\"];\n\t\t\n\t\tif(!this.table.destroyed){\n\t\t\tif(typeof handler === \"function\"){\n\t\t\t\tindex = this.dataPipeline.findIndex((item) => {\n\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(index > -1){\n\t\t\t\t\tstage = \"dataPipeline\";\n\t\t\t\t\t\n\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\tif(index == this.dataPipeline.length - 1){\n\t\t\t\t\t\t\tstage = \"display\";\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tindex = this.displayPipeline.findIndex((item) => {\n\t\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(index > -1){\n\t\t\t\t\t\tstage = \"displayPipeline\";\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\t\tif(index == this.displayPipeline.length - 1){\n\t\t\t\t\t\t\t\tstage = \"end\";\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.error(\"Unable to refresh data, invalid handler provided\", handler);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tstage = handler || \"all\";\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.redrawBlock){\n\t\t\t\tif(!this.redrawBlockRestoreConfig || (this.redrawBlockRestoreConfig && ((this.redrawBlockRestoreConfig.stage === stage && index < this.redrawBlockRestoreConfig.index) || (cascadeOrder.indexOf(stage) < cascadeOrder.indexOf(this.redrawBlockRestoreConfig.stage))))){\n\t\t\t\t\tthis.redrawBlockRestoreConfig = {\n\t\t\t\t\t\thandler: handler,\n\t\t\t\t\t\tskipStage: skipStage,\n\t\t\t\t\t\trenderInPosition: renderInPosition,\n\t\t\t\t\t\tstage:stage,\n\t\t\t\t\t\tindex:index,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}else {\n\t\t\t\tif(Helpers.elVisible(this.element)){\n\t\t\t\t\tif(renderInPosition){\n\t\t\t\t\t\tthis.reRenderInPosition(this.refreshPipelines.bind(this, handler, stage, index, renderInPosition));\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!handler){\n\t\t\t\t\t\t\tthis.table.columnManager.renderer.renderColumns();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.renderTable();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(table.options.layoutColumnsOnNewData){\n\t\t\t\t\t\t\tthis.table.columnManager.redraw(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"data-refreshed\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\trefreshPipelines(handler, stage, index, renderInPosition){\n\t\tthis.dispatch(\"data-refreshing\");\n\t\t\n\t\tif(!handler || !this.activeRowsPipeline[0]){\n\t\t\tthis.activeRowsPipeline[0] = this.rows.slice(0);\n\t\t}\n\t\t\n\t\t//cascade through data refresh stages\n\t\tswitch(stage){\n\t\t\tcase \"all\":\n\t\t\t//handle case where all data needs refreshing\n\t\t\t\n\t\t\tcase \"dataPipeline\":\n\t\t\t\tfor(let i = index; i < this.dataPipeline.length; i++){\n\t\t\t\t\tlet result = this.dataPipeline[i].handler(this.activeRowsPipeline[i].slice(0));\n\t\t\t\t\n\t\t\t\t\tthis.activeRowsPipeline[i + 1] = result || this.activeRowsPipeline[i].slice(0);\n\t\t\t\t}\n\t\t\t\n\t\t\t\tthis.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\tindex = 0;\n\t\t\t\tthis.resetDisplayRows();\n\t\t\t\n\t\t\tcase \"displayPipeline\":\n\t\t\t\tfor(let i = index; i < this.displayPipeline.length; i++){\n\t\t\t\t\tlet result = this.displayPipeline[i].handler((i ? this.getDisplayRows(i - 1) : this.activeRows).slice(0), renderInPosition);\n\t\t\t\t\n\t\t\t\t\tthis.setDisplayRows(result || this.getDisplayRows(i - 1).slice(0), i);\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"end\":\n\t\t\t//case to handle scenario when trying to skip past end stage\n\t\t\t\tthis.regenerateRowPositions();\n\t\t}\n\t\t\n\t\tif(this.getDisplayRows().length){\n\t\t\tthis._clearPlaceholder();\n\t\t}\n\t}\n\t\n\t//regenerate row positions\n\tregenerateRowPositions(){\n\t\tvar rows = this.getDisplayRows();\n\t\tvar index = 1;\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif (row.type === \"row\"){\n\t\t\t\trow.setPosition(index);\n\t\t\t\tindex++;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tsetActiveRows(activeRows){\n\t\tthis.activeRows = this.activeRows = Object.assign([], activeRows);\n\t\tthis.activeRowsCount = this.activeRows.length;\n\t}\n\t\n\t//reset display rows array\n\tresetDisplayRows(){\n\t\tthis.displayRows = [];\n\t\t\n\t\tthis.displayRows.push(this.activeRows.slice(0));\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[0].length;\n\t}\n\t\n\t//set display row pipeline data\n\tsetDisplayRows(displayRows, index){\n\t\tthis.displayRows[index] = displayRows;\n\t\t\n\t\tif(index == this.displayRows.length -1){\n\t\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t\t}\n\t}\n\t\n\tgetDisplayRows(index){\n\t\tif(typeof index == \"undefined\"){\n\t\t\treturn this.displayRows.length ? this.displayRows[this.displayRows.length -1] : [];\n\t\t}else {\n\t\t\treturn this.displayRows[index] || [];\n\t\t}\n\t}\n\t\n\tgetVisibleRows(chain, viewable){\n\t\tvar rows =  Object.assign([], this.renderer.visibleRows(!viewable));\n\t\t\n\t\tif(chain){\n\t\t\trows = this.chain(\"rows-visible\", [viewable], rows, rows);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t//repeat action across display rows\n\tdisplayRowIterator(callback){\n\t\tthis.activeRowsPipeline.forEach(callback);\n\t\tthis.displayRows.forEach(callback);\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t}\n\t\n\t//return only actual rows (not group headers etc)\n\tgetRows(type){\n\t\tvar rows = [];\n\t\t\n\t\tswitch(type){\n\t\t\tcase \"active\":\n\t\t\t\trows = this.activeRows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"visible\":\n\t\t\t\trows = this.getVisibleRows(false, true);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\trows = this.chain(\"rows-retrieve\", type, null, this.rows) || this.rows;\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t///////////////// Table Rendering /////////////////\n\t//trigger rerender of table in current position\n\treRenderInPosition(callback){\n\t\tif(this.redrawBlock){\n\t\t\tif(callback){\n\t\t\t\tcallback();\n\t\t\t}else {\n\t\t\t\tthis.redrawBlockRenderInPosition = true;\n\t\t\t}\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\t\n\t\t\tthis.renderer.rerenderRows(callback);\n\t\t\t\n\t\t\tif(!this.fixedHeight){\n\t\t\t\tthis.adjustTableSize();\n\t\t\t}\n\t\t\t\n\t\t\tthis.scrollBarCheck();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"renderComplete\");\n\t\t}\n\t}\n\t\n\tscrollBarCheck(){\n\t\tvar scrollbarWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar moving table when present\n\t\tif(this.element.scrollHeight > this.element.clientHeight){\n\t\t\tscrollbarWidth = this.element.offsetWidth - this.element.clientWidth;\n\t\t}\n\t\t\n\t\tif(scrollbarWidth !== this.scrollbarWidth){\n\t\t\tthis.scrollbarWidth = scrollbarWidth;\n\t\t\tthis.dispatch(\"scrollbar-vertical\", scrollbarWidth);\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": VirtualDomVertical,\n\t\t\t\"basic\": BasicVertical,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderVertical === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderVertical];\n\t\t}else {\n\t\t\trenderClass = this.table.options.renderVertical;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderMode = this.table.options.renderVertical;\n\t\t\t\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t\t\n\t\t\tif((this.table.element.clientHeight || this.table.options.height) && !(this.table.options.minHeight && this.table.options.maxHeight)){\n\t\t\t\tthis.fixedHeight = true;\n\t\t\t}else {\n\t\t\t\tthis.fixedHeight = false;\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderVertical);\n\t\t}\n\t}\n\t\n\tgetRenderMode(){\n\t\treturn this.renderMode;\n\t}\n\t\n\trenderTable(){\n\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tthis._clearTable();\n\t\t\n\t\tif(this.displayRowsCount){\n\t\t\tthis.renderer.renderRows();\n\t\t\t\n\t\t\tif(this.firstRender){\n\t\t\t\tthis.firstRender = false;\n\t\t\t\t\n\t\t\t\tif(!this.fixedHeight){\n\t\t\t\t\tthis.adjustTableSize();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.layoutRefresh(true);\n\t\t\t}\n\t\t}else {\n\t\t\tthis.renderEmptyScroll();\n\t\t}\n\t\t\n\t\tif(!this.fixedHeight){\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-layout\");\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis._showPlaceholder();\n\t\t}\n\t\t\n\t\tthis.scrollBarCheck();\n\t\t\n\t\tthis.dispatchExternal(\"renderComplete\");\n\t}\n\t\n\t//show scrollbars on empty table div\n\trenderEmptyScroll(){\n\t\tif(this.placeholder){\n\t\t\tthis.tableElement.style.display = \"none\";\n\t\t}else {\n\t\t\tthis.tableElement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t\t// this.tableElement.style.minHeight = \"1px\";\n\t\t\t// this.tableElement.style.visibility = \"hidden\";\n\t\t}\n\t}\n\t\n\t_clearTable(){\t\n\t\tthis._clearPlaceholder();\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.renderer.clearRows();\n\t}\n\t\n\ttableEmpty(){\n\t\tthis.renderEmptyScroll();\n\t\tthis._showPlaceholder();\n\t}\n\n\tcheckPlaceholder(){\n\t\tif(this.displayRowsCount){\n\t\t\tthis._clearPlaceholder();\n\t\t}else {\n\t\t\tthis.tableEmpty();\n\t\t}\n\t}\n\t\n\t_showPlaceholder(){\n\t\tif(this.placeholder){\n\t\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t\t}\n\t\t\t\n\t\t\tthis.initializePlaceholder();\n\t\t\t\n\t\t\tthis.placeholder.setAttribute(\"tabulator-render-mode\", this.renderMode);\n\t\t\t\n\t\t\tthis.getElement().appendChild(this.placeholder);\n\t\t\tthis._positionPlaceholder();\n\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t}\n\t\n\t_clearPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t}\n\t\t\n\t\t// clear empty table placeholder min\n\t\tthis.tableElement.style.minWidth = \"\";\n\t\tthis.tableElement.style.display = \"\";\n\t}\n\t\n\t_positionPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.style.width = this.table.columnManager.getWidth() + \"px\";\n\t\t\tthis.placeholderContents.style.width = this.table.rowManager.element.clientWidth + \"px\";\n\t\t\tthis.placeholderContents.style.marginLeft = this.scrollLeft + \"px\";\n\t\t}\n\t}\n\t\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else {\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\t\n\t//normalize height of active rows\n\tnormalizeHeight(force){\n\t\tthis.activeRows.forEach(function(row){\n\t\t\trow.normalizeHeight(force);\n\t\t});\n\t}\n\t\n\t//adjust the height of the table holder to fit in the Tabulator element\n\tadjustTableSize(){\n\t\tlet initialHeight = this.element.clientHeight, minHeight;\n\t\tlet resized = false;\n\t\t\n\t\tif(this.renderer.verticalFillMode === \"fill\"){\n\t\t\tlet otherHeight =  Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height + (this.table.footerManager && this.table.footerManager.active && !this.table.footerManager.external ? this.table.footerManager.getElement().getBoundingClientRect().height : 0));\n\t\t\t\n\t\t\tif(this.fixedHeight){\n\t\t\t\tminHeight = isNaN(this.table.options.minHeight) ? this.table.options.minHeight : this.table.options.minHeight + \"px\";\n\t\t\t\t\n\t\t\t\tconst height = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.minHeight = minHeight || \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.height = height;\n\t\t\t\tthis.element.style.maxHeight = height;\n\t\t\t} else {\n\t\t\t\tthis.element.style.height = \"\";\n\t\t\t\tthis.element.style.height =\n\t\t\t\tthis.table.element.clientHeight - otherHeight + \"px\";\n\t\t\t\tthis.element.scrollTop = this.scrollTop;\n\t\t\t}\n\t\t\t\n\t\t\tthis.renderer.resize();\n\t\t\t\n\t\t\t//check if the table has changed size when dealing with variable height tables\n\t\t\tif(!this.fixedHeight && initialHeight != this.element.clientHeight){\n\t\t\t\tresized = true;\n\t\t\t\tif(this.subscribed(\"table-resize\")){\n\t\t\t\t\tthis.dispatch(\"table-resize\");\n\t\t\t\t}else {\n\t\t\t\t\tthis.redraw();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.scrollBarCheck();\n\t\t}\n\t\t\n\t\tthis._positionPlaceholder();\n\t\treturn resized;\n\t}\n\t\n\t//reinitialize all rows\n\treinitialize(){\n\t\tthis.rows.forEach(function(row){\n\t\t\trow.reinitialize(true);\n\t\t});\n\t}\n\t\n\t//prevent table from being redrawn\n\tblockRedraw (){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockRestoreConfig = false;\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw (){\n\t\tthis.redrawBlock = false;\n\t\t\n\t\tif(this.redrawBlockRestoreConfig){\n\t\t\tthis.refreshActiveData(this.redrawBlockRestoreConfig.handler, this.redrawBlockRestoreConfig.skipStage, this.redrawBlockRestoreConfig.renderInPosition);\n\t\t\t\n\t\t\tthis.redrawBlockRestoreConfig = false;\n\t\t}else {\n\t\t\tif(this.redrawBlockRenderInPosition){\n\t\t\t\tthis.reRenderInPosition();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.redrawBlockRenderInPosition = false;\n\t}\n\t\n\t//redraw table\n\tredraw (force){\n\t\tthis.adjustTableSize();\n\t\tthis.table.tableWidth = this.table.element.clientWidth;\n\t\t\n\t\tif(!force){\t\n\t\t\tthis.reRenderInPosition();\n\t\t\tthis.scrollHorizontal(this.scrollLeft);\n\t\t}else {\n\t\t\tthis.renderTable();\n\t\t}\n\t}\n\t\n\tresetScroll(){\n\t\tthis.element.scrollLeft = 0;\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tif(this.table.browser === \"ie\"){\n\t\t\tvar event = document.createEvent(\"Event\");\n\t\t\tevent.initEvent(\"scroll\", false, true);\n\t\t\tthis.element.dispatchEvent(event);\n\t\t}else {\n\t\t\tthis.element.dispatchEvent(new Event('scroll'));\n\t\t}\n\t}\n}\n\nclass FooterManager extends CoreFeature{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.active = false;\n\t\tthis.element = this.createElement(); //containing element\n\t\tthis.containerElement = this.createContainerElement(); //containing element\n\t\tthis.external = false;\n\t}\n\n\tinitialize(){\n\t\tthis.initializeElement();\n\t}\n\n\tcreateElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer\");\n\n\t\treturn el;\n\t}\n\n\t\n\tcreateContainerElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer-contents\");\n\n\t\tthis.element.appendChild(el);\n\n\t\treturn el;\n\t}\n\n\tinitializeElement(){\n\t\tif(this.table.options.footerElement){\n\n\t\t\tswitch(typeof this.table.options.footerElement){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(this.table.options.footerElement[0] === \"<\"){\n\t\t\t\t\t\tthis.containerElement.innerHTML = this.table.options.footerElement;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.external = true;\n\t\t\t\t\t\tthis.containerElement = document.querySelector(this.table.options.footerElement);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.element = this.table.options.footerElement;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tappend(element){\n\t\tthis.activate();\n\n\t\tthis.containerElement.appendChild(element);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tprepend(element){\n\t\tthis.activate();\n\n\t\tthis.element.insertBefore(element, this.element.firstChild);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tremove(element){\n\t\telement.parentNode.removeChild(element);\n\t\tthis.deactivate();\n\t}\n\n\tdeactivate(force){\n\t\tif(!this.element.firstChild || force){\n\t\t\tif(!this.external){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\tthis.active = false;\n\t\t}\n\t}\n\n\tactivate(){\n\t\tif(!this.active){\n\t\t\tthis.active = true;\n\t\t\tif(!this.external){\n\t\t\t\tthis.table.element.appendChild(this.getElement());\n\t\t\t\tthis.table.element.style.display = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tredraw(){\n\t\tthis.dispatch(\"footer-redraw\");\n\t}\n}\n\nclass InteractionManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.el = null;\n\t\t\n\t\tthis.abortClasses = [\"tabulator-headers\", \"tabulator-table\"];\n\t\t\n\t\tthis.previousTargets = {};\n\t\t\n\t\tthis.listeners = [\n\t\t\t\"click\",\n\t\t\t\"dblclick\",\n\t\t\t\"contextmenu\",\n\t\t\t\"mouseenter\",\n\t\t\t\"mouseleave\",\n\t\t\t\"mouseover\",\n\t\t\t\"mouseout\",\n\t\t\t\"mousemove\",\n\t\t\t\"mouseup\",\n\t\t\t\"mousedown\",\n\t\t\t\"touchstart\",\n\t\t\t\"touchend\",\n\t\t];\n\t\t\n\t\tthis.componentMap = {\n\t\t\t\"tabulator-cell\":\"cell\",\n\t\t\t\"tabulator-row\":\"row\",\n\t\t\t\"tabulator-group\":\"group\",\n\t\t\t\"tabulator-col\":\"column\",\n\t\t};\n\t\t\n\t\tthis.pseudoTrackers = {\n\t\t\t\"row\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"cell\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"group\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"column\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t};\n\t\t\n\t\tthis.pseudoTracking = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.el = this.table.element;\n\t\t\n\t\tthis.buildListenerMap();\n\t\tthis.bindSubscriptionWatchers();\n\t}\n\t\n\tbuildListenerMap(){\n\t\tvar listenerMap = {};\n\t\t\n\t\tthis.listeners.forEach((listener) => {\n\t\t\tlistenerMap[listener] = {\n\t\t\t\thandler:null,\n\t\t\t\tcomponents:[],\n\t\t\t};\n\t\t});\n\t\t\n\t\tthis.listeners = listenerMap;\n\t}\n\t\n\tbindPseudoEvents(){\n\t\tObject.keys(this.pseudoTrackers).forEach((key) => {\n\t\t\tthis.pseudoTrackers[key].subscriber = this.pseudoMouseEnter.bind(this, key);\n\t\t\tthis.subscribe(key + \"-mouseover\", this.pseudoTrackers[key].subscriber);\n\t\t});\n\t\t\n\t\tthis.pseudoTracking = true;\n\t}\n\t\n\tpseudoMouseEnter(key, e, target){\n\t\tif(this.pseudoTrackers[key].target !== target){\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, this.pseudoTrackers[key].target);\n\t\t\t}\n\t\t\t\n\t\t\tthis.pseudoMouseLeave(key, e);\n\t\t\t\n\t\t\tthis.pseudoTrackers[key].target = target;\n\t\t\t\n\t\t\tthis.dispatch(key + \"-mouseenter\", e, target);\n\t\t}\n\t}\n\t\n\tpseudoMouseLeave(key, e){\n\t\tvar leaveList = Object.keys(this.pseudoTrackers),\n\t\tlinkedKeys = {\n\t\t\t\"row\":[\"cell\"],\n\t\t\t\"cell\":[\"row\"],\n\t\t};\n\t\t\n\t\tleaveList = leaveList.filter((item) => {\n\t\t\tvar links = linkedKeys[key];\n\t\t\treturn item !== key && (!links || (links && !links.includes(item)));\n\t\t});\n\t\t\n\t\t\n\t\tleaveList.forEach((key) => {\n\t\t\tvar target = this.pseudoTrackers[key].target;\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, target);\n\t\t\t\t\n\t\t\t\tthis.pseudoTrackers[key].target = null;\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\tbindSubscriptionWatchers(){\n\t\tvar listeners = Object.keys(this.listeners),\n\t\tcomponents = Object.values(this.componentMap);\n\t\t\n\t\tfor(let comp of components){\n\t\t\tfor(let listener of listeners){\n\t\t\t\tlet key = comp + \"-\" + listener;\n\t\t\t\t\n\t\t\t\tthis.subscriptionChange(key, this.subscriptionChanged.bind(this, comp, listener));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.clearWatchers.bind(this));\n\t}\n\t\n\tsubscriptionChanged(component, key, added){\n\t\tvar listener = this.listeners[key].components,\n\t\tindex = listener.indexOf(component),\n\t\tchanged = false;\n\t\t\n\t\tif(added){\n\t\t\tif(index === -1){\n\t\t\t\tlistener.push(component);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t}else {\n\t\t\tif(!this.subscribed(component + \"-\" + key)){\n\t\t\t\tif(index > -1){\n\t\t\t\t\tlistener.splice(index, 1);\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif((key === \"mouseenter\" || key === \"mouseleave\") && !this.pseudoTracking){\n\t\t\tthis.bindPseudoEvents();\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.updateEventListeners();\n\t\t}\n\t}\n\t\n\tupdateEventListeners(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.components.length){\n\t\t\t\tif(!listener.handler){\n\t\t\t\t\tlistener.handler = this.track.bind(this, key);\n\t\t\t\t\tthis.el.addEventListener(key, listener.handler);\n\t\t\t\t\t// this.el.addEventListener(key, listener.handler, {passive: true})\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tif(listener.handler){\n\t\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\t\tlistener.handler = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\ttrack(type, e){\n\t\tvar path = (e.composedPath && e.composedPath()) || e.path;\n\t\t\n\t\tvar targets = this.findTargets(path);\n\t\ttargets = this.bindComponents(type, targets);\n\t\t\n\t\tthis.triggerEvents(type, e, targets);\n\t\t\n\t\tif(this.pseudoTracking && (type == \"mouseover\" || type == \"mouseleave\") && !Object.keys(targets).length){\n\t\t\tthis.pseudoMouseLeave(\"none\", e);\n\t\t}\n\t}\n\t\n\tfindTargets(path){\n\t\tvar targets = {};\n\t\t\n\t\tlet componentMap = Object.keys(this.componentMap);\n\t\t\n\t\tfor (let el of path) {\n\t\t\tlet classList = el.classList ? [...el.classList] : [];\n\t\t\t\n\t\t\tlet abort = classList.filter((item) => {\n\t\t\t\treturn this.abortClasses.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tif(abort.length){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tlet elTargets = classList.filter((item) => {\n\t\t\t\treturn componentMap.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tfor (let target of elTargets) {\n\t\t\t\tif(!targets[this.componentMap[target]]){\n\t\t\t\t\ttargets[this.componentMap[target]] = el;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(targets.group && targets.group === targets.row){\n\t\t\tdelete targets.row;\n\t\t}\n\n\t\treturn targets;\n\t}\n\t\n\tbindComponents(type, targets){\n\t\t//ensure row component is looked up before cell\n\t\tvar keys = Object.keys(targets).reverse(),\n\t\tlistener = this.listeners[type],\n\t\tmatches = {},\n\t\ttargetMatches = {};\n\t\t\n\t\tfor(let key of keys){\n\t\t\tlet component,\n\t\t\ttarget = targets[key],\n\t\t\tpreviousTarget = this.previousTargets[key];\n\t\t\t\n\t\t\tif(previousTarget && previousTarget.target === target){\n\t\t\t\tcomponent = previousTarget.component;\n\t\t\t}else {\n\t\t\t\tswitch(key){\n\t\t\t\t\tcase \"row\":\n\t\t\t\t\tcase \"group\":\n\t\t\t\t\t\tif(listener.components.includes(\"row\") || listener.components.includes(\"cell\") || listener.components.includes(\"group\")){\n\t\t\t\t\t\t\tlet rows = this.table.rowManager.getVisibleRows(true);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tcomponent = rows.find((row) => {\n\t\t\t\t\t\t\t\treturn row.getElement() === target;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(targets[\"row\"] && targets[\"row\"].parentNode && targets[\"row\"].parentNode.closest(\".tabulator-row\")){\n\t\t\t\t\t\t\t\ttargets[key] = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"column\":\n\t\t\t\t\t\tif(listener.components.includes(\"column\")){\n\t\t\t\t\t\t\tcomponent = this.table.columnManager.findColumn(target);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"cell\":\n\t\t\t\t\t\tif(listener.components.includes(\"cell\")){\n\t\t\t\t\t\t\tif(matches[\"row\"] instanceof Row){\n\t\t\t\t\t\t\t\tcomponent = matches[\"row\"].findCell(target);\n\t\t\t\t\t\t\t}else {\t\n\t\t\t\t\t\t\t\tif(targets[\"row\"]){\n\t\t\t\t\t\t\t\t\tconsole.warn(\"Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(component){\n\t\t\t\tmatches[key] = component;\n\t\t\t\ttargetMatches[key] = {\n\t\t\t\t\ttarget:target,\n\t\t\t\t\tcomponent:component,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.previousTargets = targetMatches;\n\t\t\n\t\treturn matches;\n\t}\n\t\n\ttriggerEvents(type, e, targets){\n\t\tvar listener = this.listeners[type];\n\n\t\tfor(let key in targets){\n\t\t\tif(targets[key] && listener.components.includes(key)){\n\t\t\t\tthis.dispatch(key + \"-\" + type, e, targets[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearWatchers(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.handler){\n\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\tlistener.handler = null;\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass ComponentFunctionBinder{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\n\t\tthis.bindings = {};\n\t}\n\n\tbind(type, funcName, handler){\n\t\tif(!this.bindings[type]){\n\t\t\tthis.bindings[type] = {};\n\t\t}\n\n\t\tif(this.bindings[type][funcName]){\n\t\t\tconsole.warn(\"Unable to bind component handler, a matching function name is already bound\", type, funcName, handler);\n\t\t}else {\n\t\t\tthis.bindings[type][funcName] = handler;\n\t\t}\n\t}\n\n\thandle(type, component, name){\n\t\tif(this.bindings[type] && this.bindings[type][name] && typeof this.bindings[type][name].bind === 'function'){\n\t\t\treturn this.bindings[type][name].bind(null, component);\n\t\t}else {\n\t\t\tif(name !== \"then\" && typeof name === \"string\" && !name.startsWith(\"_\")){\n\t\t\t\tif(this.table.options.debugInvalidComponentFuncs){\n\t\t\t\t\tconsole.error(\"The \" + type + \" component does not have a \" + name + \" function, have you checked that you have the correct Tabulator module installed?\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass DataLoader extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.requestOrder = 0; //prevent requests coming out of sequence if overridden by another load request\n\t\tthis.loading = false;\n\t}\n\t\n\tinitialize(){}\n\t\n\tload(data, params, config, replace, silent, columnsChanged){\n\t\tvar requestNo = ++this.requestOrder;\n\n\t\tif(this.table.destroyed){\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\t\n\t\tthis.dispatchExternal(\"dataLoading\", data);\n\t\t\n\t\t//parse json data to array\n\t\tif (data && (data.indexOf(\"{\") == 0 || data.indexOf(\"[\") == 0)){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(this.confirm(\"data-loading\", [data, params, config, silent])){\n\t\t\tthis.loading = true;\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis.alertLoader();\n\t\t\t}\n\t\t\t\n\t\t\t//get params for request\n\t\t\tparams = this.chain(\"data-params\", [data, config, silent], params || {}, params || {});\n\t\t\t\n\t\t\tparams = this.mapParams(params, this.table.options.dataSendParams);\n\t\t\t\n\t\t\tvar result = this.chain(\"data-load\", [data, params, config, silent], false, Promise.resolve([]));\n\t\t\t\n\t\t\treturn result.then((response) => {\n\t\t\t\tif(!this.table.destroyed){\n\t\t\t\t\tif(!Array.isArray(response) && typeof response == \"object\"){\n\t\t\t\t\t\tresponse = this.mapParams(response, this.objectInvert(this.table.options.dataReceiveParams));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar rowData = this.chain(\"data-loaded\", [response], null, response);\n\t\t\t\t\t\n\t\t\t\t\tif(requestNo == this.requestOrder){\n\t\t\t\t\t\tthis.clearAlert();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(rowData !== false){\n\t\t\t\t\t\t\tthis.dispatchExternal(\"dataLoaded\", rowData);\n\t\t\t\t\t\t\tthis.table.rowManager.setData(rowData,  replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else {\n\t\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made\");\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - Table has been destroyed\");\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.error(\"Data Load Error: \", error);\n\t\t\t\tthis.dispatchExternal(\"dataLoadError\", error);\n\t\t\t\t\n\t\t\t\tif(!silent){\n\t\t\t\t\tthis.alertError();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.clearAlert();\n\t\t\t\t}, this.table.options.dataLoaderErrorTimeout);\n\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t}else {\n\t\t\tthis.dispatchExternal(\"dataLoaded\", data);\n\t\t\t\n\t\t\tif(!data){\n\t\t\t\tdata = [];\n\t\t\t}\n\t\t\t\n\t\t\tthis.table.rowManager.setData(data, replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\t\n\tmapParams(params, map){\n\t\tvar output = {};\n\t\t\n\t\tfor(let key in params){\n\t\t\toutput[map.hasOwnProperty(key) ? map[key] : key] = params[key];\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tobjectInvert(obj){\n\t\tvar output = {};\n\t\t\n\t\tfor(let key in obj){\n\t\t\toutput[obj[key]] = key;\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tblockActiveLoad(){\n\t\tthis.requestOrder++;\n\t}\n\t\n\talertLoader(){\n\t\tvar shouldLoad = typeof this.table.options.dataLoader === \"function\" ? this.table.options.dataLoader() : this.table.options.dataLoader;\n\t\t\n\t\tif(shouldLoad){\n\t\t\tthis.table.alertManager.alert(this.table.options.dataLoaderLoading || this.langText(\"data|loading\"));\n\t\t}\n\t}\n\t\n\talertError(){\n\t\tthis.table.alertManager.alert(this.table.options.dataLoaderError || this.langText(\"data|error\"), \"error\");\n\t}\n\t\n\tclearAlert(){\n\t\tthis.table.alertManager.clear();\n\t}\n}\n\nclass ExternalEventBus {\n\n\tconstructor(table, optionsList, debug){\n\t\tthis.table = table;\n\t\tthis.events = {};\n\t\tthis.optionsList = optionsList || {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push(callback);\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tdelete this.events[key];\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift(),\n\t\tresult;\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((callback, i) => {\n\t\t\t\tlet callResult = callback.apply(this.table, args);\n\n\t\t\t\tif(!i){\n\t\t\t\t\tresult = callResult;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"ExternalEvent:\" + args[0];\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n}\n\nclass InternalEventBus {\n\n\tconstructor(debug){\n\t\tthis.events = {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.chain = debug ? this._debugChain.bind(this) : this._chain.bind(this);\n\t\tthis.confirm = debug ? this._debugConfirm.bind(this) : this._confirm.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback, priority = 10000){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push({callback, priority});\n\n\t\tthis.events[key].sort((a, b) => {\n\t\t\treturn a.priority - b.priority;\n\t\t});\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item.callback === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_chain(key, args, initialValue, fallback){\n\t\tvar value = initialValue;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tvalue = subscriber.callback.apply(this, args.concat([value]));\n\t\t\t});\n\n\t\t\treturn value;\n\t\t}else {\n\t\t\treturn typeof fallback === \"function\" ? fallback() : fallback;\n\t\t}\n\t}\n\n\t_confirm(key, args){\n\t\tvar confirmed = false;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tif(subscriber.callback.apply(this, args)){\n\t\t\t\t\tconfirmed = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn confirmed;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift();\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((subscriber) => {\n\t\t\t\tsubscriber.callback.apply(this, args);\n\t\t\t});\n\t\t}\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n\n\t_debugChain(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._chain(...arguments);\n\t}\n\n\t_debugConfirm(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._confirm(...arguments);\n\t}\n}\n\nclass DeprecationAdvisor extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\t_warnUser(){\n\t\tif(this.options(\"debugDeprecation\")){\n\t\t\tconsole.warn(...arguments);\n\t\t}\n\t}\n\t\n\tcheck(oldOption, newOption, convert){\n\t\tvar msg = \"\";\n\t\t\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tmsg = \"Deprecated Setup Option - Use of the %c\" + oldOption + \"%c option is now deprecated\";\n\t\t\t\n\t\t\tif(newOption){\n\t\t\t\tmsg = msg + \", Please use the %c\" + newOption + \"%c option instead\";\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\n\t\t\t\tif(convert){\n\t\t\t\t\tthis.table.options[newOption] = this.table.options[oldOption];\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t}else {\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tcheckMsg(oldOption, msg){\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tthis._warnUser(\"%cDeprecated Setup Option - Use of the %c\" + oldOption + \" %c option is now deprecated, \" + msg, 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t\n\t\t\treturn false;\n\t\t}else {\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tmsg(msg){\n\t\tthis._warnUser(msg);\n\t}\n}\n\nclass DependencyRegistry extends CoreFeature{\r\n\t\r\n\tconstructor(table){\r\n\t\tsuper(table);\r\n\t\t\r\n\t\tthis.deps = {};\r\n\t\t\r\n\t\tthis.props = {\r\n\t\t\t\r\n\t\t};\r\n\t}\r\n\t\r\n\tinitialize(){\r\n\t\tthis.deps = Object.assign({}, this.options(\"dependencies\"));\r\n\t}\r\n\t\r\n\tlookup(key, prop, silent){\r\n\t\tif(Array.isArray(key)){\r\n\t\t\tfor (const item of key) {\r\n\t\t\t\tvar match = this.lookup(item, prop, true);\r\n\r\n\t\t\t\tif(match){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(match){\r\n\t\t\t\treturn match;\r\n\t\t\t}else {\r\n\t\t\t\tthis.error(key);\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tif(prop){\r\n\t\t\t\treturn this.lookupProp(key, prop, silent);\r\n\t\t\t}else {\r\n\t\t\t\treturn this.lookupKey(key, silent);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tlookupProp(key, prop, silent){\r\n\t\tvar dependency;\r\n\t\t\r\n\t\tif(this.props[key] && this.props[key][prop]){\r\n\t\t\treturn this.props[key][prop];\r\n\t\t}else {\r\n\t\t\tdependency = this.lookupKey(key, silent);\r\n\t\t\t\r\n\t\t\tif(dependency){\r\n\t\t\t\tif(!this.props[key]){\r\n\t\t\t\t\tthis.props[key] = {};\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.props[key][prop] = dependency[prop] || dependency;\r\n\t\t\t\treturn this.props[key][prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tlookupKey(key, silent){\r\n\t\tvar dependency;\r\n\t\t\r\n\t\tif(this.deps[key]){\r\n\t\t\tdependency = this.deps[key];\r\n\t\t}else if(window[key]){\r\n\t\t\tthis.deps[key] = window[key];\r\n\t\t\tdependency = this.deps[key];\r\n\t\t}else {\r\n\t\t\tif(!silent){\r\n\t\t\t\tthis.error(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn dependency;\r\n\t}\r\n\r\n\terror(key){\r\n\t\tconsole.error(\"Unable to find dependency\", key, \"Please check documentation and ensure you have imported the required library into your project\");\r\n\t}\r\n}\n\n//resize columns to fit data they contain\nfunction fitData(columns, forced){\n\tif(forced){\n\t\tthis.table.columnManager.renderer.reinitializeColumnWidths(columns);\n\t}\n\t\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}\n\n//resize columns to fit data they contain and stretch row to fill table, also used for fitDataTable\nfunction fitDataGeneral(columns, forced){\n\tcolumns.forEach(function(column){\n\t\tcolumn.reinitializeWidth();\n\t});\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}\n\n//resize columns to fit data the contain and stretch last column to fill table\nfunction fitDataStretch(columns, forced){\n\tvar colsWidth = 0,\n\ttableWidth = this.table.rowManager.element.clientWidth,\n\tgap = 0,\n\tlastCol = false;\n\n\tcolumns.forEach((column, i) => {\n\t\tif(!column.widthFixed){\n\t\t\tcolumn.reinitializeWidth();\n\t\t}\n\n\t\tif(this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible){\n\t\t\tlastCol = column;\n\t\t}\n\n\t\tif(column.visible){\n\t\t\tcolsWidth += column.getWidth();\n\t\t}\n\t});\n\n\tif(lastCol){\n\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tlastCol.setWidth(0);\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\n\t\tif(gap > 0){\n\t\t\tlastCol.setWidth(gap);\n\t\t}else {\n\t\t\tlastCol.reinitializeWidth();\n\t\t}\n\t}else {\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\t}\n}\n\n//resize columns to fit\nfunction fitColumns(columns, forced){\n\tvar totalWidth = this.table.rowManager.element.getBoundingClientRect().width; //table element width\n\tvar fixedWidth = 0; //total width of columns with a defined width\n\tvar flexWidth = 0; //total width available to flexible columns\n\tvar flexGrowUnits = 0; //total number of widthGrow blocks across all columns\n\tvar flexColWidth = 0; //desired width of flexible columns\n\tvar flexColumns = []; //array of flexible width columns\n\tvar fixedShrinkColumns = []; //array of fixed width columns that can shrink\n\tvar flexShrinkUnits = 0; //total number of widthShrink blocks across all columns\n\tvar overflowWidth = 0; //horizontal overflow width\n\tvar gapFill = 0; //number of pixels to be added to final column to close and half pixel gaps\n\n\tfunction calcWidth(width){\n\t\tvar colWidth;\n\n\t\tif(typeof(width) == \"string\"){\n\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width);\n\t\t\t}else {\n\t\t\t\tcolWidth = parseInt(width);\n\t\t\t}\n\t\t}else {\n\t\t\tcolWidth = width;\n\t\t}\n\n\t\treturn colWidth;\n\t}\n\n\t//ensure columns resize to take up the correct amount of space\n\tfunction scaleColumns(columns, freeSpace, colWidth, shrinkCols){\n\t\tvar oversizeCols = [],\n\t\toversizeSpace = 0,\n\t\tremainingSpace = 0,\n\t\tnextColWidth = 0,\n\t\tremainingFlexGrowUnits = flexGrowUnits,\n\t\tgap = 0,\n\t\tchangeUnits = 0,\n\t\tundersizeCols = [];\n\n\t\tfunction calcGrow(col){\n\t\t\treturn (colWidth * (col.column.definition.widthGrow || 1));\n\t\t}\n\n\t\tfunction calcShrink(col){\n\t\t\treturn  (calcWidth(col.width) - (colWidth * (col.column.definition.widthShrink || 0)));\n\t\t}\n\n\t\tcolumns.forEach(function(col, i){\n\t\t\tvar width = shrinkCols ? calcShrink(col) : calcGrow(col);\n\t\t\tif(col.column.minWidth >= width){\n\t\t\t\toversizeCols.push(col);\n\t\t\t}else {\n\t\t\t\tif(col.column.maxWidth && col.column.maxWidth < width){\n\t\t\t\t\tcol.width = col.column.maxWidth;\n\t\t\t\t\tfreeSpace -= col.column.maxWidth;\n\n\t\t\t\t\tremainingFlexGrowUnits -= shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\n\t\t\t\t\tif(remainingFlexGrowUnits){\n\t\t\t\t\t\tcolWidth = Math.floor(freeSpace/remainingFlexGrowUnits);\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tundersizeCols.push(col);\n\t\t\t\t\tchangeUnits += shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(oversizeCols.length){\n\t\t\toversizeCols.forEach(function(col){\n\t\t\t\toversizeSpace += shrinkCols ?  col.width - col.column.minWidth : col.column.minWidth;\n\t\t\t\tcol.width = col.column.minWidth;\n\t\t\t});\n\n\t\t\tremainingSpace = freeSpace - oversizeSpace;\n\n\t\t\tnextColWidth = changeUnits ? Math.floor(remainingSpace/changeUnits) : remainingSpace;\n\n\t\t\tgap = scaleColumns(undersizeCols, remainingSpace, nextColWidth, shrinkCols);\n\t\t}else {\n\t\t\tgap = changeUnits ? freeSpace - (Math.floor(freeSpace/changeUnits) * changeUnits) : freeSpace;\n\n\t\t\tundersizeCols.forEach(function(column){\n\t\t\t\tcolumn.width = shrinkCols ? calcShrink(column) : calcGrow(column);\n\t\t\t});\n\t\t}\n\n\t\treturn gap;\n\t}\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n\n\t//adjust for vertical scrollbar if present\n\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t}\n\n\tcolumns.forEach(function(column){\n\t\tvar width, minWidth, colWidth;\n\n\t\tif(column.visible){\n\n\t\t\twidth = column.definition.width;\n\t\t\tminWidth =  parseInt(column.minWidth);\n\n\t\t\tif(width){\n\n\t\t\t\tcolWidth = calcWidth(width);\n\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\n\t\t\t\tif(column.definition.widthShrink){\n\t\t\t\t\tfixedShrinkColumns.push({\n\t\t\t\t\t\tcolumn:column,\n\t\t\t\t\t\twidth:colWidth > minWidth ? colWidth : minWidth\n\t\t\t\t\t});\n\t\t\t\t\tflexShrinkUnits += column.definition.widthShrink;\n\t\t\t\t}\n\n\t\t\t}else {\n\t\t\t\tflexColumns.push({\n\t\t\t\t\tcolumn:column,\n\t\t\t\t\twidth:0,\n\t\t\t\t});\n\t\t\t\tflexGrowUnits += column.definition.widthGrow || 1;\n\t\t\t}\n\t\t}\n\t});\n\n\t//calculate available space\n\tflexWidth = totalWidth - fixedWidth;\n\n\t//calculate correct column size\n\tflexColWidth = Math.floor(flexWidth / flexGrowUnits);\n\n\t//generate column widths\n\tgapFill = scaleColumns(flexColumns, flexWidth, flexColWidth, false);\n\n\t//increase width of last column to account for rounding errors\n\tif(flexColumns.length && gapFill > 0){\n\t\tflexColumns[flexColumns.length-1].width += gapFill;\n\t}\n\n\t//calculate space for columns to be shrunk into\n\tflexColumns.forEach(function(col){\n\t\tflexWidth -= col.width;\n\t});\n\n\toverflowWidth = Math.abs(gapFill) + flexWidth;\n\n\t//shrink oversize columns if there is no available space\n\tif(overflowWidth > 0 && flexShrinkUnits){\n\t\tgapFill = scaleColumns(fixedShrinkColumns, overflowWidth, Math.floor(overflowWidth / flexShrinkUnits), true);\n\t}\n\n\t//decrease width of last column to account for rounding errors\n\tif(gapFill && fixedShrinkColumns.length){\n\t\tfixedShrinkColumns[fixedShrinkColumns.length-1].width -= gapFill;\n\t}\n\n\tflexColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n\n\tfixedShrinkColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n}\n\nvar defaultModes = {\n\tfitData:fitData,\n\tfitDataFill:fitDataGeneral,\n\tfitDataTable:fitDataGeneral,\n\tfitDataStretch:fitDataStretch,\n\tfitColumns:fitColumns ,\n};\n\nclass Layout extends Module{\n\n\tstatic moduleName = \"layout\";\n\n\t//load defaults\n\tstatic modes = defaultModes;\n\n\tconstructor(table){\n\t\tsuper(table, \"layout\");\n\n\t\tthis.mode = null;\n\n\t\tthis.registerTableOption(\"layout\", \"fitData\"); //layout type\n\t\tthis.registerTableOption(\"layoutColumnsOnNewData\", false); //update column widths on setData\n\n\t\tthis.registerColumnOption(\"widthGrow\");\n\t\tthis.registerColumnOption(\"widthShrink\");\n\t}\n\n\t//initialize layout system\n\tinitialize(){\n\t\tvar layout = this.table.options.layout;\n\n\t\tif(Layout.modes[layout]){\n\t\t\tthis.mode = layout;\n\t\t}else {\n\t\t\tconsole.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \" + layout);\n\t\t\tthis.mode = 'fitData';\n\t\t}\n\n\t\tthis.table.element.setAttribute(\"tabulator-layout\", this.mode);\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.widthGrow){\n\t\t\tcolumn.definition.widthGrow = Number(column.definition.widthGrow);\n\t\t}\n\t\tif(column.definition.widthShrink){\n\t\t\tcolumn.definition.widthShrink = Number(column.definition.widthShrink);\n\t\t}\n\t}\n\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\n\t//trigger table layout\n\tlayout(dataChanged){\n\n\t\tvar variableHeight = this.table.columnManager.columnsByIndex.find((column) => column.definition.variableHeight || column.definition.formatter === \"textarea\");\n\t\t\n\t\tthis.dispatch(\"layout-refreshing\");\n\t\tLayout.modes[this.mode].call(this, this.table.columnManager.columnsByIndex, dataChanged);\n\n\t\tif(variableHeight){\n\t\t\tthis.table.rowManager.normalizeHeight(true);\n\t\t}\n\n\t\tthis.dispatch(\"layout-refreshed\");\n\t}\n}\n\nvar defaultLangs = {\n\t\"default\":{ //hold default locale text\n\t\t\"groups\":{\n\t\t\t\"item\":\"item\",\n\t\t\t\"items\":\"items\",\n\t\t},\n\t\t\"columns\":{\n\t\t},\n\t\t\"data\":{\n\t\t\t\"loading\":\"Loading\",\n\t\t\t\"error\":\"Error\",\n\t\t},\n\t\t\"pagination\":{\n\t\t\t\"page_size\":\"Page Size\",\n\t\t\t\"page_title\":\"Show Page\",\n\t\t\t\"first\":\"First\",\n\t\t\t\"first_title\":\"First Page\",\n\t\t\t\"last\":\"Last\",\n\t\t\t\"last_title\":\"Last Page\",\n\t\t\t\"prev\":\"Prev\",\n\t\t\t\"prev_title\":\"Prev Page\",\n\t\t\t\"next\":\"Next\",\n\t\t\t\"next_title\":\"Next Page\",\n\t\t\t\"all\":\"All\",\n\t\t\t\"counter\":{\n\t\t\t\t\"showing\": \"Showing\",\n\t\t\t\t\"of\": \"of\",\n\t\t\t\t\"rows\": \"rows\",\n\t\t\t\t\"pages\": \"pages\",\n\t\t\t}\n\t\t},\n\t\t\"headerFilters\":{\n\t\t\t\"default\":\"filter column...\",\n\t\t\t\"columns\":{}\n\t\t}\n\t},\n};\n\nclass Localize extends Module{\n\n\tstatic moduleName = \"localize\";\n\n\t//load defaults\n\tstatic langs = defaultLangs;\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.locale = \"default\"; //current locale\n\t\tthis.lang = false; //current language\n\t\tthis.bindings = {}; //update events to call when locale is changed\n\t\tthis.langList = {};\n\n\t\tthis.registerTableOption(\"locale\", false); //current system language\n\t\tthis.registerTableOption(\"langs\", {});\n\t}\n\n\tinitialize(){\n\t\tthis.langList = Helpers.deepClone(Localize.langs);\n\n\t\tif(this.table.options.columnDefaults.headerFilterPlaceholder !== false){\n\t\t\tthis.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);\n\t\t}\n\n\t\tfor(let locale in this.table.options.langs){\n\t\t\tthis.installLang(locale, this.table.options.langs[locale]);\n\t\t}\n\n\t\tthis.setLocale(this.table.options.locale);\n\n\t\tthis.registerTableFunction(\"setLocale\", this.setLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLocale\", this.getLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLang\", this.getLang.bind(this));\n\t}\n\n\t//set header placeholder\n\tsetHeaderFilterPlaceholder(placeholder){\n\t\tthis.langList.default.headerFilters.default = placeholder;\n\t}\n\n\t//setup a lang description object\n\tinstallLang(locale, lang){\n\t\tif(this.langList[locale]){\n\t\t\tthis._setLangProp(this.langList[locale], lang);\n\t\t}else {\n\t\t\tthis.langList[locale] = lang;\n\t\t}\n\t}\n\n\t_setLangProp(lang, values){\n\t\tfor(let key in values){\n\t\t\tif(lang[key] && typeof lang[key] == \"object\"){\n\t\t\t\tthis._setLangProp(lang[key], values[key]);\n\t\t\t}else {\n\t\t\t\tlang[key] = values[key];\n\t\t\t}\n\t\t}\n\t}\n\n\t//set current locale\n\tsetLocale(desiredLocale){\n\t\tdesiredLocale = desiredLocale || \"default\";\n\n\t\t//fill in any matching language values\n\t\tfunction traverseLang(trans, path){\n\t\t\tfor(var prop in trans){\n\t\t\t\tif(typeof trans[prop] == \"object\"){\n\t\t\t\t\tif(!path[prop]){\n\t\t\t\t\t\tpath[prop] = {};\n\t\t\t\t\t}\n\t\t\t\t\ttraverseLang(trans[prop], path[prop]);\n\t\t\t\t}else {\n\t\t\t\t\tpath[prop] = trans[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//determining correct locale to load\n\t\tif(desiredLocale === true && navigator.language){\n\t\t\t//get local from system\n\t\t\tdesiredLocale = navigator.language.toLowerCase();\n\t\t}\n\n\t\tif(desiredLocale){\n\t\t\t//if locale is not set, check for matching top level locale else use default\n\t\t\tif(!this.langList[desiredLocale]){\n\t\t\t\tlet prefix = desiredLocale.split(\"-\")[0];\n\n\t\t\t\tif(this.langList[prefix]){\n\t\t\t\t\tconsole.warn(\"Localization Error - Exact matching locale not found, using closest match: \", desiredLocale, prefix);\n\t\t\t\t\tdesiredLocale = prefix;\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Localization Error - Matching locale not found, using default: \", desiredLocale);\n\t\t\t\t\tdesiredLocale = \"default\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.locale = desiredLocale;\n\n\t\t//load default lang template\n\t\tthis.lang = Helpers.deepClone(this.langList.default || {});\n\n\t\tif(desiredLocale != \"default\"){\n\t\t\ttraverseLang(this.langList[desiredLocale], this.lang);\n\t\t}\n\n\t\tthis.dispatchExternal(\"localized\", this.locale, this.lang);\n\n\t\tthis._executeBindings();\n\t}\n\n\t//get current locale\n\tgetLocale(locale){\n\t\treturn this.locale;\n\t}\n\n\t//get lang object for given local or current if none provided\n\tgetLang(locale){\n\t\treturn locale ? this.langList[locale] : this.lang;\n\t}\n\n\t//get text for current locale\n\tgetText(path, value){\n\t\tvar fillPath = value ? path + \"|\" + value : path,\n\t\tpathArray = fillPath.split(\"|\"),\n\t\ttext = this._getLangElement(pathArray, this.locale);\n\n\t\t// if(text === false){\n\t\t// \tconsole.warn(\"Localization Error - Matching localized text not found for given path: \", path);\n\t\t// }\n\n\t\treturn text || \"\";\n\t}\n\n\t//traverse langs object and find localized copy\n\t_getLangElement(path, locale){\n\t\tvar root = this.lang;\n\n\t\tpath.forEach(function(level){\n\t\t\tvar rootPath;\n\n\t\t\tif(root){\n\t\t\t\trootPath = root[level];\n\n\t\t\t\tif(typeof rootPath != \"undefined\"){\n\t\t\t\t\troot = rootPath;\n\t\t\t\t}else {\n\t\t\t\t\troot = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn root;\n\t}\n\n\t//set update binding\n\tbind(path, callback){\n\t\tif(!this.bindings[path]){\n\t\t\tthis.bindings[path] = [];\n\t\t}\n\n\t\tthis.bindings[path].push(callback);\n\n\t\tcallback(this.getText(path), this.lang);\n\t}\n\n\t//iterate through bindings and trigger updates\n\t_executeBindings(){\n\t\tfor(let path in this.bindings){\n\t\t\tthis.bindings[path].forEach((binding) => {\n\t\t\t\tbinding(this.getText(path), this.lang);\n\t\t\t});\n\t\t}\n\t}\n}\n\nclass Comms extends Module{\n\n\tstatic moduleName = \"comms\";\n\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\n\tinitialize(){\n\t\tthis.registerTableFunction(\"tableComms\", this.receive.bind(this));\n\t}\n\n\tgetConnections(selectors){\n\t\tvar connections = [],\n\t\tconnection;\n\n\t\tconnection = this.table.constructor.registry.lookupTable(selectors);\n\n\t\tconnection.forEach((con) =>{\n\t\t\tif(this.table !== con){\n\t\t\t\tconnections.push(con);\n\t\t\t}\n\t\t});\n\n\t\treturn connections;\n\t}\n\n\tsend(selectors, module, action, data){\n\t\tvar connections = this.getConnections(selectors);\n\n\t\tconnections.forEach((connection) => {\n\t\t\tconnection.tableComms(this.table.element, module, action, data);\n\t\t});\n\n\t\tif(!connections.length && selectors){\n\t\t\tconsole.warn(\"Table Connection Error - No tables matching selector found\", selectors);\n\t\t}\n\t}\n\n\treceive(table, module, action, data){\n\t\tif(this.table.modExists(module)){\n\t\t\treturn this.table.modules[module].commsReceived(table, action, data);\n\t\t}else {\n\t\t\tconsole.warn(\"Inter-table Comms Error - no such module:\", module);\n\t\t}\n\t}\n}\n\nvar coreModules = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tCommsModule: Comms,\n\tLayoutModule: Layout,\n\tLocalizeModule: Localize\n});\n\nclass TableRegistry {\n\tstatic registry = {\n\t\ttables:[],\n\t\t\n\t\tregister(table){\n\t\t\tTableRegistry.registry.tables.push(table);\n\t\t},\n\t\t\n\t\tderegister(table){\n\t\t\tvar index = TableRegistry.registry.tables.indexOf(table);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tTableRegistry.registry.tables.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t\n\t\tlookupTable(query, silent){\n\t\t\tvar results = [],\n\t\t\tmatches, match;\n\t\t\t\n\t\t\tif(typeof query === \"string\"){\n\t\t\t\tmatches = document.querySelectorAll(query);\n\t\t\t\t\n\t\t\t\tif(matches.length){\n\t\t\t\t\tfor(var i = 0; i < matches.length; i++){\n\t\t\t\t\t\tmatch = TableRegistry.registry.matchElement(matches[i]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(match){\n\t\t\t\t\t\t\tresults.push(match);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else if((typeof HTMLElement !== \"undefined\" && query instanceof HTMLElement) || query instanceof TableRegistry){\n\t\t\t\tmatch = TableRegistry.registry.matchElement(query);\n\t\t\t\t\n\t\t\t\tif(match){\n\t\t\t\t\tresults.push(match);\n\t\t\t\t}\n\t\t\t}else if(Array.isArray(query)){\n\t\t\t\tquery.forEach(function(item){\n\t\t\t\t\tresults = results.concat(TableRegistry.registry.lookupTable(item));\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tif(!silent){\n\t\t\t\t\tconsole.warn(\"Table Connection Error - Invalid Selector\", query);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn results;\n\t\t},\n\t\t\n\t\tmatchElement(element){\n\t\t\treturn TableRegistry.registry.tables.find(function(table){\n\t\t\t\treturn element instanceof TableRegistry ? table === element : table.element === element;\n\t\t\t});\n\t\t}\n\t};\n\n\t\t\n\tstatic findTable(query){\n\t\tvar results = TableRegistry.registry.lookupTable(query, true);\n\t\treturn Array.isArray(results) && !results.length ? false : results;\n\t}\n}\n\nclass ModuleBinder extends TableRegistry {\n\t\n\tstatic moduleBindings = {};\n\tstatic moduleExtensions = {};\n\tstatic modulesRegistered = false;\n\t\n\tstatic defaultModules = false;\n\t\n\tconstructor(){\n\t\tsuper();\n\t}\n\t\n\tstatic initializeModuleBinder(defaultModules){\n\t\tif(!ModuleBinder.modulesRegistered){\n\t\t\tModuleBinder.modulesRegistered = true;\n\t\t\tModuleBinder._registerModules(coreModules, true);\n\t\t\t\n\t\t\tif(defaultModules){\n\t\t\t\tModuleBinder._registerModules(defaultModules);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tstatic _extendModule(name, property, values){\n\t\tif(ModuleBinder.moduleBindings[name]){\n\t\t\tvar source = ModuleBinder.moduleBindings[name][property];\n\t\t\t\n\t\t\tif(source){\n\t\t\t\tif(typeof values == \"object\"){\n\t\t\t\t\tfor(let key in values){\n\t\t\t\t\t\tsource[key] = values[key];\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tconsole.warn(\"Module Error - Invalid value type, it must be an object\");\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Module Error - property does not exist:\", property);\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Module Error - module does not exist:\", name);\n\t\t}\n\t}\n\t\n\tstatic _registerModules(modules, core){\n\t\tvar mods = Object.values(modules);\n\t\t\n\t\tif(core){\n\t\t\tmods.forEach((mod) => {\n\t\t\t\tmod.prototype.moduleCore = true;\n\t\t\t});\n\t\t}\n\t\t\n\t\tModuleBinder._registerModule(mods);\n\t}\n\t\n\tstatic _registerModule(modules){\n\t\tif(!Array.isArray(modules)){\n\t\t\tmodules = [modules];\n\t\t}\n\t\t\n\t\tmodules.forEach((mod) => {\n\t\t\tModuleBinder._registerModuleBinding(mod);\n\t\t\tModuleBinder._registerModuleExtensions(mod);\n\t\t});\n\t}\n\t\n\tstatic _registerModuleBinding(mod){\n\t\tif(mod.moduleName){\n\t\t\tModuleBinder.moduleBindings[mod.moduleName] = mod;\n\t\t}else {\n\t\t\tconsole.error(\"Unable to bind module, no moduleName defined\", mod.moduleName);\n\t\t}\n\t}\n\t\n\tstatic _registerModuleExtensions(mod){\n\t\tvar extensions = mod.moduleExtensions;\n\t\t\n\t\tif(mod.moduleExtensions){\n\t\t\tfor (let modKey in extensions) {\n\t\t\t\tlet ext = extensions[modKey];\n\t\t\t\t\n\t\t\t\tif(ModuleBinder.moduleBindings[modKey]){\n\t\t\t\t\tfor (let propKey in ext) {\n\t\t\t\t\t\tModuleBinder._extendModule(modKey, propKey, ext[propKey]);\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tif(!ModuleBinder.moduleExtensions[modKey]){\n\t\t\t\t\t\tModuleBinder.moduleExtensions[modKey] = {};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfor (let propKey in ext) {\n\t\t\t\t\t\tif(!ModuleBinder.moduleExtensions[modKey][propKey]){\n\t\t\t\t\t\t\tModuleBinder.moduleExtensions[modKey][propKey] = {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tObject.assign(ModuleBinder.moduleExtensions[modKey][propKey], ext[propKey]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tModuleBinder._extendModuleFromQueue(mod);\n\t}\n\t\n\tstatic _extendModuleFromQueue(mod){\n\t\tvar extensions = ModuleBinder.moduleExtensions[mod.moduleName];\n\t\t\n\t\tif(extensions){\n\t\t\tfor (let propKey in extensions) {\n\t\t\t\tModuleBinder._extendModule(mod.moduleName, propKey, extensions[propKey]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//ensure that module are bound to instantiated function\n\t_bindModules(){\n\t\tvar orderedStartMods = [],\n\t\torderedEndMods = [],\n\t\tunOrderedMods = [];\n\t\t\n\t\tthis.modules = {};\n\t\t\n\t\tfor(var name in ModuleBinder.moduleBindings){\n\t\t\tlet mod = ModuleBinder.moduleBindings[name];\n\t\t\tlet module = new mod(this);\n\t\t\t\n\t\t\tthis.modules[name] = module;\n\t\t\t\n\t\t\tif(mod.prototype.moduleCore){\n\t\t\t\tthis.modulesCore.push(module);\n\t\t\t}else {\n\t\t\t\tif(mod.moduleInitOrder){\n\t\t\t\t\tif(mod.moduleInitOrder < 0){\n\t\t\t\t\t\torderedStartMods.push(module);\n\t\t\t\t\t}else {\n\t\t\t\t\t\torderedEndMods.push(module);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else {\n\t\t\t\t\tunOrderedMods.push(module);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\torderedStartMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\torderedEndMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\n\t\tthis.modulesRegular = orderedStartMods.concat(unOrderedMods.concat(orderedEndMods));\n\t}\n}\n\nclass Alert extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n        \n\t\tthis.element = this._createAlertElement();\n\t\tthis.msgElement = this._createMsgElement();\n\t\tthis.type = null;\n        \n\t\tthis.element.appendChild(this.msgElement);\n\t}\n    \n\t_createAlertElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert\");\n\t\treturn el;\n\t}\n    \n\t_createMsgElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert-msg\");\n\t\tel.setAttribute(\"role\", \"alert\");\n\t\treturn el;\n\t}\n    \n\t_typeClass(){\n\t\treturn \"tabulator-alert-state-\" + this.type;\n\t}\n    \n\talert(content, type = \"msg\"){\n\t\tif(content){\n\t\t\tthis.clear();\n\n\t\t\tthis.dispatch(\"alert-show\", type);\n            \n\t\t\tthis.type = type;\n            \n\t\t\twhile(this.msgElement.firstChild) this.msgElement.removeChild(this.msgElement.firstChild);\n            \n\t\t\tthis.msgElement.classList.add(this._typeClass());\n            \n\t\t\tif(typeof content === \"function\"){\n\t\t\t\tcontent = content();\n\t\t\t}\n            \n\t\t\tif(content instanceof HTMLElement){\n\t\t\t\tthis.msgElement.appendChild(content);\n\t\t\t}else {\n\t\t\t\tthis.msgElement.innerHTML = content;\n\t\t\t}\n            \n\t\t\tthis.table.element.appendChild(this.element);\n\t\t}\n\t}\n    \n\tclear(){\n\t\tthis.dispatch(\"alert-hide\", this.type);\n\n\t\tif(this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n        \n\t\tthis.msgElement.classList.remove(this._typeClass());\n\t}\n}\n\nclass Tabulator extends ModuleBinder{\n\n\t//default setup options\n\tstatic defaultOptions = defaultOptions;\n\n\tstatic extendModule(){\n\t\tTabulator.initializeModuleBinder();\n\t\tTabulator._extendModule(...arguments);\n\t}\n\n\tstatic registerModule(){\n\t\tTabulator.initializeModuleBinder();\n\t\tTabulator._registerModule(...arguments);\n\t}\n\n\tconstructor(element, options, modules){\n\t\tsuper();\n\n\t\tTabulator.initializeModuleBinder(modules);\n\n\t\tthis.options = {};\n\t\t\n\t\tthis.columnManager = null; // hold Column Manager\n\t\tthis.rowManager = null; //hold Row Manager\n\t\tthis.footerManager = null; //holder Footer Manager\n\t\tthis.alertManager = null; //hold Alert Manager\n\t\tthis.vdomHoz  = null; //holder horizontal virtual dom\n\t\tthis.externalEvents = null; //handle external event messaging\n\t\tthis.eventBus = null; //handle internal event messaging\n\t\tthis.interactionMonitor = false; //track user interaction\n\t\tthis.browser = \"\"; //hold current browser type\n\t\tthis.browserSlow = false; //handle reduced functionality for slower browsers\n\t\tthis.browserMobile = false; //check if running on mobile, prevent resize cancelling edit on keyboard appearance\n\t\tthis.rtl = false; //check if the table is in RTL mode\n\t\tthis.originalElement = null; //hold original table element if it has been replaced\n\t\t\n\t\tthis.componentFunctionBinder = new ComponentFunctionBinder(this); //bind component functions\n\t\tthis.dataLoader = false; //bind component functions\n\t\t\n\t\tthis.modules = {}; //hold all modules bound to this table\n\t\tthis.modulesCore = []; //hold core modules bound to this table (for initialization purposes)\n\t\tthis.modulesRegular = []; //hold regular modules bound to this table (for initialization purposes)\n\t\t\n\t\tthis.deprecationAdvisor = new DeprecationAdvisor(this);\n\t\tthis.optionsList = new OptionsList(this, \"table constructor\");\n\n\t\tthis.dependencyRegistry = new DependencyRegistry(this);\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.destroyed = false;\n\t\t\n\t\tif(this.initializeElement(element)){\n\t\t\t\n\t\t\tthis.initializeCoreSystems(options);\n\t\t\t\n\t\t\t//delay table creation to allow event bindings immediately after the constructor\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._create();\n\t\t\t});\n\t\t}\n\t\t\n\t\tthis.constructor.registry.register(this); //register table for inter-device communication\n\t}\n\t\n\tinitializeElement(element){\n\t\tif(typeof HTMLElement !== \"undefined\" && element instanceof HTMLElement){\n\t\t\tthis.element = element;\n\t\t\treturn true;\n\t\t}else if(typeof element === \"string\"){\n\t\t\tthis.element = document.querySelector(element);\n\t\t\t\n\t\t\tif(this.element){\n\t\t\t\treturn true;\n\t\t\t}else {\n\t\t\t\tconsole.error(\"Tabulator Creation Error - no element found matching selector: \", element);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.error(\"Tabulator Creation Error - Invalid element provided:\", element);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tinitializeCoreSystems(options){\n\t\tthis.columnManager = new ColumnManager(this);\n\t\tthis.rowManager = new RowManager(this);\n\t\tthis.footerManager = new FooterManager(this);\n\t\tthis.dataLoader = new DataLoader(this);\n\t\tthis.alertManager = new Alert(this);\n\t\t\n\t\tthis._bindModules();\n\t\t\n\t\tthis.options = this.optionsList.generate(Tabulator.defaultOptions, options);\n\t\t\n\t\tthis._clearObjectPointers();\n\t\t\n\t\tthis._mapDeprecatedFunctionality();\n\t\t\n\t\tthis.externalEvents = new ExternalEventBus(this, this.options, this.options.debugEventsExternal);\n\t\tthis.eventBus = new InternalEventBus(this.options.debugEventsInternal);\n\t\t\n\t\tthis.interactionMonitor = new InteractionManager(this);\n\t\t\n\t\tthis.dataLoader.initialize();\n\t\tthis.footerManager.initialize();\n\n\t\tthis.dependencyRegistry.initialize();\n\t}\n\t\n\t//convert deprecated functionality to new functions\n\t_mapDeprecatedFunctionality(){\n\t\t//all previously deprecated functionality removed in the 6.0 release\n\t}\n\t\n\t_clearSelection(){\n\t\t\n\t\tthis.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tif (window.getSelection) {\n\t\t\tif (window.getSelection().empty) {  // Chrome\n\t\t\t\twindow.getSelection().empty();\n\t\t\t} else if (window.getSelection().removeAllRanges) {  // Firefox\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t}\n\t\t} else if (document.selection) {  // IE?\n\t\t\tdocument.selection.empty();\n\t\t}\n\t\t\n\t\tthis.element.classList.remove(\"tabulator-block-select\");\n\t}\n\t\n\t//create table\n\t_create(){\n\t\tthis.externalEvents.dispatch(\"tableBuilding\");\n\t\tthis.eventBus.dispatch(\"table-building\");\n\t\t\n\t\tthis._rtlCheck();\n\t\t\n\t\tthis._buildElement();\n\t\t\n\t\tthis._initializeTable();\n\n\t\tthis.initialized = true;\n\t\t\n\t\tthis._loadInitialData()\n\t\t\t.finally(() => {\n\t\t\t\tthis.eventBus.dispatch(\"table-initialized\");\n\t\t\t\tthis.externalEvents.dispatch(\"tableBuilt\");\n\t\t\t});\t\n\t}\n\t\n\t_rtlCheck(){\n\t\tvar style = window.getComputedStyle(this.element);\n\t\t\n\t\tswitch(this.options.textDirection){\n\t\t\tcase\"auto\":\n\t\t\t\tif(style.direction !== \"rtl\"){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"rtl\":\n\t\t\t\tthis.element.classList.add(\"tabulator-rtl\");\n\t\t\t\tthis.rtl = true;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"ltr\":\n\t\t\t\tthis.element.classList.add(\"tabulator-ltr\");\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis.rtl = false;\n\t\t}\n\t}\n\t\n\t//clear pointers to objects in default config object\n\t_clearObjectPointers(){\n\t\tthis.options.columns = this.options.columns.slice(0);\n\t\t\n\t\tif(Array.isArray(this.options.data) && !this.options.reactiveData){\n\t\t\tthis.options.data = this.options.data.slice(0);\n\t\t}\n\t}\n\t\n\t//build tabulator element\n\t_buildElement(){\n\t\tvar element = this.element,\n\t\toptions = this.options,\n\t\tnewElement;\n\t\t\n\t\tif(element.tagName === \"TABLE\"){\n\t\t\tthis.originalElement = this.element;\n\t\t\tnewElement = document.createElement(\"div\");\n\t\t\t\n\t\t\t//transfer attributes to new element\n\t\t\tvar attributes = element.attributes;\n\t\t\t\n\t\t\t// loop through attributes and apply them on div\n\t\t\tfor(var i in attributes){\n\t\t\t\tif(typeof attributes[i] == \"object\"){\n\t\t\t\t\tnewElement.setAttribute(attributes[i].name, attributes[i].value);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// replace table with div element\n\t\t\telement.parentNode.replaceChild(newElement, element);\n\t\t\t\n\t\t\tthis.element = element = newElement;\n\t\t}\n\t\t\n\t\telement.classList.add(\"tabulator\");\n\t\telement.setAttribute(\"role\", \"grid\");\n\t\t\n\t\t//empty element\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\t//set table height\n\t\tif(options.height){\n\t\t\toptions.height = isNaN(options.height) ? options.height : options.height + \"px\";\n\t\t\telement.style.height = options.height;\n\t\t}\n\t\t\n\t\t//set table min height\n\t\tif(options.minHeight !== false){\n\t\t\toptions.minHeight = isNaN(options.minHeight) ? options.minHeight : options.minHeight + \"px\";\n\t\t\telement.style.minHeight = options.minHeight;\n\t\t}\n\t\t\n\t\t//set table maxHeight\n\t\tif(options.maxHeight !== false){\n\t\t\toptions.maxHeight = isNaN(options.maxHeight) ? options.maxHeight : options.maxHeight + \"px\";\n\t\t\telement.style.maxHeight = options.maxHeight;\n\t\t}\n\t}\n\t\n\t//initialize core systems and modules\n\t_initializeTable(){\n\t\tvar element = this.element,\n\t\toptions = this.options;\n\t\t\n\t\tthis.interactionMonitor.initialize();\n\t\t\n\t\tthis.columnManager.initialize();\n\t\tthis.rowManager.initialize();\n\t\t\n\t\tthis._detectBrowser();\n\t\t\n\t\t//initialize core modules\n\t\tthis.modulesCore.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\t//build table elements\n\t\telement.appendChild(this.columnManager.getElement());\n\t\telement.appendChild(this.rowManager.getElement());\n\t\t\n\t\tif(options.footerElement){\n\t\t\tthis.footerManager.activate();\n\t\t}\n\t\t\n\t\tif(options.autoColumns && options.data){\n\t\t\t\n\t\t\tthis.columnManager.generateColumnsFromRowData(this.options.data);\n\t\t}\n\t\t\n\t\t//initialize regular modules\n\t\tthis.modulesRegular.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\tthis.columnManager.setColumns(options.columns);\n\t\t\n\t\tthis.eventBus.dispatch(\"table-built\");\n\t}\n\t\n\t_loadInitialData(){\n\t\treturn this.dataLoader.load(this.options.data)\n\t\t\t.finally(() => {\n\t\t\t\tthis.columnManager.verticalAlignHeaders();\n\t\t\t});\t\t\n\t}\n\t\n\t//deconstructor\n\tdestroy(){\n\t\tvar element = this.element;\n\t\t\n\t\tthis.destroyed = true;\n\t\t\n\t\tthis.constructor.registry.deregister(this); //deregister table from inter-device communication\n\t\t\n\t\tthis.eventBus.dispatch(\"table-destroy\");\n\t\t\n\t\t//clear row data\n\t\tthis.rowManager.destroy();\n\t\t\n\t\t//clear DOM\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\telement.classList.remove(\"tabulator\");\n\n\t\tthis.externalEvents.dispatch(\"tableDestroyed\");\n\t}\n\t\n\t_detectBrowser(){\n\t\tvar ua = navigator.userAgent||navigator.vendor||window.opera;\n\t\t\n\t\tif(ua.indexOf(\"Trident\") > -1){\n\t\t\tthis.browser = \"ie\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Edge\") > -1){\n\t\t\tthis.browser = \"edge\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Firefox\") > -1){\n\t\t\tthis.browser = \"firefox\";\n\t\t\tthis.browserSlow = false;\n\t\t}else if(ua.indexOf(\"Mac OS\") > -1){\n\t\t\tthis.browser = \"safari\";\n\t\t\tthis.browserSlow = false;\n\t\t}else {\n\t\t\tthis.browser = \"other\";\n\t\t\tthis.browserSlow = false;\n\t\t}\n\t\t\n\t\tthis.browserMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(ua.slice(0,4));\n\t}\n\t\n\tinitGuard(func, msg){\n\t\tvar stack, line;\n\t\t\n\t\tif(this.options.debugInitialization && !this.initialized){\n\t\t\tif(!func){\n\t\t\t\tstack = new Error().stack.split(\"\\n\");\n\t\t\t\t\n\t\t\t\tline = stack[0] == \"Error\" ? stack[2] : stack[1];\n\t\t\t\t\n\t\t\t\tif(line[0] == \" \"){\n\t\t\t\t\tfunc = line.trim().split(\" \")[1].split(\".\")[1];\n\t\t\t\t}else {\n\t\t\t\t\tfunc = line.trim().split(\"@\")[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tconsole.warn(\"Table Not Initialized - Calling the \" + func + \" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function.\" + (msg ? \" \" + msg : \"\"));\n\t\t}\n\t\t\n\t\treturn this.initialized;\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\t//block table redrawing\n\tblockRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocking\");\n\t\t\n\t\tthis.rowManager.blockRedraw();\n\t\tthis.columnManager.blockRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocked\");\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-restoring\");\n\n\t\tthis.rowManager.restoreRedraw();\n\t\tthis.columnManager.restoreRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-restored\");\n\t}\n\t\n\t//load data\n\tsetData(data, params, config){\n\t\tthis.initGuard(false, \"To set initial data please use the 'data' property in the table constructor.\");\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, false);\n\t}\n\t\n\t//clear data\n\tclearData(){\n\t\tthis.initGuard();\n\t\t\n\t\tthis.dataLoader.blockActiveLoad();\n\t\tthis.rowManager.clearData();\n\t}\n\t\n\t//get table data array\n\tgetData(active){\n\t\treturn this.rowManager.getData(active);\n\t}\n\t\n\t//get table data array count\n\tgetDataCount(active){\n\t\treturn this.rowManager.getDataCount(active);\n\t}\n\t\n\t//replace data, keeping table in position with same sort\n\treplaceData(data, params, config){\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, true, true);\n\t}\n\t\n\t//update table data\n\tupdateData(data){\n\t\tvar responses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\tresponses++;\n\t\t\t\t\t\t\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\treject(\"Update Error - Unable to update row\", item, e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\treject(\"Update Error - Unable to find row\", item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\taddData(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data){\n\t\t\t\tthis.rowManager.addRows(data, pos, index)\n\t\t\t\t\t.then((rows) => {\n\t\t\t\t\t\tvar output = [];\n\t\t\t\t\t\n\t\t\t\t\t\trows.forEach(function(row){\n\t\t\t\t\t\t\toutput.push(row.getComponent());\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t\tresolve(output);\n\t\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//update table data\n\tupdateOrAddData(data){\n\t\tvar rows = [],\n\t\tresponses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tresponses++;\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(row.getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else {\n\t\t\t\t\t\tthis.rowManager.addRows(item)\n\t\t\t\t\t\t\t.then((newRows)=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(newRows[0].getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//get row object\n\tgetRow(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else {\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//get row object\n\tgetRowFromPosition(position){\n\t\tvar row = this.rowManager.getRowFromPosition(position);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else {\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", position);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//delete row from table\n\tdeleteRow(index){\n\t\tvar foundRows = [];\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(!Array.isArray(index)){\n\t\t\tindex = [index];\n\t\t}\n\t\t\n\t\t//find matching rows\n\t\tfor(let item of index){\n\t\t\tlet row = this.rowManager.findRow(item, true);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\tfoundRows.push(row);\n\t\t\t}else {\n\t\t\t\tconsole.error(\"Delete Error - No matching row found:\", item);\n\t\t\t\treturn Promise.reject(\"Delete Error - No matching row found\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t//sort rows into correct order to ensure smooth delete from table\n\t\tfoundRows.sort((a, b) => {\n\t\t\treturn this.rowManager.rows.indexOf(a) > this.rowManager.rows.indexOf(b) ? 1 : -1;\n\t\t});\n\t\t\n\t\t//delete rows\n\t\tfoundRows.forEach((row) =>{\n\t\t\trow.delete();\n\t\t});\n\t\t\n\t\tthis.rowManager.reRenderInPosition();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\t//add row to table\n\taddRow(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\treturn this.rowManager.addRows(data, pos, index, true)\n\t\t\t.then((rows)=>{\n\t\t\t\treturn rows[0].getComponent();\n\t\t\t});\n\t}\n\t\n\t//update a row if it exists otherwise create it\n\tupdateOrAddRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn row.getComponent();\n\t\t\t\t});\n\t\t}else {\n\t\t\treturn this.rowManager.addRows(data)\n\t\t\t\t.then((rows)=>{\n\t\t\t\t\treturn rows[0].getComponent();\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\t//update row data\n\tupdateRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn Promise.resolve(row.getComponent());\n\t\t\t\t});\n\t\t}else {\n\t\t\tconsole.warn(\"Update Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Update Error - No matching row found\");\n\t\t}\n\t}\n\t\n\t//scroll to row in DOM\n\tscrollToRow(index, position, ifVisible){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn this.rowManager.scrollToRow(row, position, ifVisible);\n\t\t}else {\n\t\t\tconsole.warn(\"Scroll Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Scroll Error - No matching row found\");\n\t\t}\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tvar fromRow = this.rowManager.findRow(from);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromRow){\n\t\t\tfromRow.moveToRow(to, after);\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", from);\n\t\t}\n\t}\n\t\n\tgetRows(active){\n\t\treturn this.rowManager.getComponents(active);\t\n\t}\n\t\n\t//get position of row in table\n\tgetRowPosition(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getPosition();\n\t\t}else {\n\t\t\tconsole.warn(\"Position Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t/////////////// Column Functions  ///////////////\n\tsetColumns(definition){\n\t\tthis.initGuard(false, \"To set initial columns please use the 'columns' property in the table constructor\");\n\t\t\n\t\tthis.columnManager.setColumns(definition);\n\t}\n\t\n\tgetColumns(structured){\n\t\treturn this.columnManager.getComponents(structured);\n\t}\n\t\n\tgetColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tif(column){\n\t\t\treturn column.getComponent();\n\t\t}else {\n\t\t\tconsole.warn(\"Find Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tgetColumnDefinitions(){\n\t\treturn this.columnManager.getDefinitionTree();\n\t}\n\t\n\tshowColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.show();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Show Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\thideColumn(field){\n\t\tvar column = this.columnManager.findColumn(field); \n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.hide();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Hide Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\ttoggleColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tif(column.visible){\n\t\t\t\tcolumn.hide();\n\t\t\t}else {\n\t\t\t\tcolumn.show();\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Column Visibility Toggle Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\taddColumn(definition, before, field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.columnManager.addColumn(definition, before, column)\n\t\t\t.then((column) => {\n\t\t\t\treturn column.getComponent();\n\t\t\t});\n\t}\n\t\n\tdeleteColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.delete();\n\t\t}else {\n\t\t\tconsole.warn(\"Column Delete Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tupdateColumnDefinition(field, definition){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.updateDefinition(definition);\n\t\t}else {\n\t\t\tconsole.warn(\"Column Update Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tvar fromColumn = this.columnManager.findColumn(from),\n\t\ttoColumn = this.columnManager.findColumn(to);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromColumn){\n\t\t\tif(toColumn){\n\t\t\t\tthis.columnManager.moveColumn(fromColumn, toColumn, after);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t\t}\n\t\t}else {\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", from);\n\t\t}\n\t}\n\t\n\t//scroll to column in DOM\n\tscrollToColumn(field, position, ifVisible){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this.columnManager.findColumn(field);\n\t\t\t\n\t\t\tif(column){\n\t\t\t\treturn this.columnManager.scrollToColumn(column, position, ifVisible);\n\t\t\t}else {\n\t\t\t\tconsole.warn(\"Scroll Error - No matching column found:\", field);\n\t\t\t\treturn Promise.reject(\"Scroll Error - No matching column found\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//////////// General Public Functions ////////////\n\t//redraw list without updating data\n\tredraw(force){\n\t\tthis.initGuard();\n\n\t\tthis.columnManager.redraw(force);\n\t\tthis.rowManager.redraw(force);\n\t}\n\t\n\tsetHeight(height){\n\t\tthis.options.height = isNaN(height) ? height : height + \"px\";\n\t\tthis.element.style.height = this.options.height;\n\t\tthis.rowManager.initializeRenderer();\n\t\tthis.rowManager.redraw(true);\n\t}\n\t\n\t//////////////////// Event Bus ///////////////////\n\t\n\ton(key, callback){\n\t\tthis.externalEvents.subscribe(key, callback);\n\t}\n\t\n\toff(key, callback){\n\t\tthis.externalEvents.unsubscribe(key, callback);\n\t}\n\t\n\tdispatchEvent(){\n\t\tvar args = Array.from(arguments);\n\t\targs.shift();\n\t\t\n\t\tthis.externalEvents.dispatch(...arguments);\n\t}\n\n\t//////////////////// Alerts ///////////////////\n\n\talert(contents, type){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.alert(contents, type);\n\t}\n\n\tclearAlert(){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.clear();\n\t}\n\t\n\t////////////// Extension Management //////////////\n\tmodExists(plugin, required){\n\t\tif(this.modules[plugin]){\n\t\t\treturn true;\n\t\t}else {\n\t\t\tif(required){\n\t\t\t\tconsole.error(\"Tabulator Module Not Installed: \" + plugin);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tmodule(key){\n\t\tvar mod = this.modules[key];\n\t\t\n\t\tif(!mod){\n\t\t\tconsole.error(\"Tabulator module not installed: \" + key);\n\t\t}\n\t\t\n\t\treturn mod;\n\t}\n}\n\nvar Tabulator$1 = Tabulator;\n\n//tabulator with all modules installed\n\nclass TabulatorFull extends Tabulator$1 {\n\tstatic extendModule(){\n\t\tTabulator$1.initializeModuleBinder(allModules);\n\t\tTabulator$1._extendModule(...arguments);\n\t}\n\n\tstatic registerModule(){\n\t\tTabulator$1.initializeModuleBinder(allModules);\n\t\tTabulator$1._registerModule(...arguments);\n\t}\n\n\tconstructor(element, options, modules){\n\t\tsuper(element, options, allModules);\n\t}\n}\n\nvar TabulatorFull$1 = TabulatorFull;\n\nclass PseudoRow {\n\n\tconstructor (type){\n\t\tthis.type = type;\n\t\tthis.element = this._createElement();\n\t}\n\n\t_createElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-row\");\n\t\treturn el;\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tgetComponent(){\n\t\treturn false;\n\t}\n\n\tgetData(){\n\t\treturn {};\n\t}\n\n\tgetHeight(){\n\t\treturn this.element.outerHeight;\n\t}\n\n\tinitialize(){}\n\n\treinitialize(){}\n\n\tnormalizeHeight(){}\n\n\tgenerateCells(){}\n\n\treinitializeHeight(){}\n\n\tcalcHeight(){}\n\n\tsetCellHeight(){}\n\n\tclearCellHeight(){}\n\n\trendered(){}\n}\n\nexport { Accessor as AccessorModule, Ajax as AjaxModule, CalcComponent, CellComponent, Clipboard as ClipboardModule, ColumnCalcs as ColumnCalcsModule, ColumnComponent, DataTree as DataTreeModule, Download as DownloadModule, Edit as EditModule, Export as ExportModule, Filter as FilterModule, Format as FormatModule, FrozenColumns as FrozenColumnsModule, FrozenRows as FrozenRowsModule, GroupComponent, GroupRows as GroupRowsModule, History as HistoryModule, HtmlTableImport as HtmlTableImportModule, Import as ImportModule, Interaction as InteractionModule, Keybindings as KeybindingsModule, Menu as MenuModule, Module, MoveColumns as MoveColumnsModule, MoveRows as MoveRowsModule, Mutator as MutatorModule, Page as PageModule, Persistence as PersistenceModule, Popup as PopupModule, Print as PrintModule, PseudoRow, RangeComponent, ReactiveData as ReactiveDataModule, Renderer, ResizeColumns as ResizeColumnsModule, ResizeRows as ResizeRowsModule, ResizeTable as ResizeTableModule, ResponsiveLayout as ResponsiveLayoutModule, RowComponent, SelectRange as SelectRangeModule, SelectRow as SelectRowModule, SheetComponent, Sort as SortModule, Spreadsheet as SpreadsheetModule, Tabulator$1 as Tabulator, TabulatorFull$1 as TabulatorFull, Tooltip as TooltipModule, Validate as ValidateModule };\n//# sourceMappingURL=tabulator_esm.mjs.map\n","\n      import API from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../css-loader/dist/cjs.js!./tabulator.min.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../css-loader/dist/cjs.js!./tabulator.min.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./tabulator.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./tabulator.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { TabulatorFull, EditModule, MoveRowsModule, MoveColumnsModule, Formatter, CellComponent, InteractionModule, EmptyCallback, ValueBooleanCallback, ValueVoidCallback } from 'tabulator-tables';\r\nimport 'tabulator-tables/dist/css/tabulator.min.css';\r\nimport './tabulator.css';\r\n\r\ninterface vscode {\r\n    postMessage(message: any): void;\r\n}\r\n\r\nTabulatorFull.registerModule([EditModule, MoveRowsModule, MoveColumnsModule, InteractionModule]);\r\n\r\nfunction emptyToSpace(value:string){\r\n    return value === null || typeof value === \"undefined\" || value === \"\" ? \"&nbsp;\" : value;\r\n}\r\n\r\nfunction sanitizeHTML(value:string){\r\n    if(value){\r\n        var entityMap:{[key:string]:string} = {\r\n            '&': '&amp;',\r\n            '<': '&lt;',\r\n            '>': '&gt;',\r\n            '\"': '&quot;',\r\n            \"'\": '&#39;',\r\n            '/': '&#x2F;',\r\n            '`': '&#x60;',\r\n            '=': '&#x3D;'\r\n        };\r\n        \r\n        return String(value).replace(/[&<>\"'`=/]/g, function (s) {\r\n            return entityMap[s];\r\n        });\r\n    }else{\r\n        return value;\r\n    }\r\n}\r\n\r\n(function () {\r\n    // @ts-ignore\r\n    const vscode: vscode = acquireVsCodeApi();\r\n    const tableDataElement = document.getElementById('table-data');\r\n    \r\n    if (!tableDataElement) {\r\n        console.error('Element with id \"table-data\" not found');\r\n        return;\r\n    }\r\n\r\n\r\n    const paramLinesElement = document.getElementById('param-lines');\r\n    \r\n    if (!paramLinesElement) {\r\n        console.error('Element with id \"param-lines\" not found');\r\n        return;\r\n    }\r\n\r\n    const paramLines  = JSON.parse(paramLinesElement.textContent || '[]');\r\n\r\n    const customTextAreaFormatter: Formatter = function(cell: CellComponent, formatterParams, onRendered){\r\n\r\n        return emptyToSpace(sanitizeHTML(cell.getValue()))\r\n                .replace(/ /g, '·')\r\n                .replace(/\\n/g, '↵<br>');\r\n\r\n        \r\n    }\r\n\r\n    function showInvisibleChars(str: string): string {\r\n        // преобразуем пробелы и переводы строк\r\n        return str\r\n          .replace(/ /g, \"·\")\r\n          .replace(/\\n/g, \"↵\\n\"); \r\n      }\r\n      \r\n      function hideInvisibleChars(str: string): string {\r\n        // возвращаем обратно реальные пробелы и переводы строк\r\n        return str\r\n          .replace(/·/g, \" \")\r\n          // обратите внимание, что '\\n' на самом деле тоже останется,\r\n          // так как мы записали \"↵\\n\", поэтому нужно сначала убрать \"↵\",\r\n          // потом оставить сам перенос строки\r\n          .replace(/↵/g, \"\");\r\n    }\r\n\r\n\r\n    function customInvisibleEditor(\r\n        cell: CellComponent,\r\n        onRendered: EmptyCallback,\r\n        success: ValueBooleanCallback,\r\n        cancel: ValueVoidCallback,\r\n        editorParams: {}\r\n      ) {\r\n        // Исходное (реальное) значение ячейки\r\n        const originalValue = (cell.getValue() || \"\").toString();\r\n      \r\n        // Создаём <textarea>\r\n        const input = document.createElement(\"textarea\");\r\n        input.style.width = \"100%\";\r\n        input.style.height = \"100%\";\r\n        input.style.resize = \"none\";\r\n        input.style.padding = \"3px\";\r\n        input.style.boxSizing = \"border-box\";\r\n      \r\n        // Показываем «·» вместо пробелов и «↵\\n» вместо \\n\r\n        input.value = showInvisibleChars(originalValue);\r\n      \r\n        // Фокусируем, когда элемент готов\r\n        onRendered(() => {\r\n          input.focus();\r\n        });\r\n      \r\n        // При выходе из фокуса — завершаем (сохраняем)\r\n        input.addEventListener(\"blur\", finishEditing);\r\n\r\n        input.addEventListener(\"copy\", (e: ClipboardEvent) => {\r\n            // Получим границы выделения\r\n            const start = input.selectionStart ?? 0;\r\n            const end = input.selectionEnd ?? 0;\r\n          \r\n            // Если действительно что-то выделено\r\n            if (end > start) {\r\n              // Берём «визуальный» текст из textarea\r\n              const selectedText = input.value.substring(start, end);\r\n          \r\n              // Превращаем обратно в «чистый» текст\r\n              const realText = hideInvisibleChars(selectedText);\r\n          \r\n              // Кладём наш \"очищенный\" текст в буфер обмена\r\n              // (нужно отменить действие по умолчанию, иначе браузер скопирует как есть)\r\n              e.preventDefault();\r\n          \r\n              // В некоторых браузерах clipboardData может быть undefined — проверьте\r\n              // (для безопасности или полифилы). В современном Chrome/Firefox всё работает.\r\n              if (e.clipboardData) {\r\n                e.clipboardData.setData(\"text/plain\", realText);\r\n              }\r\n            }\r\n          });\r\n      \r\n      \r\n        // Специальный флаг для Shift+Enter\r\n        let lastWasEnter = false;\r\n      \r\n        // ---- Обработка нажатий клавиш, преобразование «на лету» ----\r\n        input.addEventListener(\"keydown\", (e) => {\r\n            // Если зажата Ctrl или Meta (Cmd на Mac), пропускаем «на лету» обработку\r\n            if (e.ctrlKey || e.metaKey || e.shiftKey) {\r\n                return;\r\n            }\r\n\r\n          // Сбросим флаг перед каждой клавишей\r\n          lastWasEnter = false;\r\n      \r\n          // Если это Enter\r\n          if (e.key === \"Enter\") {\r\n            lastWasEnter = true;\r\n          }\r\n      \r\n          setTimeout(() => {\r\n            // 1) Текущая позиция курсора\r\n            let pos = input.selectionStart;\r\n      \r\n            // 2) Превращаем «визуалку» (·, ↵) обратно в реальный текст\r\n            const currentInvisible = input.value;\r\n            const realValue = hideInvisibleChars(currentInvisible);\r\n      \r\n            // 3) Снова делаем showInvisibleChars\r\n            let replaced = showInvisibleChars(realValue);\r\n      \r\n            // 4) Если это **НЕ** Shift+Enter, и мы оказались \"за ↵\", — сдвигаем назад\r\n            //    Но если Shift+Enter — наоборот, хотим перейти на новую строку\r\n            if (!lastWasEnter && pos > 0 && replaced[pos - 1] === \"↵\") {\r\n              // «запрещаем» курсор быть за ↵\r\n              pos--;\r\n            } else if (lastWasEnter) {\r\n              // При Shift+Enter добавили реальный \\n в строку, который\r\n              // превратился в \"↵\\n\" = 2 символа\r\n              //\r\n              // Чтобы курсор оказался \"после\" этого \\n, двигаемся ещё на 2 символа,\r\n              // т.е. начинаем следующую строку\r\n              pos += 2;\r\n            }\r\n      \r\n            // 5) Запишем новое значение в <textarea>\r\n            input.value = replaced;\r\n      \r\n            // 6) Проверим выход за границы\r\n            if (pos < 0) pos = 0;\r\n            if (pos > replaced.length) pos = replaced.length;\r\n      \r\n            // 7) Возвращаем курсор\r\n            input.selectionStart = pos;\r\n            input.selectionEnd = pos;\r\n          }, 0);\r\n        });\r\n      \r\n        // ---- Если пользователь кликает мышью или двигает курсор стрелками ----\r\n        // тоже чиним «курсор за ↵», но **не** трогаем, если последнее было Shift+Enter\r\n        // (иначе можем потерять переход на новую строку)\r\n        input.addEventListener(\"mouseup\", () => {\r\n          setTimeout(() => {\r\n            if (!lastWasEnter) {\r\n              fixCursorIfBehindArrow();\r\n            }\r\n          }, 0);\r\n        });\r\n        input.addEventListener(\"keyup\", (e) => {\r\n          setTimeout(() => {\r\n            // Если пользователь не нажал (Shift+Enter), можно «чинить»\r\n            if (!(e.key === \"Enter\" && e.shiftKey)) {\r\n              fixCursorIfBehindArrow();\r\n            }\r\n          }, 0);\r\n        });\r\n      \r\n        function fixCursorIfBehindArrow() {\r\n          // Если выделение есть (selectionStart != selectionEnd), не трогаем\r\n          if (input.selectionStart !== input.selectionEnd) return;\r\n      \r\n          let pos = input.selectionStart;\r\n          const replaced = input.value;\r\n      \r\n          if (pos > 0 && replaced[pos - 1] === \"↵\") {\r\n            pos--;\r\n            if (pos < 0) pos = 0;\r\n            input.selectionStart = pos;\r\n            input.selectionEnd = pos;\r\n          }\r\n        }\r\n      \r\n        // ---- Завершение редактирования ----\r\n        function finishEditing() {\r\n          // Убираем «·» и «↵» => возвращаем обычные пробелы и переносы\r\n          const finalValue = hideInvisibleChars(input.value);\r\n          success(finalValue);\r\n        }\r\n      \r\n        return input;\r\n      }\r\n\r\n    const tableData: any[] = JSON.parse(tableDataElement.textContent || '[]');\r\n    let i = 0;\r\n    // Создаем таблицу с помощью Tabulator\r\n    const table = new TabulatorFull(\"#table\", {\r\n        \r\n        data: tableData,\r\n        resizableColumnFit:true,\r\n        resizableRows:true,\r\n        rowHeader:{\r\n            headerSort:false, resizable: false, minWidth:30, rowHandle:true, formatter:\"rownum\"\r\n        },\r\n        columnDefaults:{\r\n            maxWidth:700,\r\n            editor: /*\"textarea\"*/ customInvisibleEditor,\r\n            headerSort: false,\r\n            formatter: /*\"textarea\" */ customTextAreaFormatter,\r\n            headerContextMenu: \r\n            [\r\n                {\r\n                    label:'<span style=\"color: red;\">DELETE</span>',\r\n                    \r\n                    action:function(e, column){\r\n                        table.deleteColumn(column);\r\n                    }\r\n                },\r\n                {\r\n                    separator:true,\r\n                },\r\n                {\r\n                    \r\n                    label:'<span style=\"color: blue;\">add &larr;</span>',\r\n                    action:function(e, column){\r\n                        i ++;\r\n                        table.addColumn({title: \"new\"+i, field: \"new\"+i}, true, column);\r\n                    }\r\n                },\r\n                {\r\n                    label:'<span style=\"color: blue;\">add &rarr;</span>',\r\n                    action:function(e, column){\r\n                        i ++;\r\n                        table.addColumn({title: \"new\"+i, field: \"new\"+i}, false, column);\r\n                    }\r\n                }\r\n    \r\n            ]\r\n            \r\n        },\r\n        layout: \"fitDataFill\",\r\n        selectable: true,\r\n        movableColumns:true, \r\n        movableRows: true,\r\n        autoResize: true,\r\n        autoColumns:true, \r\n        history:true,  \r\n        headerVisible: true,        \r\n        rowContextMenu: [\r\n            {\r\n                label:'<span style=\"color: red;\">DELETE</span>',\r\n                \r\n                action:function(e, row){\r\n                    table.deleteRow(row);\r\n                }\r\n            },\r\n            {\r\n                separator:true,\r\n            },\r\n            {\r\n\r\n                label:'<span style=\"color: blue;\">add &uarr;</span>',\r\n                action:function(e, row){\r\n                    table.addRow({}, true, row);\r\n                }\r\n            },\r\n            {\r\n                label:'<span style=\"color: blue;\">add &darr;</span>',\r\n                action:function(e, row){\r\n                    table.addRow({}, false, row);\r\n                }\r\n            }\r\n\r\n        ],\r\n        \r\n    });\r\n\r\n    // пересчет размера ячеек\r\n    table.on(\"cellEdited\", function (cell) {\r\n        // cell - объект CellComponent, если нужно\r\n        table.redraw(true); // true - полностью пересчитать всё\r\n      });\r\n      \r\n\r\n    const saveButton = document.getElementById('saveButton');\r\n    if (saveButton) {\r\n        console.log('Save button not found');\r\n        saveButton.addEventListener('click', () => {\r\n            const data = table.getData();\r\n\r\n            let columns = table.getColumnDefinitions(); // Получаем все определения колонок\r\n        let tableData = data.map(row => {\r\n            let rowData : {[key:string]: string} = {};\r\n            let i = 0;\r\n            columns.forEach(col => {\r\n                if (i != 0) {\r\n                    let field = \"col\" + i;\r\n                    rowData[field] = row.hasOwnProperty(col.field) ? (row[col.field!] ?? \"\") : \"\"; // Если ячейка пустая, вставляем пустую строку\r\n                }\r\n                i++;\r\n            });\r\n            return rowData;\r\n        });\r\n        \r\n        vscode.postMessage({ command: 'updateTable', params: paramLines, data: tableData });\r\n        });\r\n    } else {\r\n        console.error('Save button not found');\r\n    }\r\n\r\n\r\n})();\r\n"],"names":["root","factory","exports","module","define","amd","a","i","self","___CSS_LOADER_EXPORT___","push","id","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","definition","key","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","nc","CoreFeature","constructor","table","reloadData","silent","columnsChanged","dataLoader","load","langText","localize","getText","arguments","langBind","bind","langLocale","getLocale","commsConnections","comms","getConnections","commsSend","send","layoutMode","layout","getMode","layoutRefresh","force","subscribe","eventBus","unsubscribe","subscribed","subscriptionChange","dispatch","chain","confirm","dispatchExternal","externalEvents","subscribedExternal","subscriptionChangeExternal","setOption","value","deprecationCheck","oldOption","newOption","convert","deprecationAdvisor","check","deprecationCheckMsg","msg","checkMsg","deprecationMsg","Helpers","elVisible","el","offsetWidth","offsetHeight","elOffset","box","getBoundingClientRect","top","pageYOffset","documentElement","clientTop","left","pageXOffset","clientLeft","retrieveNestedData","separator","field","output","structure","split","deepClone","clone","objectProto","__proto__","arrayProto","assign","Array","isArray","match","copy","subject","findIndex","unshift","Popup$1","Popup","parent","super","container","_lookupContainer","reversedX","childPopup","blurable","blurCallback","blurEventsBound","renderedCallback","visible","hideable","classList","add","blurEvent","hide","escEvent","_escapeCheck","destroyBinding","tableDestroyed","destroyed","popupContainer","console","warn","_checkContainerIsParent","body","renderCallback","callback","containerEventCoords","touch","MouseEvent","x","touches","pageX","y","pageY","parentOffset","elementPositionCoords","position","containerOffset","offset","show","origin","parentEl","coords","HTMLElement","_fitToScreen","addEventListener","stopPropagation","scrollTop","right","Math","max","scrollHeight","parseInt","height","isVisible","hideOnBlur","setTimeout","rowManager","keyCode","blockHide","restoreHide","removeEventListener","child","Module","name","_handler","initialize","registerTableOption","optionsList","register","registerColumnOption","columnManager","registerTableFunction","func","args","initGuard","registerComponentFunction","component","handler","componentFunctionBinder","registerDataHandler","priority","registerDataPipelineHandler","registerDisplayHandler","registerDisplayPipelineHandler","displayRows","adjust","lookupIndex","displayPipeline","getDisplayRows","activeRows","refreshData","renderInPosition","refreshActiveData","footerAppend","footerManager","append","footerPrepend","prepend","footerRemove","popup","menuEl","menuContainer","alert","type","alertManager","clearAlert","clear","defaultAccessors","rownum","params","column","row","getPosition","Accessor","static","allowedTypes","initializeColumn","transformRow","config","forEach","accessor","charAt","toUpperCase","slice","lookupAccessor","accessors","rowComponent","getComponent","traverse","colComponent","getFieldValue","setFieldValue","defaultConfig","method","generateParamsList$1","prefix","serializeParams","encoded","urlBuilder","url","keys","toLowerCase","includes","defaultLoaderPromise","contentType","Promise","resolve","reject","urlGenerator","ajaxContentType","contentTypeFormatters","headers","Accept","mode","location","credentials","fetch","then","response","ok","json","catch","error","status","statusText","generateParamsList","defaultContentTypeFormatters","form","FormData","Ajax","loaderPromise","ajaxRequestFunc","ajaxURLGenerator","defaultURLGenerator","ajaxURL","setUrl","setDefaultConfig","ajaxConfig","getUrl","requestDataCheck","requestParams","requestData","ajaxParams","previousData","generateConfig","sendRequest","ajaxRequesting","ajaxResponse","defaultPasteActions","replace","setData","updateOrAddData","addData","defaultPasteParsers","clipboard","headerFindSuccess","columns","columnMap","rows","find","title","trim","columnsByIndex","shift","extensions$4","keybindings","bindings","copyToClipboard","actions","edit","currentCell","modExists","Clipboard","pasteParser","pasteAction","customSelection","rowRange","blocked","clipboardCopyRowRange","plain","html","preventDefault","clipboardCopyFormatter","export","generateExportList","clipboardCopyConfig","clipboardCopyStyled","generateHTMLTable","generatePlainContent","clipboardData","originalEvent","reset","paste","setPasteParser","clipboardPasteParser","setPasteAction","clipboardPasteAction","rowData","col","getKey","range","internal","sel","textRange","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","selection","createTextRange","moveToElementText","select","execCommand","action","pasteActions","parser","pasteParsers","checkPasteOrigin","getPasteData","mutateData","mutator","valid","tagName","getData","CalcComponent","_row","Proxy","receiver","handle","transform","getElement","getTable","getCells","cells","cell","getCell","_getSelf","CellComponent","_cell","getValue","getOldValue","getInitialValue","initialValue","getRow","getType","getField","getColumn","setValue","mutate","restoreOldValue","setValueActual","restoreInitialValue","checkHeight","Cell","oldValue","width","minWidth","loaded","build","generateElement","setWidth","_configureCell","className","isRowHeader","textAlign","hozAlign","vertAlign","display","alignItems","bottom","middle","justifyContent","center","cssClass","_generateContents","val","innerHTML","Node","cellRendered","containerOnly","layoutElement","setValueProcessData","cellEdited","changed","widthStyled","clearWidth","getWidth","setMinWidth","minWidthStyled","setMaxWidth","maxWidth","maxWidthStyled","reinitializeHeight","clearHeight","setHeight","heightStyled","getHeight","redrawBlock","deleteCell","calcs","getIndex","getCellIndex","ColumnComponent","_column","getDefinition","getTitleDownload","isGroup","toggle","delete","getSubColumns","getParentColumn","getParentComponent","scrollTo","ifVisible","scrollToColumn","move","to","after","toColumn","findColumn","moveColumn","getNextColumn","nextCol","nextColumn","getPrevColumn","prevCol","prevColumn","updateDefinition","updates","reinitializeWidth","rerenderColumns","defaultColumnOptions","Column","def","rowHeader","contentElement","titleHolderElement","titleElement","groupElement","createGroupElement","fieldStructure","titleDownload","titleFormatterRendered","mapDefinitions","setField","maxInitialWidth","widthFixed","newCol","attachColumn","checkColumnVisibility","registerColumnField","_initialize","columnHeaderVertAlign","defaults","columnDefaults","generate","defaultOptionList","checkDefinition","indexOf","nestedFieldSeparator","_getNestedData","_getFlatData","_setNestedData","_setFlatData","registerColumnPosition","reRegisterPosition","headerVertical","_buildColumnHeaderContent","_buildGroupHeader","_buildColumnHeader","headerHozAlign","_buildColumnHeaderTitle","headerWordWrap","editableTitle","focus","text","_formatColumnHeaderTitle","contents","dataObj","columnRendered","verticalAlign","alignment","parentHeight","getGroupElement","clientHeight","getHeadersElement","minHeight","clearVerticalAlign","paddingTop","getFirstColumn","getLastColumn","getColumns","getTopColumn","updateBranches","colDefs","responsiveToggle","verticalAlignHeaders","matchChildWidths","childWidth","initialized","setWidthActual","isNaN","floor","clientWidth","min","checkCellHeights","heightInitialized","offsetParent","clearCellHeight","calcHeight","setCellHeight","getLeftOffset","offsetLeft","ceil","cellCount","deregisterColumn","generateCell","findColumnIndex","_nextVisibleColumn","getColumnByIndex","_prevVisibleColumn","fitToData","setTo","addColumn","getVisibleColumnsByIndex","RowComponent","watchPosition","scrollToRow","moveToRow","updateData","normalizeHeight","reformat","reinitialize","getNextRow","nextRow","getPrevRow","prevRow","Row","manualHeight","outerHeight","positionWatchers","created","create","detachElement","generateCells","inFragment","deleteCells","renderer","renderRowCells","rowFormatter","rerenderRowCells","rendered","deinitialize","deinitializeHeight","children","maxHeight","rowHeight","calcMinHeight","calcMaxHeight","resizableRows","updatedData","newRowData","tempData","parse","attrname","getColumnsByFieldRoot","findCell","nextDisplayRow","prevDisplayRow","before","toRow","findRow","moveRowActual","deleteActual","blockRedraw","detachModules","deleteRow","wipe","isDisplayed","setPosition","getGroup","group","defaultCalculations","values","calcParams","precision","reduce","sum","Number","toFixed","parseFloat","String","filter","ColumnCalcs","topCalcs","botCalcs","genColumn","topElement","botElement","topRow","botRow","topInitialized","botInitialized","recalcAfterBlock","cellValueChanged","initializeColumnCheck","rowsUpdated","scrollHorizontal","recalcActiveRows","recalcActiveRowsRefresh","tableRedraw","visibleRows","adjustForScrollbar","restoreRedraw","resizeHolderWidth","getResults","userRecalc","headersElement","recalc","redraw","blockCheck","viewable","groupBy","recalcRowGroup","dataTreeStartExpanded","dataTree","recalcAll","topCalc","bottomCalc","columnCalcs","topCalcParams","botCalcParams","bottomCalcParams","calculations","initializeTopRow","botCalc","initializeBottomRow","removeCalcs","adjustTableSize","reinitializeCalcs","fragment","createDocumentFragment","getContentsElement","insertBefore","nextSibling","scrollLeft","rowsToData","generateRow","frozenColumns","recalcGroup","groupRows","getRowGroup","getChildGroups","generateRowData","generateTopRow","generateBottomRow","hasDataTreeColumnCalcs","dataTreeChildColumnCalcs","open","getFilteredTreeChildren","dataRow","pos","disable","enable","format","formatter","lookupFormatter","paramKey","hasTopCalcs","hasBottomCalcs","results","getGroups","getGroupResults","groupObj","subGroups","getSubGroups","subGroupResults","subgroup","groups","rtl","paddingLeft","paddingRight","defaultDownloaders","csv","setFileContents","delimiter","fileContents","depth","bom","jsonLines","pdf","jspdfLib","doc","header","autoTableParams","rowGroupStyles","fontStyle","fontSize","cellPadding","fillColor","rowCalcStyles","jsPDFParams","jsPDF","parseRow","styles","colSpan","rowSpan","orientation","unit","dependencyRegistry","lookup","autoTable","didDrawPage","documentProcessing","xlsx","sheetName","XLSXLib","workbook","utils","book_new","tableFeatures","compression","compress","writeOptions","bookType","bookSST","generateSheet","merges","worksheet","s","c","r","b","j","Date","sheet_add_aoa","encode_range","SheetNames","Sheets","sheetOnly","sheets","sheet","active","intercept","buf","ArrayBuffer","view","Uint8Array","charCodeAt","s2ab","write","Download","mimeType","Blob","deprecatedOptionsCheck","download","downloadToTab","filename","interceptCallback","downloadFunc","downloaders","mime","triggerDownload","downloadConfig","downloadRowRange","groupHeader","groupHeaderDownload","indent","_group","getRowCount","newTab","blob","downloadEncoder","URL","createObjectURL","navigator","msSaveOrOpenBlob","click","commsReceived","maskInput","mask","maskLetter","maskLetterChar","maskNumber","maskNumberChar","maskWildcard","maskWildcardChar","fillSymbols","symbol","char","ctrlKey","metaKey","maskAutoFill","placeholder","Edit$1","editor","onRendered","success","cancel","editorParams","_initializeParams","displayItems","currentItems","focusedItem","input","_createInputElement","listEl","_createListElement","initialValues","isFilter","filterTimeout","filtered","typing","listIteration","lastAction","filterTerm","_deprecatedOptionsCheck","_initializeValue","_onRendered","defaultValue","multiselect","headerFilterInitialListGen","cellEl","clickStop","preventScroll","_preventPopupBlur","_preventBlur","_inputKeyDown","_setListWidth","attribs","elementAttributes","clearable","padding","boxSizing","autocomplete","cursor","caretColor","getAttribute","_bindInputEvents","valueCheck","valueKeys","verticalNavigation","placeholderLoading","placeholderEmpty","filterDelay","emptyValue","freetext","filterFunc","filterRemote","allowEmpty","listOnEmpty","valuesLookup","valuesURL","_inputFocus","_inputClick","_inputBlur","_inputSearch","_inputKeyUp","rebuildOptionsList","_filter","clearTimeout","_filterList","_resolveValue","_clearChoices","_keyUp","_keyDown","_keySide","_keyEnter","_keyEsc","_keyHomeEnd","_keyTab","_keySelectLetter","_keyAutoCompLetter","_chooseItem","stopImmediatePropagation","_focusItem","_cancel","_scrollToValue","character","fromCharCode","label","startsWith","scrollIntoView","behavior","block","inline","_generateOptions","_sortOptions","_buildList","_showList","isInteger","_filterOptions","iteration","_ajaxRequest","_uniqueColumnValues","valuesLookupField","_addPlaceholder","responseValues","_parseList","_clearList","term","getColumnByField","_emptyValueCheck","inputValues","entries","_parseListItem","option","level","_parseListGroup","itemParams","selected","original","sorter","sort","_defaultSortFunction","_sortGroup","as","bs","a1","b1","L","rx","rd","emptyAlign","isFinite","test","_defaultFilterFunc","_filterItem","matches","_buildItem","tabIndex","itemFormatter","_groupClick","_itemClick","_styleItem","startVis","blur","defaultEditors","cellValue","search","onChange","selectContents","textarea","vertNav","whiteSpace","resize","heightNow","shiftKey","shiftEnterSubmit","selectionStart","number","step","blurFunc","date","inputFormat","DT","DateTime","luxon","convertDate","isDateTime","fromISO","fromFormat","toFormat","luxDate","toISO","relatedTarget","rangeParent","explicitOriginalTarget","time","newDatetime","luxTime","datetime","luxDateTime","star","maxStars","getElementsByTagName","size","stars","starsHolder","createElementNS","starChange","browser","buildStar","starHolder","nextStar","cloneNode","changeValue","overflow","textOverflow","progress","mouseDrag","mouseDragWidth","percent","bar","updateValue","getComputedStyle","calcVal","round","getPropertyValue","backgroundColor","screenX","tickCross","tristate","indetermValue","indeterminateValue","indetermState","trueValueSet","falseValueSet","marginTop","checkedValue","checked","trueValue","falseValue","indeterminate","adaptable","editorLookup","defaultLookup","paramsLookup","lookupEditor","Edit","mouseClick","recursionBlock","invalidEdit","editedCells","convertEmptyValues","editors","emptyValueCheck","getEditedCells","clearCellEdited","navigatePrev","navigateNext","navigateLeft","navigateRight","navigateUp","navigateDown","cellIsEdited","clearEdited","editCell","cellCancelEdit","bindEditor","updateCellClass","columnDeleteCheck","rowDeleteCheck","rowEditableCheck","cancelEdit","pasteBlocker","keybindingNavigateNext","newRow","addRow","edited","allowEdit","nextCell","findPrevEditableCell","findNextEditableCell","prevCell","convertEmpty","editable","editorEmptyValue","editorEmptyValueFunc","editorFunc","getCurrentCell","clearEditor","variableHeight","cellEditCancelled","button","contains","focusCellNoEvent","forceEdit","focusScrollAdjust","getRenderMode","topEdge","bottomEdge","rowEl","offsetTop","leftEdge","rightEdge","leftMargin","rightMargin","renderHorizontal","vDomPadLeft","cellEditor","editFinished","cellClick","cellEditing","validationMode","transformEmptyValues","checkFunc","mod","editIndex","ExportRow","ExportColumn","columnLookups$1","rowLookups$1","getVisibleRows","all","selectRow","selectedRows","pagination","Export","cloneTableStyle","colVisProp","colVisPropAttach","getHtml","colLookup","columnLookups","columnVisCheck","columnHeaders","headersToExportRows","generateColumnGroupHeaders","bodyToExportRows","rowLookup","generateTable","generateTableElement","rowLookups","columnGroups","colData","processColumnGroup","maxDepth","groupData","subGroup","subGroupData","visProp","rowHeaders","headerDepth","exportRows","parseColumnGroup","rowGroups","exportCols","headerEl","bodyEl","lookupTableStyles","setup","treeElementField","elementField","mapElementStyles","generateHeaderElement","generateGroupElement","generateCalcElement","generateRowElement","evenRow","oddRow","calcRow","firstRow","firstGroup","getElementsByClassName","styleCells","styleRowHeader","firstCell","lastCell","classNames","generator","cellStyle","styleProps","cellWrapper","formatCells","formatExportValue","align","controlEl","branchEl","holder","htmlOutputConfig","from","props","fromStyle","defaultFilters","filterVal","rowVal","filterParams","RegExp","keywords","keyword","matchAll","endsWith","Filter","filterList","headerFilters","headerFilterColumns","prevHeaderFilterChangeCheck","tableInitialized","searchRows","searchData","userSetFilter","userRefreshFilter","userAddFilter","getFilters","userSetHeaderFilterFocus","userGetHeaderFilterValue","userSetHeaderFilterValue","getHeaderFilters","userRemoveFilter","userClearFilter","userClearHeaderFilter","setHeaderFilterFocus","reloadHeaderFilter","getHeaderFilterValue","setHeaderFilterValue","initializeColumnHeaderFilter","hideHeaderFilterElements","showHeaderFilterElements","tableBuilt","generatePlaceholder","filterMode","remoteFilterParams","initialFilter","setFilter","initialHeaderFilter","placeholderHeaderFilter","refreshFilter","addFilter","removeFilter","clearFilter","clearHeaderFilter","headerFilter","filterType","tagType","attrType","filterChangeCheck","prevSuccess","emptyFunc","headerFilterFunc","filters","headerFilterFuncParams","fieldVal","colVal","trackChanges","generateHeaderFilterElement","filterElement","editorElement","typingTimer","searchTrigger","onRenderedCallback","headerElement","headerFilterEmptyCheck","headerFilterParams","headerFilterPlaceholder","contentsElement","headerFilterLiveFilterDelay","hasAttribute","headerFilterLiveFilter","hasChanged","findFilter","findSubFilters","ajax","filtersToArray","searchType","filterRecurse","rowList","activeRowComponents","filterRow","subFilter","defaultFormatters","plaintext","formatterParams","emptyToSpace","sanitizeHTML","money","integer","decimal","rgx","floatVal","sign","decimalSym","thousandSym","thousand","negativeSign","symbolAfter","abs","link","urlPrefix","labelField","labelTraverse","path","urlField","image","src","urlSuffix","empty","truthy","allowTruthy","tick","tickElement","cross","crossElement","outputFormat","invalid","invalidPlaceholder","isValid","timezone","setZone","datetimediff","suffix","humanize","now","diff","toHuman","traffic","percentValue","colors","color","legend","legendColor","legendAlign","barEl","barContainer","legendEl","holderEl","buttonTick","buttonCross","containEl","switchEl","sizePx","onValue","offValue","state","onTruthy","flexDirection","onColor","background","offColor","borderRadius","clickable","relativeToPage","page","getPageSize","getPage","innerText","formatterLookup","array","valueMap","multiline","replacer","Format","formatValue","formatHeader","lookupTypeFormatter","formatterPrint","print","formatterClipboard","formatterHtmlOutput","htmlOutput","formatterFunc","formatters","mockCell","titleFormatter","titleFormatterParams","entityMap","GroupComponent","groupManager","getRows","getParentGroup","toggleVisibility","Group","oldGroup","hasSubGroups","groupIDLookups","_addRowToGroup","_addRow","old","groupList","elementContents","arrowElement","startOpen","createElements","addBindings","createValueGroups","elementsOnly","arrow","movableRows","moveRow","initializeGroupHeader","allowedValues","_createGroup","groupToggleElement","groupID","groupKey","headerGenerator","insertRow","conformRowData","toIndex","updateGroupRows","scrollHeader","marginLeft","getRowIndex","removeRow","groupValues","generateGroupHeaderContents","removeGroup","getHeadersAndRows","_visSet","groupClosedShowCalcs","prev","includeChildren","getPath","childNodes","defaultUndoers","cellEdit","rowAdd","checkPlaceholder","rowDelete","addRowActual","_rebindRow","rowMove","posFrom","posTo","getRowFromPosition","regenerateRowPositions","reRenderInPosition","defaultRedoers","newValue","extensions$3","undo","redo","history","History","cellUpdated","clearComponentHistory","rowDeleted","rowAdded","rowMoved","getHistoryUndoSize","getHistoryRedoSize","undoers","redoers","oldRow","defaultImporters","inQuote","nextChar","workbook2","read","sheet_to_json","Import","importFromFile","importFormat","loadDataCheck","loadData","importData","lookupImporter","structureData","err","importer","importers","extension","importReader","pickFile","validateData","alertError","extensions","accept","file","files","reader","FileReader","validateFile","readAsArrayBuffer","readAsBinaryString","readAsDataURL","readAsText","onload","onerror","alertLoader","parsedData","autoColumns","structureArrayToObject","structureArrayToColumns","transformHeader","importHeaderTransform","transformData","importValueTransform","importFileValidator","importDataValidator","Interaction","eventMap","rowClick","rowDblClick","rowContext","rowMouseEnter","rowMouseLeave","rowMouseOver","rowMouseOut","rowMouseMove","rowMouseDown","rowMouseUp","rowTap","rowDblTap","rowTapHold","cellDblClick","cellContext","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellMouseDown","cellMouseUp","cellTap","cellDblTap","cellTapHold","headerClick","headerDblClick","headerContext","headerMouseEnter","headerMouseLeave","headerMouseOver","headerMouseOut","headerMouseMove","headerMouseDown","headerMouseUp","headerTap","headerDblTap","headerTapHold","groupClick","groupDblClick","groupContext","groupMouseEnter","groupMouseLeave","groupMouseOver","groupMouseOut","groupMouseMove","groupMouseDown","groupMouseUp","groupTap","groupDblTap","groupTapHold","subscribers","touchSubscribers","columnSubscribers","touchWatchers","tap","tapDbl","tapHold","initializeExternalEvents","cellContentsSelectionFixer","clearTouchWatchers","selectNode","subscriptionChanged","added","subscribeTouchEvents","unsubscribeTouchEvents","handleTouch","noTouch","dispatchEvent","watchers","componentObj","defaultBindings","navPrev","navNext","navUp","navDown","navLeft","navRight","scrollPageUp","scrollPageDown","scrollToStart","scrollToEnd","defaultActions","keyBlock","newPos","displayRowsCount","scrollMax","Keybindings","watchKeys","pressedKeys","keyupBinding","keydownBinding","mergedBindings","mapBindings","bindEvents","clearBindings","binding","mapBinding","symbolsList","ctrl","meta","code","checkBinding","MoveColumns","placeholderElement","createPlaceholderElement","hoverElement","checkTimeout","checkPeriod","moving","toCol","toColAfter","startX","autoScrollMargin","autoScrollStep","autoScrollTimeout","touchMove","moveHover","endMove","movableColumns","abortMove","colEl","frozen","mousemove","which","startMove","bindTouchEvents","nextColWidth","prevColWidth","nextColWidthLast","prevColWidthLast","startXMove","passive","moveToCol","selectRange","columnSelection","mousedown","selecting","_bindMouseMove","_unbindMouseMove","movingCells","moveColumnActual","scrollPos","columnHolder","xPos","defaultSenders","fromRow","toTable","defaultReceivers","fromTable","MoveRows","toRowAfter","hasHandle","startY","tableRowDropEvent","connection","connectionSelectorsTables","connectionSelectorsElements","connectionElements","connections","connectedTable","connectedRow","movableRowsConnectedTables","movableRowsConnectedElements","initializeCell","initializeRow","mouseup","tableRowDrop","previousSibling","rowHandle","nextRowHeight","prevRowHeight","nextRowHeightLast","prevRowHeightLast","startYMove","setStartPosition","connectToTables","pointerEvents","getTableElement","disconnectFromTables","moveHoverConnections","moveHoverTable","rowHolder","yPos","elementRowDrop","connectionTables","query","querySelectorAll","dropEvent","tabulatorElementDropEvent","connect","disconnect","dropComplete","sender","movableRowsSender","senders","movableRowsReceiver","receivers","defaultMutators","Mutator","enabled","transformCell","mutateLink","rowDataChanged","lookupMutator","mutators","mutatorEdit","links","linkCell","defaultPageCounters","pageSize","currentRow","currentPage","totalRows","totalPages","showingEl","valueEl","ofEl","totalEl","rowsEl","pages","Page","progressiveLoad","pageCounterElement","pageCounter","remoteRowCountEstimate","initialLoad","dataChanging","pageSizes","setMaxPage","setPage","userSetPageToRow","userSetPageSize","previousPage","nextPage","getPageMax","setPageToRow","initialLoadComplete","calculatePageSizes","footerRedraw","paginationAddRow","rowAddingPosition","paginationMode","remotePageParams","_parseRemoteData","restOnRenderBefore","initializePageCounter","initializePaginator","initializeProgressive","scrollVertical","testElRow","testElCell","paginationSize","visibility","generatePageSizeSelectList","setPageSize","dir","loading","progressiveLoadScrollMargin","pagesElement","firstBut","prevBut","nextBut","lastBut","paginationSizeSelector","pageSizeSelect","itemEl","counter","paginationCounter","pageCounters","hidden","pageSelectLabel","paginationCounterHolder","paginationElement","paginationCounterElement","paginationInitialPage","paginationButtonCount","setMaxRows","rowCount","trigger","_setPageCounter","_setPageButtons","leftSize","rightSize","disabled","_generatePageButton","textContent","start","end","actualStartRow","actualRowPageSize","actualRows","finally","margin","paginationOutOfRange","last_page","last_row","addRows","progressiveLoadDelay","footer","containerElement","scrollWidth","defaultReaders","local","localStorage","getItem","cookie","cookiePos","defaultWriters","setItem","expireDate","setDate","getDate","toUTCString","Persistence","defWatcherBlock","readFunc","writeFunc","localStorageTest","testKey","removeItem","persistence","retrievedData","persistenceMode","persistenceID","persistenceReaderFunc","readers","persistenceWriterFunc","writers","retrieveData","groupStartOpen","save","eventSave","getColumnLayout","setColumnLayout","sorters","initialSort","parseColumns","setColumns","mergeDefinition","getOwnPropertyDescriptor","set","current","oldCols","newCols","mergeAllNew","_findColumn","validateSorters","getSort","getGroupConfig","getPageConfig","definitions","excludedKeys","defStore","colDef","extensions$2","responsiveCollapse","responsiveLayout","toggleList","isOpen","collapseEl","extensions$1","rowSelection","checkbox","selectableRowsRangeMode","toggleSelect","handleComplexRowClick","isSelected","registerRowSelectCheckbox","deselectRow","registerHeaderSelectCheckbox","RangeComponent","_range","getStructuredCells","getBounds","getTopEdge","getBottomEdge","getLeftEdge","getRightEdge","setBounds","destroyedGuard","setStartBound","setEndBound","rangeManager","clearValues","destroy","Range","initializing","initElement","initBounds","_updateMinMax","setStart","setEnd","rowsCount","_getTableRows","_getTableColumns","topLeftCell","bottomRightCell","topLeftCellEl","bottomRightCellEl","topLeftRowEl","bottomRightRowEl","_vDomTop","vDomTop","_vDomBottom","vDomBottom","_vDomLeft","leftCol","_vDomRight","rightCol","Infinity","overlaps","atTopLeft","atBottomRight","occupies","occupiesRow","occupiesColumn","structured","arr","clearValue","selectableRangeClearCellsValue","notify","rangeRemoved","rangeJumpUp","rangeJumpDown","rangeJumpLeft","rangeJumpRight","rangeExpandUp","rangeExpandDown","rangeExpandLeft","rangeExpandRight","rangeExpandJumpUp","rangeExpandJumpDown","rangeExpandJumpLeft","rangeExpandJumpRight","bounds","startCell","startRow","rowWidth","dataLength","activeRange","singleCell","colWidth","startCol","itemLength","selectedColumns","aRow","bRow","alignEmptyValues","defaultSorters","decimalSeparator","thousandSeparator","string","locale","localeCompare","boolean","calc","exists","alphanum","Sort","sortList","userSetSort","clearSort","sortMode","remoteSortParams","setSort","refreshSort","arrowEl","sorterParams","startingDir","headerSortStartingDir","headerSortTristate","headerSort","headerSortClickElement","headerSortElement","setColumnHeaderSortIcon","columnHeaderSortMulti","newSortList","findSorter","sortOnly","sortOrderReverse","reverse","sortListActual","rowComponents","clearColumnHeaders","sortObj","setColumnHeader","_sortItems","getRealColumns","sortEl","sorterCount","sortItem","_sortRow","el1Comp","el2Comp","el1","el2","GridCalculator","columnCount","columnString","genColumns","colCount","incrementChar","genRows","setRowCount","setColumnCount","SheetComponent","_sheet","getTitle","setTitle","setRows","Sheet","spreadsheetManager","isActive","grid","defaultColumnDefinition","columnDefinition","columnDefs","rowDefs","columnFields","initializeElement","initializeColumns","initializeRows","loadSheet","ref","refs","unload","wasInactive","full","rowWidths","outputWidth","outputHeight","findLastIndex","removeSheet","defaultValidators","parameters","float","numeric","alphanumeric","starts","ends","minLength","maxLength","in","regex","unique","cellData","required","Validate","invalidCells","getInvalidCells","userClearCellValidation","userValidate","cellIsValid","clearValidation","cellValidate","columnValidate","rowValidate","editValidate","editorClear","editedClear","previousValue","validate","cancelled","validator","_extractValidator","substring","_buildValidator","validators","failedValidators","invalidIndex","allModules","freeze","AccessorModule","AjaxModule","ClipboardModule","ColumnCalcsModule","DataTreeModule","expandEl","collapseRow","expandRow","toggleRow","getTreeParent","getRowChildren","addTreeChildRow","isRowExpanded","dummyEl","dataTreeChildField","dataTreeChildIndent","dataTreeBranchElement","dataTreeCollapseElement","dataTreeExpandElement","layoutRow","columnMoving","initializeElementField","tableRedrawing","reinitializeRowChildren","firstCol","getFirstVisibleColumn","dataTreeElementColumn","getTreeChildren","redrawNeeded","childArray","generateControlElement","marginRight","oldControl","replaceChild","getChildren","allChildren","generateChildren","dataTreeFilter","dataTreeSort","sub","childData","childRow","getTreeParentRoot","childIndex","findChildIndex","recurse","getChildField","DownloadModule","EditModule","ExportModule","FilterModule","FormatModule","FrozenColumnsModule","leftColumns","rightColumns","initializationMode","layoutCell","reinitializeColumns","blockLayout","unblockLayout","edge","frozenCheck","layoutCalcRows","layoutGroupCalcs","layoutColumnPosition","allCells","leftParents","marginValue","getColGroupParentElement","reinitializeRows","getFrozenColumns","_calcSpace","FrozenRowsModule","freezeRow","unfreezeRow","isRowFrozen","detachRow","frozenRows","rowType","isFrozen","styleRows","styleRow","GroupRowsModule","displayHandler","setGroupBy","setGroupValues","setGroupStartOpen","setGroupHeader","userGetGroups","userGetGroupedData","rowGetGroup","_blockRedrawing","_restore_redrawing","groupUpdateOnCellEdit","reassignRowToGroup","configureGroupSetup","rowDeleting","scrollHeaders","rowMoving","rowAddingIndex","rowSample","virtualRenderFill","langValue","lang","items","lookupFunc","prevValue","tableElement","assignRowToGroup","moveRowInArray","getGroupedData","toGroup","fromGroup","generateGroups","groupComponents","pullGroupListData","groupListData","headerContent","countGroups","oldGroups","createGroup","assignRowToExistingGroup","newGroupNeeded","oldRowGroup","oldGroupPath","newGroupPath","getExpectedPath","every","groupPath","groupId","checkBasicModeGroupHeaderWidth","onlyGroupHeaders","HistoryModule","HtmlTableImportModule","fieldIndex","hasIndex","tableElementCheck","originalElement","parseTable","_extractOptions","_extractHeaders","_generateBlankHeaders","defaultOptions","optionsArr","attrib","_attribValue","_findCol","replaceAll","registeredDefaults","ImportModule","InteractionModule","KeybindingsModule","MenuModule","nestedMenuBlock","currentComponent","rootPopup","initializeRowWatchers","initializeGroupWatchers","rowContextMenu","loadMenuEvent","on","rowClickMenu","rowDblClickMenu","groupContextMenu","groupClickMenu","groupDblClickMenu","headerContextMenu","loadMenuTableColumnEvent","headerClickMenu","headerDblClickMenu","headerMenu","initializeColumnHeaderMenu","contextMenu","loadMenuTableCellEvent","clickMenu","dblClickMenu","headerMenuEl","icon","headerMenuIcon","menu","loadMenu","parentPopup","MoveColumnsModule","MoveRowsModule","MutatorModule","PageModule","PersistenceModule","PopupModule","_componentPopupCall","loadPopupEvent","rowContextPopup","rowClickPopup","rowDblClickPopup","groupContextPopup","groupClickPopup","groupDblClickPopup","headerContextPopup","loadPopupTableColumnEvent","headerClickPopup","headerDblClickPopup","headerPopup","initializeColumnHeaderPopup","contextPopup","loadPopupTableCellEvent","clickPopup","dblClickPopup","headerPopupEl","headerPopupIcon","loadPopup","contentsEl","PrintModule","manualBlock","beforeprintEventHandler","afterprintEventHandler","printAsHtml","replaceTable","cleanup","printFullscreen","printConfig","printStyled","printRowRange","footerContent","scrollX","scrollY","footerEl","tableEl","printHeader","printFooter","printFormatter","ReactiveDataModule","origFuncs","currentVersion","reactiveData","unblock","watchRow","watchData","unwatchData","version","configurable","arg","getRowFromDataObject","pop","newRows","oldRows","writable","watchKey","watchTreeChildren","childField","rebuildTree","unwatchRow","ResizeColumnsModule","startColumn","startWidth","latestX","initialNextColumn","layoutColumnHeader","initializeEventWatchers","layoutCellHandles","deInitializeComponent","resizeHandle","columnLayoutUpdated","deInitializeColumn","columnWidthUpdated","resizable","reinitializeColumn","frozenColumnOffset","frozenOffset","handleEl","nearestColumn","_checkResizability","handleDown","_mouseDown","oldWidth","parentElement","blockedBefore","blockedAfter","clientX","startDiff","moveDiff","resizableColumnFit","browserSlow","calcGuidePosition","mouseX","handleX","tableX","columnX","mouseDiff","guideEl","mouseMove","resizableColumnGuide","mouseUp","ResizeRowsModule","startHeight","prevHandle","prevHandleDown","screenY","mouseY","handleY","tableY","rowY","resizableRowGuide","ResizeTableModule","visibilityObserver","resizeObserver","containerObserver","tableHeight","tableWidth","containerHeight","containerWidth","autoResize","initialRedraw","tableStyle","IntersectionObserver","ResizeObserver","initializeVisibilityObserver","entry","browserMobile","nodeHeight","contentRect","nodeWidth","redrawTable","observe","fixedHeight","tableResized","isIntersecting","unobserve","ResponsiveLayoutModule","hiddenColumns","collapseFormatter","collapseStartOpen","collapseHandleColumn","updateColumnVisibility","initializeResponsivity","generateCollapsedRowContent","responsiveLayoutCollapseFormatter","formatCollapsedData","responsiveLayoutCollapseStartOpen","responsive","order","generateCollapsedContent","hideColumn","showColumn","working","getFlexBaseWidth","headerVisible","activeRowsCount","renderEmptyScroll","generateCollapsedRowData","mockCellComponent","responsiveLayoutCollapseUseFormatters","node_content","titleData","valueData","titleHighlight","SelectRangeModule","ranges","overlay","layoutChangeTimeout","maxRanges","blockKeydown","keyDownEvent","_handleKeyDown","mouseUpEvent","_handleMouseUp","getRangesData","getRanges","addRangeFromComponent","cellGetRanges","rowGetRanges","colGetRanges","initializeTable","initializeWatchers","rangeContainer","activeRangeCellElement","resetRanges","handleColumnMouseDown","handleColumnMouseMove","handleColumnResized","handleColumnMoving","handleColumnMoved","layoutChange","updateHeaderColumn","renderCell","handleCellMouseDown","handleCellMouseMove","handleCellClick","handleEditingCell","finishEditingCell","restoreFocus","keyNavigate","keyNavigateRange","frozenCols","getActiveCell","initializeFocus","some","selectedColumn","_event","_to","_after","event","newSelection","rangeIdx","dataset","navigate","jump","expand","rangeEdge","prevRect","rowRect","rowManagerRect","columnRect","columnManagerRect","findJumpCellLeft","findJumpCellRight","findJumpCellUp","findJumpCellDown","getTableColumns","getTableRows","getRowByRangePos","getColumnByRangePos","autoScroll","getRowHeaderWidth","removed","findJumpRow","emptyStart","emptySide","findJumpItem","findJumpCol","valueResolver","nextItem","currentItem","currentValue","rowPos","colPos","isStartingCellEmpty","isEmpty","isLeftOfStartingCellEmpty","targetCols","jumpCol","isRightOfStartingCellEmpty","isTopOfStartingCellEmpty","jumpRow","isBottomOfStartingCellEmpty","rect","withinVerticalView","tableHolder","scrollbarWidth","layoutRanges","layoutColumn","occupied","activeCell","activeCellEl","activeRowEl","rowIdx","colIdx","visibleCells","SelectRowModule","lastClickedRow","selectPrev","headerCheckboxElement","selectRows","deselectRows","getSelectedRows","getSelectedData","isRowSelected","selectableRows","selectableRange","clearSelectionData","rowRetrieve","selectableRowsPersistence","_deselectRow","prevSelected","_rowSelectionChanged","selectable","checkRowSelectability","endSelect","_clearSelection","lastClickedRowIdx","getDisplayRowIndex","fromRowIdx","toRowIdx","toggledRows","toggledRow","selectableRowsCheck","_selectRow","rowMatch","change","changes","rowInfo","selectableRowsRollingSelection","checkboxEl","dataTreeSelectPropagate","childRowSelection","selectedRow","deselected","SortModule","SpreadsheetModule","setSheets","addSheet","getSheets","getSheetDefinitions","setSheetData","getSheet","getSheetData","clearSheet","removeSheetFunc","activeSheetFunc","loadRemoteData","spreadsheetData","compatibilityCheck","initializeTabset","altContainer","loadSheets","data1","data2","log","newSheet","destroySheets","activeSheet","prevSheet","lookupSheet","TooltipModule","tooltipSubscriber","headerSubscriber","timeout","popupInstance","headerTooltip","mousemoveCheck","mouseoutCheck","tooltip","clearPopup","loadTooltip","tooltipDelay","ValidateModule","debugEventsExternal","debugEventsInternal","debugInvalidOptions","debugInvalidComponentFuncs","debugInitialization","debugDeprecation","autoColumnsDefinitions","footerElement","textDirection","addRowPos","renderVertical","renderVerticalBuffer","scrollToRowPosition","scrollToRowIfVisible","scrollToColumnPosition","scrollToColumnIfVisible","rowFormatterPrint","rowFormatterClipboard","rowFormatterHtmlOutput","dataLoaderLoading","dataLoaderError","dataLoaderErrorTimeout","dataSendParams","dataReceiveParams","dependencies","OptionsList","msgType","userOptions","Renderer","elementVertical","elementHorizontal","verticalFillMode","clearRows","clearColumns","reinitializeColumnWidths","renderRows","renderColumns","rerenderRows","scrollColumns","scrollRows","scrollToRowNearestTop","includingBuffer","render","rerender","rowIndex","BasicHorizontal","rowFrag","VirtualDomHorizontal","vDomScrollPosLeft","vDomScrollPosRight","vDomPadRight","fitDataColAvg","windowBuffer","isFitData","layoutCheck","vertScrollListen","clearVisRowCache","dataChange","scroll","calcWindowBuffer","buffer","cols","leftPos","rightPos","fitDataCheck","vdomHoz","reinitChanged","reinitializeRow","colEnd","otherRows","addColRight","removeColLeft","addColLeft","removeColRight","colPositionAdjust","fitDataColActualWidthCheck","ex","message","newWidth","widthDiff","appendCell","ColumnManager","blockHozScrollEvent","columnsByField","redrawBlockUpdate","initializeRenderer","createHeadersElement","createHeaderContentsElement","createHeaderElement","initializeScrollWheelWatcher","padVerticalScrollbar","renderClass","renderers","deltaX","generateColumnsFromRowData","collProgress","calculateSorterFromValue","_addColumn","_reIndexColumns","getComponents","nextToColumn","topColumn","parentIndex","nextEl","getDefinitions","getDefinitionTree","_moveColumnInArray","updateRows","fromIndex","totalWidth","fixedWidth","resetScroll","BasicVertical","tableFrag","tableEmpty","rowTop","VirtualDomVertical","vDomRowHeight","vDomScrollPosTop","vDomScrollPosBottom","vDomTopPad","vDomBottomPad","vDomMaxRenderChain","vDomWindowBuffer","vDomWindowMinTotalRows","vDomWindowMinMarginRows","vDomTopNewRows","vDomBottomNewRows","paddingBottom","_virtualRenderFill","topOffset","topDiff","bottomDiff","_addTopRow","vDomScrollHeight","_removeBottomRow","_addBottomRow","_removeTopRow","topFound","bottomRow","forceMove","rowFragment","topPad","rowsHeight","heightOccupied","topPadHeight","renderedRows","totalRowsRendered","rowsToRender","avgRowHeight","resized","fillableSpace","addedRows","paddingAdjust","_quickNormalizeRowHeight","removableRows","RowManager","createHolderElement","createTableElement","heightFixer","placeholderContents","firstRender","renderMode","activeRowsPipeline","redrawBlockRestoreConfig","redrawBlockRenderInPosition","dataPipeline","initializePlaceholder","leftDir","topDir","_positionPlaceholder","_setDataActual","_wipeElements","allIndex","activeIndex","setActiveRows","displayRowIterator","displayIndex","refreshDisplayOnly","findAddRowPos","_clearPlaceholder","chainResult","clearData","findRowIndex","rowOnly","getDataCount","skipStage","stage","cascadeOrder","refreshPipelines","renderTable","layoutColumnsOnNewData","resetDisplayRows","setDisplayRows","scrollBarCheck","_clearTable","_showPlaceholder","initialHeight","otherHeight","external","createEvent","initEvent","Event","FooterManager","createContainerElement","activate","deactivate","InteractionManager","abortClasses","previousTargets","listeners","componentMap","pseudoTrackers","subscriber","pseudoTracking","buildListenerMap","bindSubscriptionWatchers","listenerMap","listener","components","bindPseudoEvents","pseudoMouseEnter","pseudoMouseLeave","leaveList","linkedKeys","comp","clearWatchers","updateEventListeners","track","composedPath","targets","findTargets","bindComponents","triggerEvents","elTargets","targetMatches","previousTarget","closest","ComponentFunctionBinder","funcName","DataLoader","requestOrder","requestNo","mapParams","objectInvert","blockActiveLoad","ExternalEventBus","debug","events","subscriptionNotifiers","_debugDispatch","_dispatch","_notifySubscriptionChange","notifiers","callResult","InternalEventBus","_debugChain","_chain","_debugConfirm","_confirm","fallback","confirmed","DeprecationAdvisor","_warnUser","DependencyRegistry","deps","lookupProp","lookupKey","dependency","fitDataGeneral","forced","defaultModes","fitData","fitDataFill","fitDataTable","fitDataStretch","colsWidth","gap","lastCol","fitColumns","flexColWidth","overflowWidth","flexWidth","flexGrowUnits","flexColumns","fixedShrinkColumns","flexShrinkUnits","gapFill","calcWidth","scaleColumns","freeSpace","shrinkCols","oversizeCols","oversizeSpace","remainingSpace","remainingFlexGrowUnits","changeUnits","undersizeCols","calcGrow","widthGrow","calcShrink","widthShrink","Layout","modes","dataChanged","defaultLangs","Localize","langList","langs","setHeaderFilterPlaceholder","installLang","setLocale","getLang","default","_setLangProp","desiredLocale","language","traverseLang","trans","_executeBindings","pathArray","_getLangElement","rootPath","coreModules","CommsModule","receive","selectors","registry","lookupTable","con","tableComms","LayoutModule","LocalizeModule","TableRegistry","tables","deregister","matchElement","findTable","ModuleBinder","initializeModuleBinder","defaultModules","modulesRegistered","_registerModules","_extendModule","property","moduleBindings","source","core","mods","moduleCore","_registerModule","_registerModuleBinding","_registerModuleExtensions","moduleName","moduleExtensions","modKey","ext","propKey","_extendModuleFromQueue","_bindModules","orderedStartMods","orderedEndMods","unOrderedMods","modulesCore","moduleInitOrder","modulesRegular","Alert","_createAlertElement","msgElement","_createMsgElement","_typeClass","Tabulator","extendModule","registerModule","interactionMonitor","initializeCoreSystems","_create","_clearObjectPointers","_mapDeprecatedFunctionality","_rtlCheck","_buildElement","_initializeTable","_loadInitialData","direction","newElement","_detectBrowser","ua","userAgent","vendor","opera","stack","line","replaceData","responses","foundRows","updateOrAddRow","updateRow","getRowPosition","getColumnDefinitions","toggleColumn","deleteColumn","updateColumnDefinition","fromColumn","off","plugin","Tabulator$1","TabulatorFull$1","locals","vscode","acquireVsCodeApi","tableDataElement","getElementById","paramLinesElement","paramLines","showInvisibleChars","str","hideInvisibleChars","tableData","originalValue","finalValue","selectionEnd","realText","lastWasEnter","fixCursorIfBehindArrow","replaced","saveButton","postMessage","command"],"sourceRoot":""}